var h0=t=>{throw TypeError(t)};var yf=(t,e,n)=>e.has(t)||h0("Cannot "+n);var M=(t,e,n)=>(yf(t,e,"read from private field"),n?n.call(t):e.get(t)),ae=(t,e,n)=>e.has(t)?h0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ee=(t,e,n,r)=>(yf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ge=(t,e,n)=>(yf(t,e,"access private method"),n);var qu=(t,e,n,r)=>({set _(s){ee(t,e,s,n)},get _(){return M(t,e,r)}});function DP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function V1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L1={exports:{}},nh={},F1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),OP=Symbol.for("react.portal"),MP=Symbol.for("react.fragment"),jP=Symbol.for("react.strict_mode"),VP=Symbol.for("react.profiler"),LP=Symbol.for("react.provider"),FP=Symbol.for("react.context"),UP=Symbol.for("react.forward_ref"),$P=Symbol.for("react.suspense"),BP=Symbol.for("react.memo"),zP=Symbol.for("react.lazy"),f0=Symbol.iterator;function HP(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$1=Object.assign,B1={};function da(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||U1}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z1(){}z1.prototype=da.prototype;function pg(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||U1}var mg=pg.prototype=new z1;mg.constructor=pg;$1(mg,da.prototype);mg.isPureReactComponent=!0;var p0=Array.isArray,H1=Object.prototype.hasOwnProperty,gg={current:null},W1={key:!0,ref:!0,__self:!0,__source:!0};function q1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)H1.call(e,r)&&!W1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:du,type:t,key:i,ref:o,props:s,_owner:gg.current}}function WP(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vg(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function qP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qP(""+t.key):e.toString(36)}function Sc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case du:case OP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wf(o,0):r,p0(s)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),Sc(s,e,n,"",function(c){return c})):s!=null&&(vg(s)&&(s=WP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(m0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",p0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+wf(i,a);o+=Sc(i,e,n,u,s)}else if(u=HP(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+wf(i,a++),o+=Sc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ku(t,e,n){if(t==null)return t;var r=[],s=0;return Sc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function KP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Cc={transition:null},QP={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:gg};function K1(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Ku,forEach:function(t,e,n){Ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ku(t,function(){e++}),e},toArray:function(t){return Ku(t,function(e){return e})||[]},only:function(t){if(!vg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=da;we.Fragment=MP;we.Profiler=VP;we.PureComponent=pg;we.StrictMode=jP;we.Suspense=$P;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP;we.act=K1;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=gg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)H1.call(e,u)&&!W1.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:du,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:FP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LP,_context:t},t.Consumer=t};we.createElement=q1;we.createFactory=function(t){var e=q1.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:UP,render:t}};we.isValidElement=vg;we.lazy=function(t){return{$$typeof:zP,_payload:{_status:-1,_result:t},_init:KP}};we.memo=function(t,e){return{$$typeof:BP,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Cc.transition;Cc.transition={};try{t()}finally{Cc.transition=e}};we.unstable_act=K1;we.useCallback=function(t,e){return Zt.current.useCallback(t,e)};we.useContext=function(t){return Zt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Zt.current.useEffect(t,e)};we.useId=function(){return Zt.current.useId()};we.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Zt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};we.useRef=function(t){return Zt.current.useRef(t)};we.useState=function(t){return Zt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Zt.current.useTransition()};we.version="18.3.1";F1.exports=we;var v=F1.exports;const Y=V1(v),Q1=DP({__proto__:null,default:Y},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=v,YP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),JP=Object.prototype.hasOwnProperty,ZP=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function G1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JP.call(e,r)&&!eR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:YP,type:t,key:i,ref:o,props:s,_owner:ZP.current}}nh.Fragment=XP;nh.jsx=G1;nh.jsxs=G1;L1.exports=nh;var f=L1.exports,Y1={exports:{}},En={},X1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var K=j.length;j.push($);e:for(;0<K;){var H=K-1>>>1,Q=j[H];if(0<s(Q,$))j[H]=$,j[K]=Q,K=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],K=j.pop();if(K!==$){j[0]=K;e:for(var H=0,Q=j.length,X=Q>>>1;H<X;){var fe=2*(H+1)-1,be=j[fe],le=fe+1,se=j[le];if(0>s(be,K))le<Q&&0>s(se,be)?(j[H]=se,j[le]=K,H=le):(j[H]=be,j[fe]=K,H=fe);else if(le<Q&&0>s(se,K))j[H]=se,j[le]=K,H=le;else break e}}return $}function s(j,$){var K=j.sortIndex-$.sortIndex;return K!==0?K:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,h=3,y=!1,b=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function A(j){if(w=!1,T(j),!b)if(n(u)!==null)b=!0,J(O);else{var $=n(c);$!==null&&F(A,$.startTime-j)}}function O(j,$){b=!1,w&&(w=!1,x(C),C=-1),y=!0;var K=h;try{for(T($),p=n(u);p!==null&&(!(p.expirationTime>$)||j&&!k());){var H=p.callback;if(typeof H=="function"){p.callback=null,h=p.priorityLevel;var Q=H(p.expirationTime<=$);$=t.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(u)&&r(u),T($)}else r(u);p=n(u)}if(p!==null)var X=!0;else{var fe=n(c);fe!==null&&F(A,fe.startTime-$),X=!1}return X}finally{p=null,h=K,y=!1}}var V=!1,I=null,C=-1,R=5,S=-1;function k(){return!(t.unstable_now()-S<R)}function D(){if(I!==null){var j=t.unstable_now();S=j;var $=!0;try{$=I(!0,j)}finally{$?N():(V=!1,I=null)}}else V=!1}var N;if(typeof g=="function")N=function(){g(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=D,N=function(){ie.postMessage(null)}}else N=function(){E(D,0)};function J(j){I=j,V||(V=!0,N())}function F(j,$){C=E(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,J(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var K=h;h=$;try{return j()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return $()}finally{h=K}},t.unstable_scheduleCallback=function(j,$,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,j){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,j={id:d++,callback:$,priorityLevel:j,startTime:K,expirationTime:Q,sortIndex:-1},K>H?(j.sortIndex=K,e(c,j),n(u)===null&&j===n(c)&&(w?(x(C),C=-1):w=!0,F(A,K-H))):(j.sortIndex=Q,e(u,j),b||y||(b=!0,J(O))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var $=h;return function(){var K=h;h=$;try{return j.apply(this,arguments)}finally{h=K}}}})(J1);X1.exports=J1;var tR=X1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=v,_n=tR;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z1=new Set,bl={};function qi(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(bl[t]=e,t=0;t<e.length;t++)Z1.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,rR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},v0={};function sR(t){return yp.call(v0,t)?!0:yp.call(g0,t)?!1:rR.test(t)?v0[t]=!0:(g0[t]=!0,!1)}function iR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oR(t,e,n,r){if(e===null||typeof e>"u"||iR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yg,wg);Nt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yg,wg);Nt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yg,wg);Nt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function _g(t,e,n,r){var s=Nt.hasOwnProperty(e)?Nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oR(e,n,s,r)&&(n=null),r||s===null?sR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qu=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),ex=Symbol.for("react.provider"),tx=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),_p=Symbol.for("react.suspense"),xp=Symbol.for("react.suspense_list"),Tg=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),nx=Symbol.for("react.offscreen"),y0=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=y0&&t[y0]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,_f;function el(t){if(_f===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_f=e&&e[1]||""}return`
`+_f+t}var xf=!1;function Ef(t,e){if(!t||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function aR(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=Ef(t.type,!1),t;case 11:return t=Ef(t.type.render,!1),t;case 1:return t=Ef(t.type,!0),t;default:return""}}function Ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case wp:return"Profiler";case xg:return"StrictMode";case _p:return"Suspense";case xp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tx:return(t.displayName||"Context")+".Consumer";case ex:return(t._context.displayName||"Context")+".Provider";case Eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tg:return e=t.displayName||null,e!==null?e:Ep(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return Ep(t(e))}catch{}}return null}function lR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ep(e);case 8:return e===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uR(t){var e=rx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gu(t){t._valueTracker||(t._valueTracker=uR(t))}function sx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tp(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ix(t,e){e=e.checked,e!=null&&_g(t,"checked",e,!1)}function bp(t,e){ix(t,e);var n=$s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sp(t,e.type,$s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sp(t,e,n){(e!=="number"||Xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(tl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$s(n)}}function ox(t,e){var n=$s(e.value),r=$s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ax(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ax(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yu,lx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cR=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(t){cR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ul[e]=ul[t]})});function ux(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ul.hasOwnProperty(t)&&ul[t]?(""+e).trim():e+"px"}function cx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ux(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dR=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(t,e){if(e){if(dR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ap=null;function bg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Np=null,Co=null,Io=null;function T0(t){if(t=pu(t)){if(typeof Np!="function")throw Error(q(280));var e=t.stateNode;e&&(e=ah(e),Np(t.stateNode,t.type,e))}}function dx(t){Co?Io?Io.push(t):Io=[t]:Co=t}function hx(){if(Co){var t=Co,e=Io;if(Io=Co=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function fx(t,e){return t(e)}function px(){}var Tf=!1;function mx(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return fx(t,e,n)}finally{Tf=!1,(Co!==null||Io!==null)&&(px(),hx())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=ah(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var kp=!1;if(Vr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){kp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{kp=!1}function hR(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var cl=!1,Jc=null,Zc=!1,Dp=null,fR={onError:function(t){cl=!0,Jc=t}};function pR(t,e,n,r,s,i,o,a,u){cl=!1,Jc=null,hR.apply(fR,arguments)}function mR(t,e,n,r,s,i,o,a,u){if(pR.apply(this,arguments),cl){if(cl){var c=Jc;cl=!1,Jc=null}else throw Error(q(198));Zc||(Zc=!0,Dp=c)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b0(t){if(Ki(t)!==t)throw Error(q(188))}function gR(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return b0(s),t;if(i===r)return b0(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function vx(t){return t=gR(t),t!==null?yx(t):null}function yx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yx(t);if(e!==null)return e;t=t.sibling}return null}var wx=_n.unstable_scheduleCallback,S0=_n.unstable_cancelCallback,vR=_n.unstable_shouldYield,yR=_n.unstable_requestPaint,at=_n.unstable_now,wR=_n.unstable_getCurrentPriorityLevel,Sg=_n.unstable_ImmediatePriority,_x=_n.unstable_UserBlockingPriority,ed=_n.unstable_NormalPriority,_R=_n.unstable_LowPriority,xx=_n.unstable_IdlePriority,rh=null,hr=null;function xR(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(rh,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:bR,ER=Math.log,TR=Math.LN2;function bR(t){return t>>>=0,t===0?32:31-(ER(t)/TR|0)|0}var Xu=64,Ju=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nl(a):(i&=o,i!==0&&(r=nl(i)))}else o=n&~s,o!==0?r=nl(o):i!==0&&(r=nl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),s=1<<n,r|=t[n],e&=~s;return r}function SR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=SR(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ex(){var t=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function IR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function Tx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bx,Ig,Sx,Cx,Ix,Mp=!1,Zu=[],Cs=null,Is=null,Ps=null,Il=new Map,Pl=new Map,ls=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function qa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pu(e),e!==null&&Ig(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RR(t,e,n,r,s){switch(e){case"focusin":return Cs=qa(Cs,t,e,n,r,s),!0;case"dragenter":return Is=qa(Is,t,e,n,r,s),!0;case"mouseover":return Ps=qa(Ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Il.set(i,qa(Il.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pl.set(i,qa(Pl.get(i)||null,t,e,n,r,s)),!0}return!1}function Px(t){var e=vi(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=gx(n),e!==null){t.blockedOn=e,Ix(t.priority,function(){Sx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ap=r,n.target.dispatchEvent(r),Ap=null}else return e=pu(n),e!==null&&Ig(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){Ic(t)&&n.delete(e)}function AR(){Mp=!1,Cs!==null&&Ic(Cs)&&(Cs=null),Is!==null&&Ic(Is)&&(Is=null),Ps!==null&&Ic(Ps)&&(Ps=null),Il.forEach(I0),Pl.forEach(I0)}function Ka(t,e){t.blockedOn===e&&(t.blockedOn=null,Mp||(Mp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,AR)))}function Rl(t){function e(s){return Ka(s,t)}if(0<Zu.length){Ka(Zu[0],t);for(var n=1;n<Zu.length;n++){var r=Zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cs!==null&&Ka(Cs,t),Is!==null&&Ka(Is,t),Ps!==null&&Ka(Ps,t),Il.forEach(e),Pl.forEach(e),n=0;n<ls.length;n++)r=ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)Px(n),n.blockedOn===null&&ls.shift()}var Po=Kr.ReactCurrentBatchConfig,nd=!0;function NR(t,e,n,r){var s=Oe,i=Po.transition;Po.transition=null;try{Oe=1,Pg(t,e,n,r)}finally{Oe=s,Po.transition=i}}function kR(t,e,n,r){var s=Oe,i=Po.transition;Po.transition=null;try{Oe=4,Pg(t,e,n,r)}finally{Oe=s,Po.transition=i}}function Pg(t,e,n,r){if(nd){var s=jp(t,e,n,r);if(s===null)Of(t,e,r,rd,n),C0(t,r);else if(RR(s,t,e,n,r))r.stopPropagation();else if(C0(t,r),e&4&&-1<PR.indexOf(t)){for(;s!==null;){var i=pu(s);if(i!==null&&bx(i),i=jp(t,e,n,r),i===null&&Of(t,e,r,rd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var rd=null;function jp(t,e,n,r){if(rd=null,t=bg(r),t=vi(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rd=t,null}function Rx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wR()){case Sg:return 1;case _x:return 4;case ed:case _R:return 16;case xx:return 536870912;default:return 16}default:return 16}}var Es=null,Rg=null,Pc=null;function Ax(){if(Pc)return Pc;var t,e=Rg,n=e.length,r,s="value"in Es?Es.value:Es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pc=s.slice(t,1<r?1-r:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function P0(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ec:P0,this.isPropagationStopped=P0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=Tn(ha),fu=Ye({},ha,{view:0,detail:0}),DR=Tn(fu),Sf,Cf,Qa,sh=Ye({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Sf=t.screenX-Qa.screenX,Cf=t.screenY-Qa.screenY):Cf=Sf=0,Qa=t),Sf)},movementY:function(t){return"movementY"in t?t.movementY:Cf}}),R0=Tn(sh),OR=Ye({},sh,{dataTransfer:0}),MR=Tn(OR),jR=Ye({},fu,{relatedTarget:0}),If=Tn(jR),VR=Ye({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=Tn(VR),FR=Ye({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UR=Tn(FR),$R=Ye({},ha,{data:0}),A0=Tn($R),BR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HR[t])?!!e[t]:!1}function Ng(){return WR}var qR=Ye({},fu,{key:function(t){if(t.key){var e=BR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KR=Tn(qR),QR=Ye({},sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=Tn(QR),GR=Ye({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),YR=Tn(GR),XR=Ye({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=Tn(XR),ZR=Ye({},sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=Tn(ZR),tA=[9,13,27,32],kg=Vr&&"CompositionEvent"in window,dl=null;Vr&&"documentMode"in document&&(dl=document.documentMode);var nA=Vr&&"TextEvent"in window&&!dl,Nx=Vr&&(!kg||dl&&8<dl&&11>=dl),k0=" ",D0=!1;function kx(t,e){switch(t){case"keyup":return tA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mo=!1;function rA(t,e){switch(t){case"compositionend":return Dx(e);case"keypress":return e.which!==32?null:(D0=!0,k0);case"textInput":return t=e.data,t===k0&&D0?null:t;default:return null}}function sA(t,e){if(mo)return t==="compositionend"||!kg&&kx(t,e)?(t=Ax(),Pc=Rg=Es=null,mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nx&&e.locale!=="ko"?null:e.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iA[t.type]:e==="textarea"}function Ox(t,e,n,r){dx(r),e=sd(e,"onChange"),0<e.length&&(n=new Ag("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Al=null;function oA(t){Wx(t,0)}function ih(t){var e=yo(t);if(sx(e))return t}function aA(t,e){if(t==="change")return e}var Mx=!1;if(Vr){var Pf;if(Vr){var Rf="oninput"in document;if(!Rf){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),Rf=typeof M0.oninput=="function"}Pf=Rf}else Pf=!1;Mx=Pf&&(!document.documentMode||9<document.documentMode)}function j0(){hl&&(hl.detachEvent("onpropertychange",jx),Al=hl=null)}function jx(t){if(t.propertyName==="value"&&ih(Al)){var e=[];Ox(e,Al,t,bg(t)),mx(oA,e)}}function lA(t,e,n){t==="focusin"?(j0(),hl=e,Al=n,hl.attachEvent("onpropertychange",jx)):t==="focusout"&&j0()}function uA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Al)}function cA(t,e){if(t==="click")return ih(e)}function dA(t,e){if(t==="input"||t==="change")return ih(e)}function hA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:hA;function Nl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yp.call(e,s)||!Yn(t[s],e[s]))return!1}return!0}function V0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L0(t,e){var n=V0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function Vx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lx(){for(var t=window,e=Xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xc(t.document)}return e}function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fA(t){var e=Lx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vx(n.ownerDocument.documentElement,n)){if(r!==null&&Dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=L0(n,i);var o=L0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pA=Vr&&"documentMode"in document&&11>=document.documentMode,go=null,Vp=null,fl=null,Lp=!1;function F0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lp||go==null||go!==Xc(r)||(r=go,"selectionStart"in r&&Dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Nl(fl,r)||(fl=r,r=sd(Vp,"onSelect"),0<r.length&&(e=new Ag("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},Af={},Fx={};Vr&&(Fx=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function oh(t){if(Af[t])return Af[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fx)return Af[t]=e[n];return t}var Ux=oh("animationend"),$x=oh("animationiteration"),Bx=oh("animationstart"),zx=oh("transitionend"),Hx=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){Hx.set(t,e),qi(e,[t])}for(var Nf=0;Nf<U0.length;Nf++){var kf=U0[Nf],mA=kf.toLowerCase(),gA=kf[0].toUpperCase()+kf.slice(1);ei(mA,"on"+gA)}ei(Ux,"onAnimationEnd");ei($x,"onAnimationIteration");ei(Bx,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(zx,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function $0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mR(r,e,void 0,t),t.currentTarget=null}function Wx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;$0(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;$0(s,a,c),i=u}}}if(Zc)throw t=Dp,Zc=!1,Dp=null,t}function Be(t,e){var n=e[zp];n===void 0&&(n=e[zp]=new Set);var r=t+"__bubble";n.has(r)||(qx(e,t,2,!1),n.add(r))}function Df(t,e,n){var r=0;e&&(r|=4),qx(n,t,r,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[nc]){t[nc]=!0,Z1.forEach(function(n){n!=="selectionchange"&&(vA.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,Df("selectionchange",!1,e))}}function qx(t,e,n,r){switch(Rx(e)){case 1:var s=NR;break;case 4:s=kR;break;default:s=Pg}n=s.bind(null,e,n,t),s=void 0,!kp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vi(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mx(function(){var c=i,d=bg(n),p=[];e:{var h=Hx.get(t);if(h!==void 0){var y=Ag,b=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":y=KR;break;case"focusin":b="focus",y=If;break;case"focusout":b="blur",y=If;break;case"beforeblur":case"afterblur":y=If;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=YR;break;case Ux:case $x:case Bx:y=LR;break;case zx:y=JR;break;case"scroll":y=DR;break;case"wheel":y=eA;break;case"copy":case"cut":case"paste":y=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=N0}var w=(e&4)!==0,E=!w&&t==="scroll",x=w?h!==null?h+"Capture":null:h;w=[];for(var g=c,T;g!==null;){T=g;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,x!==null&&(A=Cl(g,x),A!=null&&w.push(Dl(g,A,T)))),E)break;g=g.return}0<w.length&&(h=new y(h,b,null,n,d),p.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Ap&&(b=n.relatedTarget||n.fromElement)&&(vi(b)||b[Lr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=c,b=b?vi(b):null,b!==null&&(E=Ki(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=c),y!==b)){if(w=R0,A="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=N0,A="onPointerLeave",x="onPointerEnter",g="pointer"),E=y==null?h:yo(y),T=b==null?h:yo(b),h=new w(A,g+"leave",y,n,d),h.target=E,h.relatedTarget=T,A=null,vi(d)===c&&(w=new w(x,g+"enter",b,n,d),w.target=T,w.relatedTarget=E,A=w),E=A,y&&b)t:{for(w=y,x=b,g=0,T=w;T;T=so(T))g++;for(T=0,A=x;A;A=so(A))T++;for(;0<g-T;)w=so(w),g--;for(;0<T-g;)x=so(x),T--;for(;g--;){if(w===x||x!==null&&w===x.alternate)break t;w=so(w),x=so(x)}w=null}else w=null;y!==null&&B0(p,h,y,w,!1),b!==null&&E!==null&&B0(p,E,b,w,!0)}}e:{if(h=c?yo(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var O=aA;else if(O0(h))if(Mx)O=dA;else{O=uA;var V=lA}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=cA);if(O&&(O=O(t,c))){Ox(p,O,n,d);break e}V&&V(t,h,c),t==="focusout"&&(V=h._wrapperState)&&V.controlled&&h.type==="number"&&Sp(h,"number",h.value)}switch(V=c?yo(c):window,t){case"focusin":(O0(V)||V.contentEditable==="true")&&(go=V,Vp=c,fl=null);break;case"focusout":fl=Vp=go=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,F0(p,n,d);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":F0(p,n,d)}var I;if(kg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else mo?kx(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Nx&&n.locale!=="ko"&&(mo||C!=="onCompositionStart"?C==="onCompositionEnd"&&mo&&(I=Ax()):(Es=d,Rg="value"in Es?Es.value:Es.textContent,mo=!0)),V=sd(c,C),0<V.length&&(C=new A0(C,t,null,n,d),p.push({event:C,listeners:V}),I?C.data=I:(I=Dx(n),I!==null&&(C.data=I)))),(I=nA?rA(t,n):sA(t,n))&&(c=sd(c,"onBeforeInput"),0<c.length&&(d=new A0("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=I))}Wx(p,e)})}function Dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cl(t,n),i!=null&&r.unshift(Dl(t,i,s)),i=Cl(t,e),i!=null&&r.push(Dl(t,i,s))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Cl(n,i),u!=null&&o.unshift(Dl(n,u,a))):s||(u=Cl(n,i),u!=null&&o.push(Dl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(wA,"")}function rc(t,e,n){if(e=z0(e),z0(t)!==e&&n)throw Error(q(425))}function id(){}var Fp=null,Up=null;function $p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(EA)}:Bp;function EA(t){setTimeout(function(){throw t})}function Mf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rl(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),ur="__reactFiber$"+fa,Ol="__reactProps$"+fa,Lr="__reactContainer$"+fa,zp="__reactEvents$"+fa,TA="__reactListeners$"+fa,bA="__reactHandles$"+fa;function vi(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[ur])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function pu(t){return t=t[ur]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function ah(t){return t[Ol]||null}var Hp=[],wo=-1;function ti(t){return{current:t}}function ze(t){0>wo||(t.current=Hp[wo],Hp[wo]=null,wo--)}function Fe(t,e){wo++,Hp[wo]=t.current,t.current=e}var Bs={},Ht=ti(Bs),un=ti(!1),Di=Bs;function Xo(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cn(t){return t=t.childContextTypes,t!=null}function od(){ze(un),ze(Ht)}function q0(t,e,n){if(Ht.current!==Bs)throw Error(q(168));Fe(Ht,e),Fe(un,n)}function Kx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,lR(t)||"Unknown",s));return Ye({},n,r)}function ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Di=Ht.current,Fe(Ht,t),Fe(un,un.current),!0}function K0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Kx(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,ze(un),ze(Ht),Fe(Ht,t)):ze(un),Fe(un,n)}var Rr=null,lh=!1,jf=!1;function Qx(t){Rr===null?Rr=[t]:Rr.push(t)}function SA(t){lh=!0,Qx(t)}function ni(){if(!jf&&Rr!==null){jf=!0;var t=0,e=Oe;try{var n=Rr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,lh=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),wx(Sg,ni),s}finally{Oe=e,jf=!1}}return null}var _o=[],xo=0,ld=null,ud=0,Cn=[],In=0,Oi=null,kr=1,Dr="";function fi(t,e){_o[xo++]=ud,_o[xo++]=ld,ld=t,ud=e}function Gx(t,e,n){Cn[In++]=kr,Cn[In++]=Dr,Cn[In++]=Oi,Oi=t;var r=kr;t=Dr;var s=32-Kn(r)-1;r&=~(1<<s),n+=1;var i=32-Kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kr=1<<32-Kn(e)+s|n<<s|r,Dr=i+t}else kr=1<<i|n<<s|r,Dr=t}function Og(t){t.return!==null&&(fi(t,1),Gx(t,1,0))}function Mg(t){for(;t===ld;)ld=_o[--xo],_o[xo]=null,ud=_o[--xo],_o[xo]=null;for(;t===Oi;)Oi=Cn[--In],Cn[In]=null,Dr=Cn[--In],Cn[In]=null,kr=Cn[--In],Cn[In]=null}var yn=null,gn=null,Ke=!1,Hn=null;function Yx(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,gn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:kr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,gn=null,!0):!1;default:return!1}}function Wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qp(t){if(Ke){var e=gn;if(e){var n=e;if(!Q0(t,e)){if(Wp(t))throw Error(q(418));e=Rs(n.nextSibling);var r=yn;e&&Q0(t,e)?Yx(r,n):(t.flags=t.flags&-4097|2,Ke=!1,yn=t)}}else{if(Wp(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ke=!1,yn=t}}}function G0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function sc(t){if(t!==yn)return!1;if(!Ke)return G0(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$p(t.type,t.memoizedProps)),e&&(e=gn)){if(Wp(t))throw Xx(),Error(q(418));for(;e;)Yx(t,e),e=Rs(e.nextSibling)}if(G0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=yn?Rs(t.stateNode.nextSibling):null;return!0}function Xx(){for(var t=gn;t;)t=Rs(t.nextSibling)}function Jo(){gn=yn=null,Ke=!1}function jg(t){Hn===null?Hn=[t]:Hn.push(t)}var CA=Kr.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function ic(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function Jx(t){function e(x,g){if(t){var T=x.deletions;T===null?(x.deletions=[g],x.flags|=16):T.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Ds(x,g),x.index=0,x.sibling=null,x}function i(x,g,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<g?(x.flags|=2,g):T):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,g,T,A){return g===null||g.tag!==6?(g=zf(T,x.mode,A),g.return=x,g):(g=s(g,T),g.return=x,g)}function u(x,g,T,A){var O=T.type;return O===po?d(x,g,T.props.children,A,T.key):g!==null&&(g.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===os&&Y0(O)===g.type)?(A=s(g,T.props),A.ref=Ga(x,g,T),A.return=x,A):(A=jc(T.type,T.key,T.props,null,x.mode,A),A.ref=Ga(x,g,T),A.return=x,A)}function c(x,g,T,A){return g===null||g.tag!==4||g.stateNode.containerInfo!==T.containerInfo||g.stateNode.implementation!==T.implementation?(g=Hf(T,x.mode,A),g.return=x,g):(g=s(g,T.children||[]),g.return=x,g)}function d(x,g,T,A,O){return g===null||g.tag!==7?(g=Ni(T,x.mode,A,O),g.return=x,g):(g=s(g,T),g.return=x,g)}function p(x,g,T){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zf(""+g,x.mode,T),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qu:return T=jc(g.type,g.key,g.props,null,x.mode,T),T.ref=Ga(x,null,g),T.return=x,T;case fo:return g=Hf(g,x.mode,T),g.return=x,g;case os:var A=g._init;return p(x,A(g._payload),T)}if(tl(g)||Ha(g))return g=Ni(g,x.mode,T,null),g.return=x,g;ic(x,g)}return null}function h(x,g,T,A){var O=g!==null?g.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(x,g,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qu:return T.key===O?u(x,g,T,A):null;case fo:return T.key===O?c(x,g,T,A):null;case os:return O=T._init,h(x,g,O(T._payload),A)}if(tl(T)||Ha(T))return O!==null?null:d(x,g,T,A,null);ic(x,T)}return null}function y(x,g,T,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(T)||null,a(g,x,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Qu:return x=x.get(A.key===null?T:A.key)||null,u(g,x,A,O);case fo:return x=x.get(A.key===null?T:A.key)||null,c(g,x,A,O);case os:var V=A._init;return y(x,g,T,V(A._payload),O)}if(tl(A)||Ha(A))return x=x.get(T)||null,d(g,x,A,O,null);ic(g,A)}return null}function b(x,g,T,A){for(var O=null,V=null,I=g,C=g=0,R=null;I!==null&&C<T.length;C++){I.index>C?(R=I,I=null):R=I.sibling;var S=h(x,I,T[C],A);if(S===null){I===null&&(I=R);break}t&&I&&S.alternate===null&&e(x,I),g=i(S,g,C),V===null?O=S:V.sibling=S,V=S,I=R}if(C===T.length)return n(x,I),Ke&&fi(x,C),O;if(I===null){for(;C<T.length;C++)I=p(x,T[C],A),I!==null&&(g=i(I,g,C),V===null?O=I:V.sibling=I,V=I);return Ke&&fi(x,C),O}for(I=r(x,I);C<T.length;C++)R=y(I,x,C,T[C],A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?C:R.key),g=i(R,g,C),V===null?O=R:V.sibling=R,V=R);return t&&I.forEach(function(k){return e(x,k)}),Ke&&fi(x,C),O}function w(x,g,T,A){var O=Ha(T);if(typeof O!="function")throw Error(q(150));if(T=O.call(T),T==null)throw Error(q(151));for(var V=O=null,I=g,C=g=0,R=null,S=T.next();I!==null&&!S.done;C++,S=T.next()){I.index>C?(R=I,I=null):R=I.sibling;var k=h(x,I,S.value,A);if(k===null){I===null&&(I=R);break}t&&I&&k.alternate===null&&e(x,I),g=i(k,g,C),V===null?O=k:V.sibling=k,V=k,I=R}if(S.done)return n(x,I),Ke&&fi(x,C),O;if(I===null){for(;!S.done;C++,S=T.next())S=p(x,S.value,A),S!==null&&(g=i(S,g,C),V===null?O=S:V.sibling=S,V=S);return Ke&&fi(x,C),O}for(I=r(x,I);!S.done;C++,S=T.next())S=y(I,x,C,S.value,A),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?C:S.key),g=i(S,g,C),V===null?O=S:V.sibling=S,V=S);return t&&I.forEach(function(D){return e(x,D)}),Ke&&fi(x,C),O}function E(x,g,T,A){if(typeof T=="object"&&T!==null&&T.type===po&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Qu:e:{for(var O=T.key,V=g;V!==null;){if(V.key===O){if(O=T.type,O===po){if(V.tag===7){n(x,V.sibling),g=s(V,T.props.children),g.return=x,x=g;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===os&&Y0(O)===V.type){n(x,V.sibling),g=s(V,T.props),g.ref=Ga(x,V,T),g.return=x,x=g;break e}n(x,V);break}else e(x,V);V=V.sibling}T.type===po?(g=Ni(T.props.children,x.mode,A,T.key),g.return=x,x=g):(A=jc(T.type,T.key,T.props,null,x.mode,A),A.ref=Ga(x,g,T),A.return=x,x=A)}return o(x);case fo:e:{for(V=T.key;g!==null;){if(g.key===V)if(g.tag===4&&g.stateNode.containerInfo===T.containerInfo&&g.stateNode.implementation===T.implementation){n(x,g.sibling),g=s(g,T.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=Hf(T,x.mode,A),g.return=x,x=g}return o(x);case os:return V=T._init,E(x,g,V(T._payload),A)}if(tl(T))return b(x,g,T,A);if(Ha(T))return w(x,g,T,A);ic(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,T),g.return=x,x=g):(n(x,g),g=zf(T,x.mode,A),g.return=x,x=g),o(x)):n(x,g)}return E}var Zo=Jx(!0),Zx=Jx(!1),cd=ti(null),dd=null,Eo=null,Vg=null;function Lg(){Vg=Eo=dd=null}function Fg(t){var e=cd.current;ze(cd),t._currentValue=e}function Kp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){dd=t,Vg=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Vg!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(dd===null)throw Error(q(308));Eo=t,dd.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var yi=null;function Ug(t){yi===null?yi=[t]:yi.push(t)}function eE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ug(e)):(n.next=s.next,s.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function $g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ug(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fr(t,n)}function Ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var s=t.updateQueue;as=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=c=u=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(h=e,y=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){p=b.call(y,p,h);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(y,p,h):b,h==null)break e;p=Ye({},p,h);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=p):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=p}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var mu={},fr=ti(mu),Ml=ti(mu),jl=ti(mu);function wi(t){if(t===mu)throw Error(q(174));return t}function Bg(t,e){switch(Fe(jl,e),Fe(Ml,t),Fe(fr,mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ip(e,t)}ze(fr),Fe(fr,e)}function ea(){ze(fr),ze(Ml),ze(jl)}function nE(t){wi(jl.current);var e=wi(fr.current),n=Ip(e,t.type);e!==n&&(Fe(Ml,t),Fe(fr,n))}function zg(t){Ml.current===t&&(ze(fr),ze(Ml))}var Qe=ti(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function Hg(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var Nc=Kr.ReactCurrentDispatcher,Lf=Kr.ReactCurrentBatchConfig,Mi=0,Ge=null,vt=null,Tt=null,pd=!1,pl=!1,Vl=0,IA=0;function jt(){throw Error(q(321))}function Wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function qg(t,e,n,r,s,i){if(Mi=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?NA:kA,t=n(r,s),pl){i=0;do{if(pl=!1,Vl=0,25<=i)throw Error(q(301));i+=1,Tt=vt=null,e.updateQueue=null,Nc.current=DA,t=n(r,s)}while(pl)}if(Nc.current=md,e=vt!==null&&vt.next!==null,Mi=0,Tt=vt=Ge=null,pd=!1,e)throw Error(q(300));return t}function Kg(){var t=Vl!==0;return Vl=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ge.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Mn(){if(vt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Tt===null?Ge.memoizedState:Tt.next;if(e!==null)Tt=e,vt=t;else{if(t===null)throw Error(q(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Tt===null?Ge.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ll(t,e){return typeof e=="function"?e(t):e}function Ff(t){var e=Mn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Mi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Ge.lanes|=d,ji|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Yn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,ji|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uf(t){var e=Mn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rE(){}function sE(t,e){var n=Ge,r=Mn(),s=e(),i=!Yn(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Qg(aE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Fl(9,oE.bind(null,n,r,s,e),void 0,null),bt===null)throw Error(q(349));Mi&30||iE(n,e,s)}return s}function iE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oE(t,e,n,r){e.value=n,e.getSnapshot=r,lE(e)&&uE(t)}function aE(t,e,n){return n(function(){lE(e)&&uE(t)})}function lE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function uE(t){var e=Fr(t,1);e!==null&&Qn(e,t,1,-1)}function Z0(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=AA.bind(null,Ge,t),[e.memoizedState,t]}function Fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cE(){return Mn().memoizedState}function kc(t,e,n,r){var s=sr();Ge.flags|=t,s.memoizedState=Fl(1|e,n,void 0,r===void 0?null:r)}function uh(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(vt!==null){var o=vt.memoizedState;if(i=o.destroy,r!==null&&Wg(r,o.deps)){s.memoizedState=Fl(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=Fl(1|e,n,i,r)}function ew(t,e){return kc(8390656,8,t,e)}function Qg(t,e){return uh(2048,8,t,e)}function dE(t,e){return uh(4,2,t,e)}function hE(t,e){return uh(4,4,t,e)}function fE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pE(t,e,n){return n=n!=null?n.concat([t]):null,uh(4,4,fE.bind(null,e,t),n)}function Gg(){}function mE(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gE(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vE(t,e,n){return Mi&21?(Yn(n,e)||(n=Ex(),Ge.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function PA(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Lf.transition;Lf.transition={};try{t(!1),e()}finally{Oe=n,Lf.transition=r}}function yE(){return Mn().memoizedState}function RA(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wE(t))_E(e,n);else if(n=eE(t,e,n,r),n!==null){var s=Jt();Qn(n,t,r,s),xE(n,e,r)}}function AA(t,e,n){var r=ks(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wE(t))_E(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,o)){var u=e.interleaved;u===null?(s.next=s,Ug(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=eE(t,e,s,r),n!==null&&(s=Jt(),Qn(n,t,r,s),xE(n,e,r))}}function wE(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function _E(t,e){pl=pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}var md={readContext:On,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},NA={readContext:On,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kc(4194308,4,fE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return kc(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RA.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:Gg,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=PA.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=sr();if(Ke){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),bt===null)throw Error(q(349));Mi&30||iE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ew(aE.bind(null,r,i,t),[t]),r.flags|=2048,Fl(9,oE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sr(),e=bt.identifierPrefix;if(Ke){var n=Dr,r=kr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kA={readContext:On,useCallback:mE,useContext:On,useEffect:Qg,useImperativeHandle:pE,useInsertionEffect:dE,useLayoutEffect:hE,useMemo:gE,useReducer:Ff,useRef:cE,useState:function(){return Ff(Ll)},useDebugValue:Gg,useDeferredValue:function(t){var e=Mn();return vE(e,vt.memoizedState,t)},useTransition:function(){var t=Ff(Ll)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:rE,useSyncExternalStore:sE,useId:yE,unstable_isNewReconciler:!1},DA={readContext:On,useCallback:mE,useContext:On,useEffect:Qg,useImperativeHandle:pE,useInsertionEffect:dE,useLayoutEffect:hE,useMemo:gE,useReducer:Uf,useRef:cE,useState:function(){return Uf(Ll)},useDebugValue:Gg,useDeferredValue:function(t){var e=Mn();return vt===null?e.memoizedState=t:vE(e,vt.memoizedState,t)},useTransition:function(){var t=Uf(Ll)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:rE,useSyncExternalStore:sE,useId:yE,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ch={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ks(t),i=Mr(r,s);i.payload=e,n!=null&&(i.callback=n),e=As(t,i,s),e!==null&&(Qn(e,t,s,r),Ac(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ks(t),i=Mr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=As(t,i,s),e!==null&&(Qn(e,t,s,r),Ac(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ks(t),s=Mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=As(t,s,r),e!==null&&(Qn(e,t,r,n),Ac(e,t,r))}};function tw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(s,i):!0}function EE(t,e,n){var r=!1,s=Bs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=cn(e)?Di:Ht.current,r=e.contextTypes,i=(r=r!=null)?Xo(t,s):Bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ch,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ch.enqueueReplaceState(e,e.state,null)}function Gp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$g(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=cn(e)?Di:Ht.current,s.context=Xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ch.enqueueReplaceState(s,s.state,null),hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ta(t,e){try{var n="",r=e;do n+=aR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OA=typeof WeakMap=="function"?WeakMap:Map;function TE(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vd||(vd=!0,om=r),Yp(t,e)},n}function bE(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yp(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QA.bind(null,t,e,n),e.then(t,t))}function sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var MA=Kr.ReactCurrentOwner,ln=!1;function Yt(t,e,n,r){e.child=t===null?Zx(e,null,n,r):Zo(e,t.child,n,r)}function ow(t,e,n,r,s){n=n.render;var i=e.ref;return Ro(e,s),r=qg(t,e,n,r,i,s),n=Kg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Ke&&n&&Og(e),e.flags|=1,Yt(t,e,r,s),e.child)}function aw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!rv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,SE(t,e,i,r,s)):(t=jc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(o,r)&&t.ref===e.ref)return Ur(t,e,s)}return e.flags|=1,t=Ds(i,r),t.ref=e.ref,t.return=e,e.child=t}function SE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Nl(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Ur(t,e,s)}return Xp(t,e,n,r,s)}function CE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(bo,pn),pn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(bo,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(bo,pn),pn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(bo,pn),pn|=r;return Yt(t,e,s,n),e.child}function IE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xp(t,e,n,r,s){var i=cn(n)?Di:Ht.current;return i=Xo(e,i),Ro(e,s),n=qg(t,e,n,r,i,s),r=Kg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Ke&&r&&Og(e),e.flags|=1,Yt(t,e,n,s),e.child)}function lw(t,e,n,r,s){if(cn(n)){var i=!0;ad(e)}else i=!1;if(Ro(e,s),e.stateNode===null)Dc(t,e),EE(e,n,r),Gp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=cn(n)?Di:Ht.current,c=Xo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&nw(e,o,r,c),as=!1;var h=e.memoizedState;o.state=h,hd(e,r,o,s),u=e.memoizedState,a!==r||h!==u||un.current||as?(typeof d=="function"&&(Qp(e,n,d,r),u=e.memoizedState),(a=as||tw(e,n,a,r,h,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Un(e.type,a),o.props=c,p=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=cn(n)?Di:Ht.current,u=Xo(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==u)&&nw(e,o,r,u),as=!1,h=e.memoizedState,o.state=h,hd(e,r,o,s);var b=e.memoizedState;a!==p||h!==b||un.current||as?(typeof y=="function"&&(Qp(e,n,y,r),b=e.memoizedState),(c=as||tw(e,n,c,r,h,b,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Jp(t,e,n,r,i,s)}function Jp(t,e,n,r,s,i){IE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&K0(e,n,!1),Ur(t,e,i);r=e.stateNode,MA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zo(e,t.child,null,i),e.child=Zo(e,null,a,i)):Yt(t,e,a,i),e.memoizedState=r.state,s&&K0(e,n,!0),e.child}function PE(t){var e=t.stateNode;e.pendingContext?q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q0(t,e.context,!1),Bg(t,e.containerInfo)}function uw(t,e,n,r,s){return Jo(),jg(s),e.flags|=256,Yt(t,e,n,r),e.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function em(t){return{baseLanes:t,cachePool:null,transitions:null}}function RE(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Qe,s&1),t===null)return qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fh(o,r,0,null),t=Ni(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=em(n),e.memoizedState=Zp,t):Yg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ds(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ds(a,i):(i=Ni(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zp,r}return i=t.child,t=i.sibling,r=Ds(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yg(t,e){return e=fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oc(t,e,n,r){return r!==null&&jg(r),Zo(e,t.child,null,n),t=Yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=$f(Error(q(422))),oc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fh({mode:"visible",children:r.children},s,0,null),i=Ni(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zo(e,t.child,null,o),e.child.memoizedState=em(o),e.memoizedState=Zp,i);if(!(e.mode&1))return oc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=$f(i,r,void 0),oc(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=bt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fr(t,s),Qn(r,t,s,-1))}return nv(),r=$f(Error(q(421))),oc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=GA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,gn=Rs(s.nextSibling),yn=e,Ke=!0,Hn=null,t!==null&&(Cn[In++]=kr,Cn[In++]=Dr,Cn[In++]=Oi,kr=t.id,Dr=t.overflow,Oi=e),e=Yg(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kp(t.return,e,n)}function Bf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function AE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bf(e,!0,n,null,i);break;case"together":Bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VA(t,e,n){switch(e.tag){case 3:PE(e),Jo();break;case 5:nE(e);break;case 1:cn(e.type)&&ad(e);break;case 4:Bg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(cd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?RE(t,e,n):(Fe(Qe,Qe.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,CE(t,e,n)}return Ur(t,e,n)}var NE,tm,kE,DE;NE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tm=function(){};kE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wi(fr.current);var i=null;switch(n){case"input":s=Tp(t,s),r=Tp(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Cp(t,s),r=Cp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=id)}Pp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Be("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};DE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ya(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LA(t,e,n){var r=e.pendingProps;switch(Mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return cn(e.type)&&od(),Vt(e),null;case 3:return r=e.stateNode,ea(),ze(un),ze(Ht),Hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hn!==null&&(um(Hn),Hn=null))),tm(t,e),Vt(e),null;case 5:zg(e);var s=wi(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)kE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Vt(e),null}if(t=wi(fr.current),sc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ur]=e,r[Ol]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)Be(rl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":w0(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":x0(r,i),Be("invalid",r)}Pp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&rc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&rc(r.textContent,a,t),s=["children",""+a]):bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Gu(r),_0(r,i,!0);break;case"textarea":Gu(r),E0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=id)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ax(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Ol]=r,NE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rp(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)Be(rl[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":w0(t,r),s=Tp(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Be("invalid",t);break;case"textarea":x0(t,r),s=Cp(t,r),Be("invalid",t);break;default:s=r}Pp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?cx(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&lx(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Sl(t,u):typeof u=="number"&&Sl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Be("scroll",t):u!=null&&_g(t,i,u,o))}switch(n){case"input":Gu(t),_0(t,r,!1);break;case"textarea":Gu(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$s(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)DE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=wi(jl.current),wi(fr.current),sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(i=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Vt(e),null;case 13:if(ze(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&gn!==null&&e.mode&1&&!(e.flags&128))Xx(),Jo(),e.flags|=98560,i=!1;else if(i=sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[ur]=e}else Jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else Hn!==null&&(um(Hn),Hn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?wt===0&&(wt=3):nv())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return ea(),tm(t,e),t===null&&kl(e.stateNode.containerInfo),Vt(e),null;case 10:return Fg(e.type._context),Vt(e),null;case 17:return cn(e.type)&&od(),Vt(e),null;case 19:if(ze(Qe),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ya(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fd(t),o!==null){for(e.flags|=128,Ya(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>na&&(e.flags|=128,r=!0,Ya(i,!1),e.lanes=4194304)}else{if(!r)if(t=fd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Vt(e),null}else 2*at()-i.renderingStartTime>na&&n!==1073741824&&(e.flags|=128,r=!0,Ya(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function FA(t,e){switch(Mg(e),e.tag){case 1:return cn(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ea(),ze(un),ze(Ht),Hg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zg(e),null;case 13:if(ze(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Qe),null;case 4:return ea(),null;case 10:return Fg(e.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var ac=!1,Bt=!1,UA=typeof WeakSet=="function"?WeakSet:Set,re=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function nm(t,e,n){try{n()}catch(r){tt(t,e,r)}}var dw=!1;function $A(t,e){if(Fp=nd,t=Lx(),Dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,h=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(u=o),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:t,selectionRange:n},nd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,E=b.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Un(e.type,w),E);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(A){tt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return b=dw,dw=!1,b}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nm(e,n,i)}s=s.next}while(s!==r)}}function dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OE(t){var e=t.alternate;e!==null&&(t.alternate=null,OE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Ol],delete e[zp],delete e[TA],delete e[bA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ME(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ME(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=id));else if(r!==4&&(t=t.child,t!==null))for(sm(t,e,n),t=t.sibling;t!==null;)sm(t,e,n),t=t.sibling}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}var It=null,zn=!1;function es(t,e,n){for(n=n.child;n!==null;)jE(t,e,n),n=n.sibling}function jE(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(rh,n)}catch{}switch(n.tag){case 5:Bt||To(n,e);case 6:var r=It,s=zn;It=null,es(t,e,n),It=r,zn=s,It!==null&&(zn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(zn?(t=It,n=n.stateNode,t.nodeType===8?Mf(t.parentNode,n):t.nodeType===1&&Mf(t,n),Rl(t)):Mf(It,n.stateNode));break;case 4:r=It,s=zn,It=n.stateNode.containerInfo,zn=!0,es(t,e,n),It=r,zn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nm(n,e,o),s=s.next}while(s!==r)}es(t,e,n);break;case 1:if(!Bt&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,es(t,e,n),Bt=r):es(t,e,n);break;default:es(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UA),e.forEach(function(r){var s=YA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,zn=!1;break e;case 3:It=a.stateNode.containerInfo,zn=!0;break e;case 4:It=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(It===null)throw Error(q(160));jE(i,o,s),It=null,zn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){tt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),rr(t),r&4){try{ml(3,t,t.return),dh(3,t)}catch(w){tt(t,t.return,w)}try{ml(5,t,t.return)}catch(w){tt(t,t.return,w)}}break;case 1:Ln(e,t),rr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Ln(e,t),rr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Sl(s,"")}catch(w){tt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ix(s,i),Rp(a,o);var c=Rp(a,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?cx(s,p):d==="dangerouslySetInnerHTML"?lx(s,p):d==="children"?Sl(s,p):_g(s,d,p,c)}switch(a){case"input":bp(s,i);break;case"textarea":ox(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?So(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?So(s,!!i.multiple,i.defaultValue,!0):So(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(w){tt(t,t.return,w)}}break;case 6:if(Ln(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){tt(t,t.return,w)}}break;case 3:if(Ln(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(w){tt(t,t.return,w)}break;case 4:Ln(e,t),rr(t);break;case 13:Ln(e,t),rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zg=at())),r&4&&fw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(c=Bt)||d,Ln(e,t),Bt=c):Ln(e,t),rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(p=re=d;re!==null;){switch(h=re,y=h.child,h.tag){case 0:case 11:case 14:case 15:ml(4,h,h.return);break;case 1:To(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){tt(r,n,w)}}break;case 5:To(h,h.return);break;case 22:if(h.memoizedState!==null){mw(p);continue}}y!==null?(y.return=h,re=y):mw(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ux("display",o))}catch(w){tt(t,t.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(w){tt(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ln(e,t),rr(t),r&4&&fw(t);break;case 21:break;default:Ln(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ME(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sl(s,""),r.flags&=-33);var i=hw(t);im(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hw(t);sm(t,a,o);break;default:throw Error(q(161))}}catch(u){tt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BA(t,e,n){re=t,LE(t)}function LE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ac;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Bt;a=ac;var c=Bt;if(ac=o,(Bt=u)&&!c)for(re=s;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?gw(s):u!==null?(u.return=o,re=u):gw(s);for(;i!==null;)re=i,LE(i),i=i.sibling;re=s,ac=a,Bt=c}pw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):pw(t)}}function pw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&J0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Rl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Bt||e.flags&512&&rm(e)}catch(h){tt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function mw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function gw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dh(4,e)}catch(u){tt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){tt(e,s,u)}}var i=e.return;try{rm(e)}catch(u){tt(e,i,u)}break;case 5:var o=e.return;try{rm(e)}catch(u){tt(e,o,u)}}}catch(u){tt(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var zA=Math.ceil,gd=Kr.ReactCurrentDispatcher,Xg=Kr.ReactCurrentOwner,Dn=Kr.ReactCurrentBatchConfig,Re=0,bt=null,ht=null,At=0,pn=0,bo=ti(0),wt=0,Ul=null,ji=0,hh=0,Jg=0,gl=null,on=null,Zg=0,na=1/0,Pr=null,vd=!1,om=null,Ns=null,lc=!1,Ts=null,yd=0,vl=0,am=null,Oc=-1,Mc=0;function Jt(){return Re&6?at():Oc!==-1?Oc:Oc=at()}function ks(t){return t.mode&1?Re&2&&At!==0?At&-At:CA.transition!==null?(Mc===0&&(Mc=Ex()),Mc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:Rx(t.type)),t):1}function Qn(t,e,n,r){if(50<vl)throw vl=0,am=null,Error(q(185));hu(t,n,r),(!(Re&2)||t!==bt)&&(t===bt&&(!(Re&2)&&(hh|=n),wt===4&&us(t,At)),dn(t,r),n===1&&Re===0&&!(e.mode&1)&&(na=at()+500,lh&&ni()))}function dn(t,e){var n=t.callbackNode;CR(t,e);var r=td(t,t===bt?At:0);if(r===0)n!==null&&S0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&S0(n),e===1)t.tag===0?SA(vw.bind(null,t)):Qx(vw.bind(null,t)),xA(function(){!(Re&6)&&ni()}),n=null;else{switch(Tx(r)){case 1:n=Sg;break;case 4:n=_x;break;case 16:n=ed;break;case 536870912:n=xx;break;default:n=ed}n=qE(n,FE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FE(t,e){if(Oc=-1,Mc=0,Re&6)throw Error(q(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=td(t,t===bt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var s=Re;Re|=2;var i=$E();(bt!==t||At!==e)&&(Pr=null,na=at()+500,Ai(t,e));do try{qA();break}catch(a){UE(t,a)}while(!0);Lg(),gd.current=i,Re=s,ht!==null?e=0:(bt=null,At=0,e=wt)}if(e!==0){if(e===2&&(s=Op(t),s!==0&&(r=s,e=lm(t,s))),e===1)throw n=Ul,Ai(t,0),us(t,r),dn(t,at()),n;if(e===6)us(t,r);else{if(s=t.current.alternate,!(r&30)&&!HA(s)&&(e=wd(t,r),e===2&&(i=Op(t),i!==0&&(r=i,e=lm(t,i))),e===1))throw n=Ul,Ai(t,0),us(t,r),dn(t,at()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:pi(t,on,Pr);break;case 3:if(us(t,r),(r&130023424)===r&&(e=Zg+500-at(),10<e)){if(td(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bp(pi.bind(null,t,on,Pr),e);break}pi(t,on,Pr);break;case 4:if(us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zA(r/1960))-r,10<r){t.timeoutHandle=Bp(pi.bind(null,t,on,Pr),r);break}pi(t,on,Pr);break;case 5:pi(t,on,Pr);break;default:throw Error(q(329))}}}return dn(t,at()),t.callbackNode===n?FE.bind(null,t):null}function lm(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=wd(t,e),t!==2&&(e=on,on=n,e!==null&&um(e)),t}function um(t){on===null?on=t:on.push.apply(on,t)}function HA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(t,e){for(e&=~Jg,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function vw(t){if(Re&6)throw Error(q(327));Ao();var e=td(t,0);if(!(e&1))return dn(t,at()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=Op(t);r!==0&&(e=r,n=lm(t,r))}if(n===1)throw n=Ul,Ai(t,0),us(t,e),dn(t,at()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,on,Pr),dn(t,at()),null}function ev(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(na=at()+500,lh&&ni())}}function Vi(t){Ts!==null&&Ts.tag===0&&!(Re&6)&&Ao();var e=Re;Re|=1;var n=Dn.transition,r=Oe;try{if(Dn.transition=null,Oe=1,t)return t()}finally{Oe=r,Dn.transition=n,Re=e,!(Re&6)&&ni()}}function tv(){pn=bo.current,ze(bo)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_A(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:ea(),ze(un),ze(Ht),Hg();break;case 5:zg(r);break;case 4:ea();break;case 13:ze(Qe);break;case 19:ze(Qe);break;case 10:Fg(r.type._context);break;case 22:case 23:tv()}n=n.return}if(bt=t,ht=t=Ds(t.current,null),At=pn=e,wt=0,Ul=null,Jg=hh=ji=0,on=gl=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yi=null}return t}function UE(t,e){do{var n=ht;try{if(Lg(),Nc.current=md,pd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pd=!1}if(Mi=0,Tt=vt=Ge=null,pl=!1,Vl=0,Xg.current=null,n===null||n.return===null){wt=1,Ul=e,ht=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=At,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=sw(o);if(y!==null){y.flags&=-257,iw(y,o,a,i,e),y.mode&1&&rw(i,c,e),e=y,u=c;var b=e.updateQueue;if(b===null){var w=new Set;w.add(u),e.updateQueue=w}else b.add(u);break e}else{if(!(e&1)){rw(i,c,e),nv();break e}u=Error(q(426))}}else if(Ke&&a.mode&1){var E=sw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),iw(E,o,a,i,e),jg(ta(u,a));break e}}i=u=ta(u,a),wt!==4&&(wt=2),gl===null?gl=[i]:gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=TE(i,u,e);X0(i,x);break e;case 1:a=u;var g=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ns===null||!Ns.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=bE(i,a,e);X0(i,A);break e}}i=i.return}while(i!==null)}zE(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function $E(){var t=gd.current;return gd.current=md,t===null?md:t}function nv(){(wt===0||wt===3||wt===2)&&(wt=4),bt===null||!(ji&268435455)&&!(hh&268435455)||us(bt,At)}function wd(t,e){var n=Re;Re|=2;var r=$E();(bt!==t||At!==e)&&(Pr=null,Ai(t,e));do try{WA();break}catch(s){UE(t,s)}while(!0);if(Lg(),Re=n,gd.current=r,ht!==null)throw Error(q(261));return bt=null,At=0,wt}function WA(){for(;ht!==null;)BE(ht)}function qA(){for(;ht!==null&&!vR();)BE(ht)}function BE(t){var e=WE(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?zE(t):ht=e,Xg.current=null}function zE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FA(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ht=null;return}}else if(n=LA(n,e,pn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);wt===0&&(wt=5)}function pi(t,e,n){var r=Oe,s=Dn.transition;try{Dn.transition=null,Oe=1,KA(t,e,n,r)}finally{Dn.transition=s,Oe=r}return null}function KA(t,e,n,r){do Ao();while(Ts!==null);if(Re&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(IR(t,i),t===bt&&(ht=bt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,qE(ed,function(){return Ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=Oe;Oe=1;var a=Re;Re|=4,Xg.current=null,$A(t,n),VE(n,t),fA(Up),nd=!!Fp,Up=Fp=null,t.current=n,BA(n),yR(),Re=a,Oe=o,Dn.transition=i}else t.current=n;if(lc&&(lc=!1,Ts=t,yd=s),i=t.pendingLanes,i===0&&(Ns=null),xR(n.stateNode),dn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vd)throw vd=!1,t=om,om=null,t;return yd&1&&t.tag!==0&&Ao(),i=t.pendingLanes,i&1?t===am?vl++:(vl=0,am=t):vl=0,ni(),null}function Ao(){if(Ts!==null){var t=Tx(yd),e=Dn.transition,n=Oe;try{if(Dn.transition=null,Oe=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,yd=0,Re&6)throw Error(q(331));var s=Re;for(Re|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:ml(8,d,i)}var p=d.child;if(p!==null)p.return=d,re=p;else for(;re!==null;){d=re;var h=d.sibling,y=d.return;if(OE(d),d===c){re=null;break}if(h!==null){h.return=y,re=h;break}re=y}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ml(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,re=x;break e}re=i.return}}var g=t.current;for(re=g;re!==null;){o=re;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,re=T;else e:for(o=g;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dh(9,a)}}catch(O){tt(a,a.return,O)}if(a===o){re=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,re=A;break e}re=a.return}}if(Re=s,ni(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(rh,t)}catch{}r=!0}return r}finally{Oe=n,Dn.transition=e}}return!1}function yw(t,e,n){e=ta(n,e),e=TE(t,e,1),t=As(t,e,1),e=Jt(),t!==null&&(hu(t,1,e),dn(t,e))}function tt(t,e,n){if(t.tag===3)yw(t,t,n);else for(;e!==null;){if(e.tag===3){yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=ta(n,t),t=bE(e,t,1),e=As(e,t,1),t=Jt(),e!==null&&(hu(e,1,t),dn(e,t));break}}e=e.return}}function QA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(At&n)===n&&(wt===4||wt===3&&(At&130023424)===At&&500>at()-Zg?Ai(t,0):Jg|=n),dn(t,e)}function HE(t,e){e===0&&(t.mode&1?(e=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):e=1);var n=Jt();t=Fr(t,e),t!==null&&(hu(t,e,n),dn(t,n))}function GA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HE(t,n)}function YA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),HE(t,n)}var WE;WE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,VA(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Ke&&e.flags&1048576&&Gx(e,ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dc(t,e),t=e.pendingProps;var s=Xo(e,Ht.current);Ro(e,n),s=qg(null,e,r,t,s,n);var i=Kg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(i=!0,ad(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$g(e),s.updater=ch,e.stateNode=s,s._reactInternals=e,Gp(e,r,t,n),e=Jp(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&Og(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=JA(r),t=Un(r,t),s){case 0:e=Xp(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=ow(null,e,r,t,n);break e;case 14:e=aw(null,e,r,Un(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),Xp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),lw(t,e,r,s,n);case 3:e:{if(PE(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tE(t,e),hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ta(Error(q(423)),e),e=uw(t,e,r,n,s);break e}else if(r!==s){s=ta(Error(q(424)),e),e=uw(t,e,r,n,s);break e}else for(gn=Rs(e.stateNode.containerInfo.firstChild),yn=e,Ke=!0,Hn=null,n=Zx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),r===s){e=Ur(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return nE(e),t===null&&qp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$p(r,s)?o=null:i!==null&&$p(r,i)&&(e.flags|=32),IE(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&qp(e),null;case 13:return RE(t,e,n);case 4:return Bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zo(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),ow(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(cd,r._currentValue),r._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===s.children&&!un.current){e=Ur(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Mr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Kp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ro(e,n),s=On(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=Un(r,e.pendingProps),s=Un(r.type,s),aw(t,e,r,s,n);case 15:return SE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),Dc(t,e),e.tag=1,cn(r)?(t=!0,ad(e)):t=!1,Ro(e,n),EE(e,r,s),Gp(e,r,s,n),Jp(null,e,r,!0,t,n);case 19:return AE(t,e,n);case 22:return CE(t,e,n)}throw Error(q(156,e.tag))};function qE(t,e){return wx(t,e)}function XA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new XA(t,e,n,r)}function rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JA(t){if(typeof t=="function")return rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eg)return 11;if(t===Tg)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")rv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Ni(n.children,s,i,e);case xg:o=8,s|=8;break;case wp:return t=kn(12,n,e,s|2),t.elementType=wp,t.lanes=i,t;case _p:return t=kn(13,n,e,s),t.elementType=_p,t.lanes=i,t;case xp:return t=kn(19,n,e,s),t.elementType=xp,t.lanes=i,t;case nx:return fh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ex:o=10;break e;case tx:o=9;break e;case Eg:o=11;break e;case Tg:o=14;break e;case os:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ni(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function fh(t,e,n,r){return t=kn(22,t,r,e),t.elementType=nx,t.lanes=n,t.stateNode={isHidden:!1},t}function zf(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function Hf(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sv(t,e,n,r,s,i,o,a,u){return t=new ZA(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(i),t}function e2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KE(t){if(!t)return Bs;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(cn(n))return Kx(t,n,e)}return e}function QE(t,e,n,r,s,i,o,a,u){return t=sv(n,r,!0,t,s,i,o,a,u),t.context=KE(null),n=t.current,r=Jt(),s=ks(n),i=Mr(r,s),i.callback=e??null,As(n,i,s),t.current.lanes=s,hu(t,s,r),dn(t,r),t}function ph(t,e,n,r){var s=e.current,i=Jt(),o=ks(s);return n=KE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(s,e,o),t!==null&&(Qn(t,s,o,i),Ac(t,s,o)),o}function _d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iv(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function t2(){return null}var GE=typeof reportError=="function"?reportError:function(t){console.error(t)};function ov(t){this._internalRoot=t}mh.prototype.render=ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));ph(t,e,null,null)};mh.prototype.unmount=ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){ph(null,t,null,null)}),e[Lr]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ls.length&&e!==0&&e<ls[n].priority;n++);ls.splice(n,0,t),n===0&&Px(t)}};function av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _w(){}function n2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=_d(o);i.call(c)}}var o=QE(e,r,t,0,null,!1,!1,"",_w);return t._reactRootContainer=o,t[Lr]=o.current,kl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=_d(u);a.call(c)}}var u=sv(t,0,!1,null,null,!1,!1,"",_w);return t._reactRootContainer=u,t[Lr]=u.current,kl(t.nodeType===8?t.parentNode:t),Vi(function(){ph(e,u,n,r)}),u}function vh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=_d(o);a.call(u)}}ph(e,o,t,s)}else o=n2(n,e,t,s,r);return _d(o)}bx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(Cg(e,n|1),dn(e,at()),!(Re&6)&&(na=at()+500,ni()))}break;case 13:Vi(function(){var r=Fr(t,1);if(r!==null){var s=Jt();Qn(r,t,1,s)}}),iv(t,1)}};Ig=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=Jt();Qn(e,t,134217728,n)}iv(t,134217728)}};Sx=function(t){if(t.tag===13){var e=ks(t),n=Fr(t,e);if(n!==null){var r=Jt();Qn(n,t,e,r)}iv(t,e)}};Cx=function(){return Oe};Ix=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Np=function(t,e,n){switch(e){case"input":if(bp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ah(r);if(!s)throw Error(q(90));sx(r),bp(r,s)}}}break;case"textarea":ox(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};fx=ev;px=Vi;var r2={usingClientEntryPoint:!1,Events:[pu,yo,ah,dx,hx,ev]},Xa={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s2={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vx(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||t2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{rh=uc.inject(s2),hr=uc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!av(e))throw Error(q(200));return e2(t,e,null,n)};En.createRoot=function(t,e){if(!av(t))throw Error(q(299));var n=!1,r="",s=GE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sv(t,1,!1,null,null,n,!1,r,s),t[Lr]=e.current,kl(t.nodeType===8?t.parentNode:t),new ov(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=vx(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Vi(t)};En.hydrate=function(t,e,n){if(!gh(e))throw Error(q(200));return vh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!av(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QE(e,null,t,1,n??null,s,!1,i,o),t[Lr]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mh(e)};En.render=function(t,e,n){if(!gh(e))throw Error(q(200));return vh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!gh(t))throw Error(q(40));return t._reactRootContainer?(Vi(function(){vh(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};En.unstable_batchedUpdates=ev;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return vh(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(t){console.error(t)}}YE(),Y1.exports=En;var Qi=Y1.exports;const XE=V1(Qi);var JE,xw=Qi;JE=xw.createRoot,xw.hydrateRoot;const i2=1,o2=1e6;let Wf=0;function a2(){return Wf=(Wf+1)%Number.MAX_SAFE_INTEGER,Wf.toString()}const qf=new Map,Ew=t=>{if(qf.has(t))return;const e=setTimeout(()=>{qf.delete(t),yl({type:"REMOVE_TOAST",toastId:t})},o2);qf.set(t,e)},l2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,i2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ew(n):t.toasts.forEach(r=>{Ew(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vc=[];let Lc={toasts:[]};function yl(t){Lc=l2(Lc,t),Vc.forEach(e=>{e(Lc)})}function u2({...t}){const e=a2(),n=s=>yl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yl({type:"DISMISS_TOAST",toastId:e});return yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ZE(){const[t,e]=v.useState(Lc);return v.useEffect(()=>(Vc.push(e),()=>{const n=Vc.indexOf(e);n>-1&&Vc.splice(n,1)}),[t]),{...t,toast:u2,dismiss:n=>yl({type:"DISMISS_TOAST",toastId:n})}}function me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function c2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function eT(...t){return e=>t.forEach(n=>c2(n,e))}function He(...t){return v.useCallback(eT(...t),t)}function d2(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:y,...b}=p,w=(h==null?void 0:h[t][u])||a,E=v.useMemo(()=>b,Object.values(b));return f.jsx(w.Provider,{value:E,children:y})}function d(p,h){const y=(h==null?void 0:h[t][u])||a,b=v.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,h2(s,...e)]}function h2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var jn=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(f2);if(i){const o=i.props.children,a=s.map(u=>u===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:u);return f.jsx(cm,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return f.jsx(cm,{...r,ref:e,children:n})});jn.displayName="Slot";var cm=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=m2(n);return v.cloneElement(n,{...p2(r,n.props),ref:e?eT(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});cm.displayName="SlotClone";var tT=({children:t})=>f.jsx(f.Fragment,{children:t});function f2(t){return v.isValidElement(t)&&t.type===tT}function p2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function m2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function nT(t){const e=t+"CollectionProvider",[n,r]=d2(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:w}=y,E=Y.useRef(null),x=Y.useRef(new Map).current;return f.jsx(s,{scope:b,itemMap:x,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",u=Y.forwardRef((y,b)=>{const{scope:w,children:E}=y,x=i(a,w),g=He(b,x.collectionRef);return f.jsx(jn,{ref:g,children:E})});u.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",p=Y.forwardRef((y,b)=>{const{scope:w,children:E,...x}=y,g=Y.useRef(null),T=He(b,g),A=i(c,w);return Y.useEffect(()=>(A.itemMap.set(g,{ref:g,...x}),()=>void A.itemMap.delete(g))),f.jsx(jn,{[d]:"",ref:T,children:E})});p.displayName=c;function h(y){const b=i(t+"CollectionConsumer",y);return Y.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((A,O)=>x.indexOf(A.ref.current)-x.indexOf(O.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},h,r]}function g2(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,u=v.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function yh(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),u=n.length;n=[...n,o];const c=p=>{var x;const{scope:h,children:y,...b}=p,w=((x=h==null?void 0:h[t])==null?void 0:x[u])||a,E=v.useMemo(()=>b,Object.values(b));return f.jsx(w.Provider,{value:E,children:y})};c.displayName=i+"Provider";function d(p,h){var w;const y=((w=h==null?void 0:h[t])==null?void 0:w[u])||a,b=v.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,v2(s,...e)]}function v2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var y2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=y2.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?jn:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function rT(t,e){t&&Qi.flushSync(()=>t.dispatchEvent(e))}function xn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function w2(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _2="DismissableLayer",dm="dismissableLayer.update",x2="dismissableLayer.pointerDownOutside",E2="dismissableLayer.focusOutside",Tw,sT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=v.useContext(sT),[d,p]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),b=He(e,I=>p(I)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(E),g=d?w.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,A=g>=x,O=b2(I=>{const C=I.target,R=[...c.branches].some(S=>S.contains(C));!A||R||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},h),V=S2(I=>{const C=I.target;[...c.branches].some(S=>S.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},h);return w2(I=>{g===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Tw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),bw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Tw)}},[d,h,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),bw())},[d,c]),v.useEffect(()=>{const I=()=>y({});return document.addEventListener(dm,I),()=>document.removeEventListener(dm,I)},[]),f.jsx(Ie.div,{...u,ref:b,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,V.onFocusCapture),onBlurCapture:me(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,O.onPointerDownCapture)})});gu.displayName=_2;var T2="DismissableLayerBranch",iT=v.forwardRef((t,e)=>{const n=v.useContext(sT),r=v.useRef(null),s=He(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Ie.div,{...t,ref:s})});iT.displayName=T2;function b2(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){oT(x2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function S2(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&oT(E2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bw(){const t=new CustomEvent(dm);document.dispatchEvent(t)}function oT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rT(s,i):s.dispatchEvent(i)}var C2=gu,I2=iT,Wt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},P2="Portal",wh=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Wt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XE.createPortal(f.jsx(Ie.div,{...r,ref:e}),o):null});wh.displayName=P2;function R2(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var pa=t=>{const{present:e,children:n}=t,r=A2(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=He(r.ref,N2(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};pa.displayName="Presence";function A2(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,u]=R2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=cc(r.current);i.current=a==="mounted"?c:"none"},[a]),Wt(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,y=cc(c);t?u("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Wt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,p=y=>{const w=cc(r.current).includes(y.animationName);if(y.target===e&&w&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=y=>{y.target===e&&(i.current=cc(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function cc(t){return(t==null?void 0:t.animationName)||"none"}function N2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $l({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=k2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=xn(n),u=v.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,u]}function k2({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=xn(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var D2="VisuallyHidden",vu=v.forwardRef((t,e)=>f.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vu.displayName=D2;var O2=vu,lv="ToastProvider",[uv,M2,j2]=nT("Toast"),[aT,g6]=yh("Toast",[j2]),[V2,_h]=aT(lv),lT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=v.useState(null),[c,d]=v.useState(0),p=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lv}\`. Expected non-empty \`string\`.`),f.jsx(uv.Provider,{scope:e,children:f.jsx(V2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:v.useCallback(()=>d(y=>y+1),[]),onToastRemove:v.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};lT.displayName=lv;var uT="ToastViewport",L2=["F8"],hm="toast.viewportPause",fm="toast.viewportResume",cT=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=L2,label:s="Notifications ({hotkey})",...i}=t,o=_h(uT,n),a=M2(n),u=v.useRef(null),c=v.useRef(null),d=v.useRef(null),p=v.useRef(null),h=He(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const E=x=>{var T;r.length!==0&&r.every(A=>x[A]||x.code===A)&&((T=p.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),v.useEffect(()=>{const E=u.current,x=p.current;if(b&&E&&x){const g=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(hm);x.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(fm);x.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!E.contains(V.relatedTarget)&&T()},O=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",g),E.addEventListener("focusout",A),E.addEventListener("pointermove",g),E.addEventListener("pointerleave",O),window.addEventListener("blur",g),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",g),E.removeEventListener("focusout",A),E.removeEventListener("pointermove",g),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",g),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:E})=>{const g=a().map(T=>{const A=T.ref.current,O=[A,...X2(A)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?g.reverse():g).flat()},[a]);return v.useEffect(()=>{const E=p.current;if(E){const x=g=>{var O,V,I;const T=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!T){const C=document.activeElement,R=g.shiftKey;if(g.target===E&&R){(O=c.current)==null||O.focus();return}const D=w({tabbingDirection:R?"backwards":"forwards"}),N=D.findIndex(W=>W===C);Kf(D.slice(N+1))?g.preventDefault():R?(V=c.current)==null||V.focus():(I=d.current)==null||I.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,w]),f.jsxs(I2,{ref:u,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&f.jsx(pm,{ref:c,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});Kf(E)}}),f.jsx(uv.Slot,{scope:n,children:f.jsx(Ie.ol,{tabIndex:-1,...i,ref:h})}),b&&f.jsx(pm,{ref:d,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});Kf(E)}})]})});cT.displayName=uT;var dT="ToastFocusProxy",pm=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=_h(dT,n);return f.jsx(vu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});pm.displayName=dT;var xh="Toast",F2="toast.swipeStart",U2="toast.swipeMove",$2="toast.swipeCancel",B2="toast.swipeEnd",hT=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=$l({prop:r,defaultProp:s,onChange:i});return f.jsx(pa,{present:n||a,children:f.jsx(W2,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:xn(t.onPause),onResume:xn(t.onResume),onSwipeStart:me(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(t.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:me(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(t.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});hT.displayName=xh;var[z2,H2]=aT(xh,{onClose(){}}),W2=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:y,...b}=t,w=_h(xh,n),[E,x]=v.useState(null),g=He(e,W=>x(W)),T=v.useRef(null),A=v.useRef(null),O=s||w.duration,V=v.useRef(0),I=v.useRef(O),C=v.useRef(0),{onToastAdd:R,onToastRemove:S}=w,k=xn(()=>{var ie;(E==null?void 0:E.contains(document.activeElement))&&((ie=w.viewport)==null||ie.focus()),o()}),D=v.useCallback(W=>{!W||W===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(k,W))},[k]);v.useEffect(()=>{const W=w.viewport;if(W){const ie=()=>{D(I.current),c==null||c()},J=()=>{const F=new Date().getTime()-V.current;I.current=I.current-F,window.clearTimeout(C.current),u==null||u()};return W.addEventListener(hm,J),W.addEventListener(fm,ie),()=>{W.removeEventListener(hm,J),W.removeEventListener(fm,ie)}}},[w.viewport,O,u,c,D]),v.useEffect(()=>{i&&!w.isClosePausedRef.current&&D(O)},[i,O,w.isClosePausedRef,D]),v.useEffect(()=>(R(),()=>S()),[R,S]);const N=v.useMemo(()=>E?wT(E):null,[E]);return w.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(q2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),f.jsx(z2,{scope:n,onClose:k,children:Qi.createPortal(f.jsx(uv.ItemSlot,{scope:n,children:f.jsx(C2,{asChild:!0,onEscapeKeyDown:me(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:me(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:me(t.onPointerDown,W=>{W.button===0&&(T.current={x:W.clientX,y:W.clientY})}),onPointerMove:me(t.onPointerMove,W=>{if(!T.current)return;const ie=W.clientX-T.current.x,J=W.clientY-T.current.y,F=!!A.current,j=["left","right"].includes(w.swipeDirection),$=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,K=j?$(0,ie):0,H=j?0:$(0,J),Q=W.pointerType==="touch"?10:2,X={x:K,y:H},fe={originalEvent:W,delta:X};F?(A.current=X,dc(U2,p,fe,{discrete:!1})):Sw(X,w.swipeDirection,Q)?(A.current=X,dc(F2,d,fe,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>Q||Math.abs(J)>Q)&&(T.current=null)}),onPointerUp:me(t.onPointerUp,W=>{const ie=A.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),A.current=null,T.current=null,ie){const F=W.currentTarget,j={originalEvent:W,delta:ie};Sw(ie,w.swipeDirection,w.swipeThreshold)?dc(B2,y,j,{discrete:!0}):dc($2,h,j,{discrete:!0}),F.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),q2=t=>{const{__scopeToast:e,children:n,...r}=t,s=_h(xh,e),[i,o]=v.useState(!1),[a,u]=v.useState(!1);return G2(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(wh,{asChild:!0,children:f.jsx(vu,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},K2="ToastTitle",fT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Ie.div,{...r,ref:e})});fT.displayName=K2;var Q2="ToastDescription",pT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Ie.div,{...r,ref:e})});pT.displayName=Q2;var mT="ToastAction",gT=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(yT,{altText:n,asChild:!0,children:f.jsx(cv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mT}\`. Expected non-empty \`string\`.`),null)});gT.displayName=mT;var vT="ToastClose",cv=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=H2(vT,n);return f.jsx(yT,{asChild:!0,children:f.jsx(Ie.button,{type:"button",...r,ref:e,onClick:me(t.onClick,s.onClose)})})});cv.displayName=vT;var yT=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function wT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Y2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...wT(r))}}),e}function dc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rT(s,i):s.dispatchEvent(i)}var Sw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function G2(t=()=>{}){const e=xn(t);Wt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Y2(t){return t.nodeType===t.ELEMENT_NODE}function X2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Kf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var J2=lT,_T=cT,xT=hT,ET=fT,TT=pT,bT=gT,ST=cv;function CT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=CT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function IT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=CT(t))&&(r&&(r+=" "),r+=e);return r}const Cw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Iw=IT,ma=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Iw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],p=i==null?void 0:i[c];if(d===null)return null;const h=Cw(d)||Cw(p);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:p,className:h,...y}=d;return Object.entries(y).every(b=>{let[w,E]=b;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...c,p,h]:c},[]);return Iw(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>v.createElement("svg",{ref:u,...eN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:PT("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(tN,{ref:i,iconNode:e,className:PT(`lucide-${Z2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=lt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=lt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=lt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=lt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=lt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=lt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=lt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mv="-",fN=t=>{const e=mN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(mv);return a[0]===""&&a.length!==1&&a.shift(),kT(a,e)||pN(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},kT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(mv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Rw=/^\[(.+)\]$/,pN=t=>{if(Rw.test(t)){const e=Rw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return vN(Object.entries(t.classGroups),n).forEach(([i,o])=>{mm(o,r,i,e)}),r},mm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Aw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(gN(s)){mm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{mm(o,Aw(e,i),n,r)})})},Aw=(t,e)=>{let n=t;return e.split(mv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gN=t=>t.isThemeGetter,vN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,yN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},DT="!",wN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,p;for(let E=0;E<a.length;E++){let x=a[E];if(c===0){if(x===s&&(r||a.slice(E,E+i)===e)){u.push(a.slice(d,E)),d=E+i;continue}if(x==="/"){p=E;continue}}x==="["?c++:x==="]"&&c--}const h=u.length===0?a:a.substring(d),y=h.startsWith(DT),b=y?h.substring(1):h,w=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},_N=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},xN=t=>({cache:yN(t.cacheSize),parseClassName:wN(t),...fN(t)}),EN=/\s+/,TN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(EN);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let b=!!y,w=r(b?h.substring(0,y):h);if(!w){if(!b){a=c+(a.length>0?" "+a:a);continue}if(w=r(h),!w){a=c+(a.length>0?" "+a:a);continue}b=!1}const E=_N(d).join(":"),x=p?E+DT:E,g=x+w;if(i.includes(g))continue;i.push(g);const T=s(w,b);for(let A=0;A<T.length;++A){const O=T[A];i.push(x+O)}a=c+(a.length>0?" "+a:a)}return a};function bN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=OT(e))&&(r&&(r+=" "),r+=n);return r}const OT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=OT(t[r]))&&(n&&(n+=" "),n+=e);return n};function SN(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,p)=>p(d),t());return n=xN(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=TN(u,n);return s(u,d),d}return function(){return i(bN.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MT=/^\[(?:([a-z-]+):)?(.+)\]$/i,CN=/^\d+\/\d+$/,IN=new Set(["px","full","screen"]),PN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>No(t)||IN.has(t)||CN.test(t),ts=t=>ga(t,"length",UN),No=t=>!!t&&!Number.isNaN(Number(t)),Qf=t=>ga(t,"number",No),Ja=t=>!!t&&Number.isInteger(Number(t)),DN=t=>t.endsWith("%")&&No(t.slice(0,-1)),pe=t=>MT.test(t),ns=t=>PN.test(t),ON=new Set(["length","size","percentage"]),MN=t=>ga(t,ON,jT),jN=t=>ga(t,"position",jT),VN=new Set(["image","url"]),LN=t=>ga(t,VN,BN),FN=t=>ga(t,"",$N),Za=()=>!0,ga=(t,e,n)=>{const r=MT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UN=t=>RN.test(t)&&!AN.test(t),jT=()=>!1,$N=t=>NN.test(t),BN=t=>kN.test(t),zN=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),u=$e("contrast"),c=$e("grayscale"),d=$e("hueRotate"),p=$e("invert"),h=$e("gap"),y=$e("gradientColorStops"),b=$e("gradientColorStopPositions"),w=$e("inset"),E=$e("margin"),x=$e("opacity"),g=$e("padding"),T=$e("saturate"),A=$e("scale"),O=$e("sepia"),V=$e("skew"),I=$e("space"),C=$e("translate"),R=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pe,e],D=()=>[pe,e],N=()=>["",Cr,ts],W=()=>["auto",No,pe],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",pe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[No,pe];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[Cr,ts],blur:["none","",ns,pe],brightness:H(),borderColor:[t],borderRadius:["none","","full",ns,pe],borderSpacing:D(),borderWidth:N(),contrast:H(),grayscale:$(),hueRotate:H(),invert:$(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[DN,ts],inset:k(),margin:k(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:$(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),pe]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,pe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ja,pe]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Ja,pe]},pe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Ja,pe]},pe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",No,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,ts]}],"underline-offset":[{"underline-offset":["auto",Cr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),jN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Cr,pe]}],"outline-w":[{outline:[Cr,ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Cr,ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ns,FN]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ns,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ja,pe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,ts,Qf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HN=SN(zN);function te(...t){return HN(IT(t))}const WN=J2,VT=v.forwardRef(({className:t,...e},n)=>f.jsx(_T,{ref:n,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VT.displayName=_T.displayName;const qN=ma("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LT=v.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(xT,{ref:r,className:te(qN({variant:e}),t),...n}));LT.displayName=xT.displayName;const KN=v.forwardRef(({className:t,...e},n)=>f.jsx(bT,{ref:n,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KN.displayName=bT.displayName;const FT=v.forwardRef(({className:t,...e},n)=>f.jsx(ST,{ref:n,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(pv,{className:"h-4 w-4"})}));FT.displayName=ST.displayName;const UT=v.forwardRef(({className:t,...e},n)=>f.jsx(ET,{ref:n,className:te("text-sm font-semibold",t),...e}));UT.displayName=ET.displayName;const $T=v.forwardRef(({className:t,...e},n)=>f.jsx(TT,{ref:n,className:te("text-sm opacity-90",t),...e}));$T.displayName=TT.displayName;function QN(){const{toasts:t}=ZE();return f.jsxs(WN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(LT,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(UT,{children:n}),r&&f.jsx($T,{children:r})]}),s,f.jsx(FT,{})]},e)}),f.jsx(VT,{})]})}var Nw=["light","dark"],GN="(prefers-color-scheme: dark)",YN=v.createContext(void 0),XN={setTheme:t=>{},themes:[]},JN=()=>{var t;return(t=v.useContext(YN))!=null?t:XN};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?Nw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(b,w=!1,E=!0)=>{let x=o?o[b]:b,g=w?b+"|| ''":`'${x}'`,T="";return s&&E&&!w&&Nw.includes(b)&&(T+=`d.style.colorScheme = '${b}';`),n==="class"?w||x?T+=`c.add(${g})`:T+="null":x&&(T+=`d[s](n,${g})`),T},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${GN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var ZN=t=>{switch(t){case"success":return nk;case"info":return sk;case"warning":return rk;case"error":return ik;default:return null}},ek=Array(12).fill(0),tk=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},ek.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ik=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ok=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},gm=1,ak=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:gm++,o=this.toasts.find(u=>u.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:a,title:r}):u):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(uk(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,u=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:u})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:u})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:u})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||gm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},fn=new ak,lk=(t,e)=>{let n=(e==null?void 0:e.id)||gm++;return fn.addToast({title:t,...e,id:n}),n},uk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ck=lk,dk=()=>fn.toasts;Object.assign(ck,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:dk});function hk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}hk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hc(t){return t.label!==void 0}var fk=3,pk="32px",mk=4e3,gk=356,vk=14,yk=20,wk=200;function _k(...t){return t.filter(Boolean).join(" ")}var xk=t=>{var e,n,r,s,i,o,a,u,c,d;let{invert:p,toast:h,unstyled:y,interacting:b,setHeights:w,visibleToasts:E,heights:x,index:g,toasts:T,expanded:A,removeToast:O,defaultRichColors:V,closeButton:I,style:C,cancelButtonStyle:R,actionButtonStyle:S,className:k="",descriptionClassName:D="",duration:N,position:W,gap:ie,loadingIcon:J,expandByDefault:F,classNames:j,icons:$,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:H,cn:Q}=t,[X,fe]=Y.useState(!1),[be,le]=Y.useState(!1),[se,Pe]=Y.useState(!1),[We,ye]=Y.useState(!1),[Ee,_e]=Y.useState(0),[mt,St]=Y.useState(0),bn=Y.useRef(null),qt=Y.useRef(null),xr=g===0,Pa=g+1<=E,ut=h.type,tr=h.dismissible!==!1,Ru=h.className||"",nf=h.descriptionClassName||"",Qr=Y.useMemo(()=>x.findIndex(ce=>ce.toastId===h.id)||0,[x,h.id]),Ra=Y.useMemo(()=>{var ce;return(ce=h.closeButton)!=null?ce:I},[h.closeButton,I]),Aa=Y.useMemo(()=>h.duration||N||mk,[h.duration,N]),ct=Y.useRef(0),Je=Y.useRef(0),li=Y.useRef(0),Er=Y.useRef(null),[Na,rf]=W.split("-"),Gr=Y.useMemo(()=>x.reduce((ce,Me,De)=>De>=Qr?ce:ce+Me.height,0),[x,Qr]),ka=ok(),Au=h.invert||p,ui=ut==="loading";Je.current=Y.useMemo(()=>Qr*ie+Gr,[Qr,Gr]),Y.useEffect(()=>{fe(!0)},[]),Y.useLayoutEffect(()=>{if(!X)return;let ce=qt.current,Me=ce.style.height;ce.style.height="auto";let De=ce.getBoundingClientRect().height;ce.style.height=Me,St(De),w(Dt=>Dt.find(tn=>tn.toastId===h.id)?Dt.map(tn=>tn.toastId===h.id?{...tn,height:De}:tn):[{toastId:h.id,height:De,position:h.position},...Dt])},[X,h.title,h.description,w,h.id]);let nr=Y.useCallback(()=>{le(!0),_e(Je.current),w(ce=>ce.filter(Me=>Me.toastId!==h.id)),setTimeout(()=>{O(h)},wk)},[h,O,w,Je]);Y.useEffect(()=>{if(h.promise&&ut==="loading"||h.duration===1/0||h.type==="loading")return;let ce,Me=Aa;return A||b||H&&ka?(()=>{if(li.current<ct.current){let De=new Date().getTime()-ct.current;Me=Me-De}li.current=new Date().getTime()})():Me!==1/0&&(ct.current=new Date().getTime(),ce=setTimeout(()=>{var De;(De=h.onAutoClose)==null||De.call(h,h),nr()},Me)),()=>clearTimeout(ce)},[A,b,F,h,Aa,nr,h.promise,ut,H,ka]),Y.useEffect(()=>{let ce=qt.current;if(ce){let Me=ce.getBoundingClientRect().height;return St(Me),w(De=>[{toastId:h.id,height:Me,position:h.position},...De]),()=>w(De=>De.filter(Dt=>Dt.toastId!==h.id))}},[w,h.id]),Y.useEffect(()=>{h.delete&&nr()},[nr,h.delete]);function sf(){return $!=null&&$.loading?Y.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},$.loading):J?Y.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},J):Y.createElement(tk,{visible:ut==="loading"})}return Y.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:qt,className:Q(k,Ru,j==null?void 0:j.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[ut],(n=h==null?void 0:h.classNames)==null?void 0:n[ut]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:V,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":X,"data-promise":!!h.promise,"data-removed":be,"data-visible":Pa,"data-y-position":Na,"data-x-position":rf,"data-index":g,"data-front":xr,"data-swiping":se,"data-dismissible":tr,"data-type":ut,"data-invert":Au,"data-swipe-out":We,"data-expanded":!!(A||F&&X),style:{"--index":g,"--toasts-before":g,"--z-index":T.length-g,"--offset":`${be?Ee:Je.current}px`,"--initial-height":F?"auto":`${mt}px`,...C,...h.style},onPointerDown:ce=>{ui||!tr||(bn.current=new Date,_e(Je.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Pe(!0),Er.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Me,De,Dt;if(We||!tr)return;Er.current=null;let tn=Number(((ce=qt.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Yr=new Date().getTime()-((Me=bn.current)==null?void 0:Me.getTime()),Tr=Math.abs(tn)/Yr;if(Math.abs(tn)>=yk||Tr>.11){_e(Je.current),(De=h.onDismiss)==null||De.call(h,h),nr(),ye(!0);return}(Dt=qt.current)==null||Dt.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:ce=>{var Me;if(!Er.current||!tr)return;let De=ce.clientY-Er.current.y,Dt=ce.clientX-Er.current.x,tn=(Na==="top"?Math.min:Math.max)(0,De),Yr=ce.pointerType==="touch"?10:2;Math.abs(tn)>Yr?(Me=qt.current)==null||Me.style.setProperty("--swipe-amount",`${De}px`):Math.abs(Dt)>Yr&&(Er.current=null)}},Ra&&!h.jsx?Y.createElement("button",{"aria-label":K,"data-disabled":ui,"data-close-button":!0,onClick:ui||!tr?()=>{}:()=>{var ce;nr(),(ce=h.onDismiss)==null||ce.call(h,h)},className:Q(j==null?void 0:j.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Y.isValidElement(h.title)?h.jsx||h.title:Y.createElement(Y.Fragment,null,ut||h.icon||h.promise?Y.createElement("div",{"data-icon":"",className:Q(j==null?void 0:j.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||sf():null,h.type!=="loading"?h.icon||($==null?void 0:$[ut])||ZN(ut):null):null,Y.createElement("div",{"data-content":"",className:Q(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:Q(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Y.createElement("div",{"data-description":"",className:Q(D,nf,j==null?void 0:j.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},h.description):null),Y.isValidElement(h.cancel)?h.cancel:h.cancel&&hc(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:ce=>{var Me,De;hc(h.cancel)&&tr&&((De=(Me=h.cancel).onClick)==null||De.call(Me,ce),nr())},className:Q(j==null?void 0:j.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Y.isValidElement(h.action)?h.action:h.action&&hc(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||S,onClick:ce=>{var Me,De;hc(h.action)&&(ce.defaultPrevented||((De=(Me=h.action).onClick)==null||De.call(Me,ce),nr()))},className:Q(j==null?void 0:j.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function kw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Ek=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:u="light",richColors:c,duration:d,style:p,visibleToasts:h=fk,toastOptions:y,dir:b=kw(),gap:w=vk,loadingIcon:E,icons:x,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:T,cn:A=_k}=t,[O,V]=Y.useState([]),I=Y.useMemo(()=>Array.from(new Set([n].concat(O.filter(H=>H.position).map(H=>H.position)))),[O,n]),[C,R]=Y.useState([]),[S,k]=Y.useState(!1),[D,N]=Y.useState(!1),[W,ie]=Y.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Y.useRef(null),F=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=Y.useRef(null),$=Y.useRef(!1),K=Y.useCallback(H=>{var Q;(Q=O.find(X=>X.id===H.id))!=null&&Q.delete||fn.dismiss(H.id),V(X=>X.filter(({id:fe})=>fe!==H.id))},[O]);return Y.useEffect(()=>fn.subscribe(H=>{if(H.dismiss){V(Q=>Q.map(X=>X.id===H.id?{...X,delete:!0}:X));return}setTimeout(()=>{XE.flushSync(()=>{V(Q=>{let X=Q.findIndex(fe=>fe.id===H.id);return X!==-1?[...Q.slice(0,X),{...Q[X],...H},...Q.slice(X+1)]:[H,...Q]})})})}),[]),Y.useEffect(()=>{if(u!=="system"){ie(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{ie(H?"dark":"light")})},[u]),Y.useEffect(()=>{O.length<=1&&k(!1)},[O]),Y.useEffect(()=>{let H=Q=>{var X,fe;r.every(be=>Q[be]||Q.code===be)&&(k(!0),(X=J.current)==null||X.focus()),Q.code==="Escape"&&(document.activeElement===J.current||(fe=J.current)!=null&&fe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),Y.useEffect(()=>{if(J.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,$.current=!1)}},[J.current]),O.length?Y.createElement("section",{"aria-label":`${g} ${F}`,tabIndex:-1},I.map((H,Q)=>{var X;let[fe,be]=H.split("-");return Y.createElement("ol",{key:H,dir:b==="auto"?kw():b,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":fe,"data-x-position":be,style:{"--front-toast-height":`${((X=C[0])==null?void 0:X.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||pk,"--width":`${gk}px`,"--gap":`${w}px`,...p},onBlur:le=>{$.current&&!le.currentTarget.contains(le.relatedTarget)&&($.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||$.current||($.current=!0,j.current=le.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},O.filter(le=>!le.position&&Q===0||le.position===H).map((le,se)=>{var Pe,We;return Y.createElement(xk,{key:le.id,icons:x,index:se,toast:le,defaultRichColors:c,duration:(Pe=y==null?void 0:y.duration)!=null?Pe:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(We=y==null?void 0:y.closeButton)!=null?We:i,interacting:D,position:H,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:K,toasts:O.filter(ye=>ye.position==le.position),heights:C.filter(ye=>ye.position==le.position),setHeights:R,expandByDefault:s,gap:w,loadingIcon:E,expanded:S,pauseWhenPageIsHidden:T,cn:A})}))})):null};const Tk=({...t})=>{const{theme:e="system"}=JN();return f.jsx(Ek,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var bk=Q1.useId||(()=>{}),Sk=0;function ki(t){const[e,n]=v.useState(bk());return Wt(()=>{n(r=>r??String(Sk++))},[t]),e?`radix-${e}`:""}const Ck=["top","right","bottom","left"],zs=Math.min,mn=Math.max,Ed=Math.round,fc=Math.floor,Hs=t=>({x:t,y:t}),Ik={left:"right",right:"left",bottom:"top",top:"bottom"},Pk={start:"end",end:"start"};function vm(t,e,n){return mn(t,zs(e,n))}function $r(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function va(t){return t.split("-")[1]}function gv(t){return t==="x"?"y":"x"}function vv(t){return t==="y"?"height":"width"}function Ws(t){return["top","bottom"].includes(Br(t))?"y":"x"}function yv(t){return gv(Ws(t))}function Rk(t,e,n){n===void 0&&(n=!1);const r=va(t),s=yv(t),i=vv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Td(o)),[o,Td(o)]}function Ak(t){const e=Td(t);return[ym(t),e,ym(e)]}function ym(t){return t.replace(/start|end/g,e=>Pk[e])}function Nk(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function kk(t,e,n,r){const s=va(t);let i=Nk(Br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ym)))),i}function Td(t){return t.replace(/left|right|bottom|top/g,e=>Ik[e])}function Dk(t){return{top:0,right:0,bottom:0,left:0,...t}}function BT(t){return typeof t!="number"?Dk(t):{top:t,right:t,bottom:t,left:t}}function bd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Dw(t,e,n){let{reference:r,floating:s}=t;const i=Ws(e),o=yv(e),a=vv(o),u=Br(e),c=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let y;switch(u){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch(va(e)){case"start":y[o]-=h*(n&&c?-1:1);break;case"end":y[o]+=h*(n&&c?-1:1);break}return y}const Ok=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=Dw(c,r,u),h=r,y={},b=0;for(let w=0;w<a.length;w++){const{name:E,fn:x}=a[w],{x:g,y:T,data:A,reset:O}=await x({x:d,y:p,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});d=g??d,p=T??p,y={...y,[E]:{...y[E],...A}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:p}=Dw(c,h,u)),w=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:y}};async function zl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:y=0}=$r(e,t),b=BT(y),E=a[h?p==="floating"?"reference":"floating":p],x=bd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),g=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=bd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:T,strategy:u}):g);return{top:(x.top-O.top+b.top)/A.y,bottom:(O.bottom-x.bottom+b.bottom)/A.y,left:(x.left-O.left+b.left)/A.x,right:(O.right-x.right+b.right)/A.x}}const Mk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=$r(t,e)||{};if(c==null)return{};const p=BT(d),h={x:n,y:r},y=yv(s),b=vv(y),w=await o.getDimensions(c),E=y==="y",x=E?"top":"left",g=E?"bottom":"right",T=E?"clientHeight":"clientWidth",A=i.reference[b]+i.reference[y]-h[y]-i.floating[b],O=h[y]-i.reference[y],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=V?V[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[T]||i.floating[b]);const C=A/2-O/2,R=I/2-w[b]/2-1,S=zs(p[x],R),k=zs(p[g],R),D=S,N=I-w[b]-k,W=I/2-w[b]/2+C,ie=vm(D,W,N),J=!u.arrow&&va(s)!=null&&W!==ie&&i.reference[b]/2-(W<D?S:k)-w[b]/2<0,F=J?W<D?W-D:W-N:0;return{[y]:h[y]+F,data:{[y]:ie,centerOffset:W-ie-F,...J&&{alignmentOffset:F}},reset:J}}}),jk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...E}=$r(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Br(s),g=Ws(a),T=Br(a)===a,A=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=h||(T||!w?[Td(a)]:Ak(a)),V=b!=="none";!h&&V&&O.push(...kk(a,w,b,A));const I=[a,...O],C=await zl(e,E),R=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(C[x]),p){const W=Rk(s,o,A);R.push(C[W[0]],C[W[1]])}if(S=[...S,{placement:s,overflows:R}],!R.every(W=>W<=0)){var k,D;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=I[W];if(ie)return{data:{index:W,overflows:S},reset:{placement:ie}};let J=(D=S.filter(F=>F.overflows[0]<=0).sort((F,j)=>F.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(y){case"bestFit":{var N;const F=(N=S.filter(j=>{if(V){const $=Ws(j.placement);return $===g||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:N[0];F&&(J=F);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function Ow(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Mw(t){return Ck.some(e=>t[e]>=0)}const Vk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=$r(t,e);switch(r){case"referenceHidden":{const i=await zl(e,{...s,elementContext:"reference"}),o=Ow(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Mw(o)}}}case"escaped":{const i=await zl(e,{...s,altBoundary:!0}),o=Ow(i,n.floating);return{data:{escapedOffsets:o,escaped:Mw(o)}}}default:return{}}}}};async function Lk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Br(n),a=va(n),u=Ws(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&u?-1:1,p=$r(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),u?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const Fk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await Lk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},Uk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x,y:g}=E;return{x,y:g}}},...u}=$r(t,e),c={x:n,y:r},d=await zl(e,u),p=Ws(Br(s)),h=gv(p);let y=c[h],b=c[p];if(i){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=y+d[E],T=y-d[x];y=vm(g,y,T)}if(o){const E=p==="y"?"top":"left",x=p==="y"?"bottom":"right",g=b+d[E],T=b-d[x];b=vm(g,b,T)}const w=a.fn({...e,[h]:y,[p]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:i,[p]:o}}}}}},$k=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=$r(t,e),d={x:n,y:r},p=Ws(s),h=gv(p);let y=d[h],b=d[p];const w=$r(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const T=h==="y"?"height":"width",A=i.reference[h]-i.floating[T]+E.mainAxis,O=i.reference[h]+i.reference[T]-E.mainAxis;y<A?y=A:y>O&&(y=O)}if(c){var x,g;const T=h==="y"?"width":"height",A=["top","left"].includes(Br(s)),O=i.reference[p]-i.floating[T]+(A&&((x=o.offset)==null?void 0:x[p])||0)+(A?0:E.crossAxis),V=i.reference[p]+i.reference[T]+(A?0:((g=o.offset)==null?void 0:g[p])||0)-(A?E.crossAxis:0);b<O?b=O:b>V&&(b=V)}return{[h]:y,[p]:b}}}},Bk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=$r(t,e),d=await zl(e,c),p=Br(s),h=va(s),y=Ws(s)==="y",{width:b,height:w}=i.floating;let E,x;p==="top"||p==="bottom"?(E=p,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,E=h==="end"?"top":"bottom");const g=w-d.top-d.bottom,T=b-d.left-d.right,A=zs(w-d[E],g),O=zs(b-d[x],T),V=!e.middlewareData.shift;let I=A,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=g),V&&!h){const S=mn(d.left,0),k=mn(d.right,0),D=mn(d.top,0),N=mn(d.bottom,0);y?C=b-2*(S!==0||k!==0?S+k:mn(d.left,d.right)):I=w-2*(D!==0||N!==0?D+N:mn(d.top,d.bottom))}await u({...e,availableWidth:C,availableHeight:I});const R=await o.getDimensions(a.floating);return b!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function Eh(){return typeof window<"u"}function ya(t){return zT(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _r(t){var e;return(e=(zT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zT(t){return Eh()?t instanceof Node||t instanceof wn(t).Node:!1}function Xn(t){return Eh()?t instanceof Element||t instanceof wn(t).Element:!1}function yr(t){return Eh()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function jw(t){return!Eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}function yu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function zk(t){return["table","td","th"].includes(ya(t))}function Th(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wv(t){const e=_v(),n=Xn(t)?Jn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Hk(t){let e=qs(t);for(;yr(e)&&!ra(e);){if(wv(e))return e;if(Th(e))return null;e=qs(e)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ra(t){return["html","body","#document"].includes(ya(t))}function Jn(t){return wn(t).getComputedStyle(t)}function bh(t){return Xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qs(t){if(ya(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jw(t)&&t.host||_r(t);return jw(e)?e.host:e}function HT(t){const e=qs(t);return ra(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&yu(e)?e:HT(e)}function Hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=HT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=wn(s);if(i){const a=wm(o);return e.concat(o,o.visualViewport||[],yu(s)?s:[],a&&n?Hl(a):[])}return e.concat(s,Hl(s,[],n))}function wm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WT(t){const e=Jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ed(n)!==i||Ed(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function xv(t){return Xn(t)?t:t.contextElement}function ko(t){const e=xv(t);if(!yr(e))return Hs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=WT(e);let o=(i?Ed(n.width):n.width)/r,a=(i?Ed(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Wk=Hs(0);function qT(t){const e=wn(t);return!_v()||!e.visualViewport?Wk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function Li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=xv(t);let o=Hs(1);e&&(r?Xn(r)&&(o=ko(r)):o=ko(t));const a=qk(i,n,r)?qT(i):Hs(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=wn(i),y=r&&Xn(r)?wn(r):r;let b=h,w=wm(b);for(;w&&r&&y!==b;){const E=ko(w),x=w.getBoundingClientRect(),g=Jn(w),T=x.left+(w.clientLeft+parseFloat(g.paddingLeft))*E.x,A=x.top+(w.clientTop+parseFloat(g.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,p*=E.y,u+=T,c+=A,b=wn(w),w=wm(b)}}return bd({width:d,height:p,x:u,y:c})}function Kk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=_r(r),a=e?Th(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Hs(1);const d=Hs(0),p=yr(r);if((p||!p&&!i)&&((ya(r)!=="body"||yu(o))&&(u=bh(r)),yr(r))){const h=Li(r);c=ko(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}}function Qk(t){return Array.from(t.getClientRects())}function _m(t,e){const n=bh(t).scrollLeft;return e?e.left+n:Li(_r(t)).left+n}function Gk(t){const e=_r(t),n=bh(t),r=t.ownerDocument.body,s=mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_m(t);const a=-n.scrollTop;return Jn(r).direction==="rtl"&&(o+=mn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Yk(t,e){const n=wn(t),r=_r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=_v();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function Xk(t,e){const n=Li(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?ko(t):Hs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function Vw(t,e,n){let r;if(e==="viewport")r=Yk(t,n);else if(e==="document")r=Gk(_r(t));else if(Xn(e))r=Xk(e,n);else{const s=qT(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return bd(r)}function KT(t,e){const n=qs(t);return n===e||!Xn(n)||ra(n)?!1:Jn(n).position==="fixed"||KT(n,e)}function Jk(t,e){const n=e.get(t);if(n)return n;let r=Hl(t,[],!1).filter(a=>Xn(a)&&ya(a)!=="body"),s=null;const i=Jn(t).position==="fixed";let o=i?qs(t):t;for(;Xn(o)&&!ra(o);){const a=Jn(o),u=wv(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||yu(o)&&!u&&KT(t,o))?r=r.filter(d=>d!==o):s=a,o=qs(o)}return e.set(t,r),r}function Zk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Th(e)?[]:Jk(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const p=Vw(e,d,s);return c.top=mn(p.top,c.top),c.right=zs(p.right,c.right),c.bottom=zs(p.bottom,c.bottom),c.left=mn(p.left,c.left),c},Vw(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function eD(t){const{width:e,height:n}=WT(t);return{width:e,height:n}}function tD(t,e,n){const r=yr(e),s=_r(e),i=n==="fixed",o=Li(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Hs(0);if(r||!r&&!i)if((ya(e)!=="body"||yu(s))&&(a=bh(e)),r){const y=Li(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=_m(s));let c=0,d=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();d=y.top+a.scrollTop,c=y.left+a.scrollLeft-_m(s,y)}const p=o.left+a.scrollLeft-u.x-c,h=o.top+a.scrollTop-u.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Gf(t){return Jn(t).position==="static"}function Lw(t,e){if(!yr(t)||Jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _r(t)===n&&(n=n.ownerDocument.body),n}function QT(t,e){const n=wn(t);if(Th(t))return n;if(!yr(t)){let s=qs(t);for(;s&&!ra(s);){if(Xn(s)&&!Gf(s))return s;s=qs(s)}return n}let r=Lw(t,e);for(;r&&zk(r)&&Gf(r);)r=Lw(r,e);return r&&ra(r)&&Gf(r)&&!wv(r)?n:r||Hk(t)||n}const nD=async function(t){const e=this.getOffsetParent||QT,n=this.getDimensions,r=await n(t.floating);return{reference:tD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rD(t){return Jn(t).direction==="rtl"}const sD={convertOffsetParentRelativeRectToViewportRelativeRect:Kk,getDocumentElement:_r,getClippingRect:Zk,getOffsetParent:QT,getElementRects:nD,getClientRects:Qk,getDimensions:eD,getScale:ko,isElement:Xn,isRTL:rD};function iD(t,e){let n=null,r;const s=_r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const{left:c,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const y=fc(d),b=fc(s.clientWidth-(c+p)),w=fc(s.clientHeight-(d+h)),E=fc(c),g={rootMargin:-y+"px "+-b+"px "+-w+"px "+-E+"px",threshold:mn(0,zs(1,u))||1};let T=!0;function A(O){const V=O[0].intersectionRatio;if(V!==u){if(!T)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(A,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,g)}n.observe(t)}return o(!0),i}function oD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=xv(t),d=s||i?[...c?Hl(c):[],...Hl(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=c&&a?iD(c,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(x=>{let[g]=x;g&&g.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),c&&!u&&y.observe(c),y.observe(e));let b,w=u?Li(t):null;u&&E();function E(){const x=Li(t);w&&(x.x!==w.x||x.y!==w.y||x.width!==w.width||x.height!==w.height)&&n(),w=x,b=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),p==null||p(),(x=y)==null||x.disconnect(),y=null,u&&cancelAnimationFrame(b)}}const aD=Fk,lD=Uk,uD=jk,cD=Bk,dD=Vk,Fw=Mk,hD=$k,fD=(t,e,n)=>{const r=new Map,s={platform:sD,...n},i={...s.platform,_c:r};return Ok(t,e,{...s,platform:i})};var Fc=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Sd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Sd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function GT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Uw(t,e){const n=GT(t);return Math.round(e*n)/n}function Yf(t){const e=v.useRef(t);return Fc(()=>{e.current=t}),e}function pD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=v.useState(r);Sd(h,r)||y(r);const[b,w]=v.useState(null),[E,x]=v.useState(null),g=v.useCallback(j=>{j!==V.current&&(V.current=j,w(j))},[]),T=v.useCallback(j=>{j!==I.current&&(I.current=j,x(j))},[]),A=i||b,O=o||E,V=v.useRef(null),I=v.useRef(null),C=v.useRef(d),R=u!=null,S=Yf(u),k=Yf(s),D=Yf(c),N=v.useCallback(()=>{if(!V.current||!I.current)return;const j={placement:e,strategy:n,middleware:h};k.current&&(j.platform=k.current),fD(V.current,I.current,j).then($=>{const K={...$,isPositioned:D.current!==!1};W.current&&!Sd(C.current,K)&&(C.current=K,Qi.flushSync(()=>{p(K)}))})},[h,e,n,k,D]);Fc(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const W=v.useRef(!1);Fc(()=>(W.current=!0,()=>{W.current=!1}),[]),Fc(()=>{if(A&&(V.current=A),O&&(I.current=O),A&&O){if(S.current)return S.current(A,O,N);N()}},[A,O,N,S,R]);const ie=v.useMemo(()=>({reference:V,floating:I,setReference:g,setFloating:T}),[g,T]),J=v.useMemo(()=>({reference:A,floating:O}),[A,O]),F=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const $=Uw(J.floating,d.x),K=Uw(J.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+K+"px)",...GT(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,a,J.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:N,refs:ie,elements:J,floatingStyles:F}),[d,N,ie,J,F])}const mD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Fw({element:r.current,padding:s}).fn(n):{}:r?Fw({element:r,padding:s}).fn(n):{}}}},gD=(t,e)=>({...aD(t),options:[t,e]}),vD=(t,e)=>({...lD(t),options:[t,e]}),yD=(t,e)=>({...hD(t),options:[t,e]}),wD=(t,e)=>({...uD(t),options:[t,e]}),_D=(t,e)=>({...cD(t),options:[t,e]}),xD=(t,e)=>({...dD(t),options:[t,e]}),ED=(t,e)=>({...mD(t),options:[t,e]});var TD="Arrow",YT=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});YT.displayName=TD;var bD=YT;function SD(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:y,...b}=p,w=(h==null?void 0:h[t][u])||a,E=v.useMemo(()=>b,Object.values(b));return f.jsx(w.Provider,{value:E,children:y})}function d(p,h){const y=(h==null?void 0:h[t][u])||a,b=v.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,CD(s,...e)]}function CD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ID(t){const[e,n]=v.useState(void 0);return Wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ev="Popper",[XT,Sh]=SD(Ev),[PD,JT]=XT(Ev),ZT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return f.jsx(PD,{scope:e,anchor:r,onAnchorChange:s,children:n})};ZT.displayName=Ev;var eb="PopperAnchor",tb=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=JT(eb,n),o=v.useRef(null),a=He(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Ie.div,{...s,ref:a})});tb.displayName=eb;var Tv="PopperContent",[RD,AD]=XT(Tv),nb=v.forwardRef((t,e)=>{var se,Pe,We,ye,Ee,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:b,...w}=t,E=JT(Tv,n),[x,g]=v.useState(null),T=He(e,mt=>g(mt)),[A,O]=v.useState(null),V=ID(A),I=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,R=r+(i!=="center"?"-"+i:""),S=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],D=k.length>0,N={padding:S,boundary:k.filter(kD),altBoundary:D},{refs:W,floatingStyles:ie,placement:J,isPositioned:F,middlewareData:j}=pD({strategy:"fixed",placement:R,whileElementsMounted:(...mt)=>oD(...mt,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[gD({mainAxis:s+C,alignmentAxis:o}),u&&vD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?yD():void 0,...N}),u&&wD({...N}),_D({...N,apply:({elements:mt,rects:St,availableWidth:bn,availableHeight:qt})=>{const{width:xr,height:Pa}=St.reference,ut=mt.floating.style;ut.setProperty("--radix-popper-available-width",`${bn}px`),ut.setProperty("--radix-popper-available-height",`${qt}px`),ut.setProperty("--radix-popper-anchor-width",`${xr}px`),ut.setProperty("--radix-popper-anchor-height",`${Pa}px`)}}),A&&ED({element:A,padding:a}),DD({arrowWidth:I,arrowHeight:C}),h&&xD({strategy:"referenceHidden",...N})]}),[$,K]=ib(J),H=xn(b);Wt(()=>{F&&(H==null||H())},[F,H]);const Q=(se=j.arrow)==null?void 0:se.x,X=(Pe=j.arrow)==null?void 0:Pe.y,fe=((We=j.arrow)==null?void 0:We.centerOffset)!==0,[be,le]=v.useState();return Wt(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:F?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(ye=j.transformOrigin)==null?void 0:ye.x,(Ee=j.transformOrigin)==null?void 0:Ee.y].join(" "),...((_e=j.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(RD,{scope:n,placedSide:$,onArrowChange:O,arrowX:Q,arrowY:X,shouldHideArrow:fe,children:f.jsx(Ie.div,{"data-side":$,"data-align":K,...w,ref:T,style:{...w.style,animation:F?void 0:"none"}})})})});nb.displayName=Tv;var rb="PopperArrow",ND={top:"bottom",right:"left",bottom:"top",left:"right"},sb=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=AD(rb,r),o=ND[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(bD,{...s,ref:n,style:{...s.style,display:"block"}})})});sb.displayName=rb;function kD(t){return t!==null}var DD=t=>({name:"transformOrigin",options:t,fn(e){var E,x,g;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=ib(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,y=(((g=s.arrow)==null?void 0:g.y)??0)+u/2;let b="",w="";return c==="bottom"?(b=o?p:`${h}px`,w=`${-u}px`):c==="top"?(b=o?p:`${h}px`,w=`${r.floating.height+u}px`):c==="right"?(b=`${-u}px`,w=o?p:`${y}px`):c==="left"&&(b=`${r.floating.width+u}px`,w=o?p:`${y}px`),{data:{x:b,y:w}}}});function ib(t){const[e,n="center"]=t.split("-");return[e,n]}var ob=ZT,ab=tb,lb=nb,ub=sb,[Ch,y6]=yh("Tooltip",[Sh]),Ih=Sh(),cb="TooltipProvider",OD=700,xm="tooltip.open",[MD,bv]=Ch(cb),db=t=>{const{__scopeTooltip:e,delayDuration:n=OD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),u=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),f.jsx(MD,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:v.useCallback(d=>{u.current=d},[]),disableHoverableContent:s,children:i})};db.displayName=cb;var Ph="Tooltip",[jD,Rh]=Ch(Ph),hb=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,u=bv(Ph,t.__scopeTooltip),c=Ih(e),[d,p]=v.useState(null),h=ki(),y=v.useRef(0),b=o??u.disableHoverableContent,w=a??u.delayDuration,E=v.useRef(!1),[x=!1,g]=$l({prop:r,defaultProp:s,onChange:I=>{I?(u.onOpen(),document.dispatchEvent(new CustomEvent(xm))):u.onClose(),i==null||i(I)}}),T=v.useMemo(()=>x?E.current?"delayed-open":"instant-open":"closed",[x]),A=v.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E.current=!1,g(!0)},[g]),O=v.useCallback(()=>{window.clearTimeout(y.current),y.current=0,g(!1)},[g]),V=v.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{E.current=!0,g(!0),y.current=0},w)},[w,g]);return v.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),f.jsx(ob,{...c,children:f.jsx(jD,{scope:e,contentId:h,open:x,stateAttribute:T,trigger:d,onTriggerChange:p,onTriggerEnter:v.useCallback(()=>{u.isOpenDelayed?V():A()},[u.isOpenDelayed,V,A]),onTriggerLeave:v.useCallback(()=>{b?O():(window.clearTimeout(y.current),y.current=0)},[O,b]),onOpen:A,onClose:O,disableHoverableContent:b,children:n})})};hb.displayName=Ph;var Em="TooltipTrigger",fb=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rh(Em,n),i=bv(Em,n),o=Ih(n),a=v.useRef(null),u=He(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),p=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),f.jsx(ab,{asChild:!0,...o,children:f.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:me(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:me(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:me(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:me(t.onBlur,s.onClose),onClick:me(t.onClick,s.onClose)})})});fb.displayName=Em;var VD="TooltipPortal",[w6,LD]=Ch(VD,{forceMount:void 0}),sa="TooltipContent",pb=v.forwardRef((t,e)=>{const n=LD(sa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Rh(sa,t.__scopeTooltip);return f.jsx(pa,{present:r||o.open,children:o.disableHoverableContent?f.jsx(mb,{side:s,...i,ref:e}):f.jsx(FD,{side:s,...i,ref:e})})}),FD=v.forwardRef((t,e)=>{const n=Rh(sa,t.__scopeTooltip),r=bv(sa,t.__scopeTooltip),s=v.useRef(null),i=He(e,s),[o,a]=v.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:p}=r,h=v.useCallback(()=>{a(null),p(!1)},[p]),y=v.useCallback((b,w)=>{const E=b.currentTarget,x={x:b.clientX,y:b.clientY},g=zD(x,E.getBoundingClientRect()),T=HD(x,g),A=WD(w.getBoundingClientRect()),O=KD([...T,...A]);a(O),p(!0)},[p]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(u&&d){const b=E=>y(E,d),w=E=>y(E,u);return u.addEventListener("pointerleave",b),d.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",w)}}},[u,d,y,h]),v.useEffect(()=>{if(o){const b=w=>{const E=w.target,x={x:w.clientX,y:w.clientY},g=(u==null?void 0:u.contains(E))||(d==null?void 0:d.contains(E)),T=!qD(x,o);g?h():T&&(h(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,d,o,c,h]),f.jsx(mb,{...t,ref:i})}),[UD,$D]=Ch(Ph,{isInside:!1}),mb=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Rh(sa,n),c=Ih(n),{onClose:d}=u;return v.useEffect(()=>(document.addEventListener(xm,d),()=>document.removeEventListener(xm,d)),[d]),v.useEffect(()=>{if(u.trigger){const p=h=>{const y=h.target;y!=null&&y.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),f.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:f.jsxs(lb,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(tT,{children:r}),f.jsx(UD,{scope:n,isInside:!0,children:f.jsx(O2,{id:u.contentId,role:"tooltip",children:s||r})})]})})});pb.displayName=sa;var gb="TooltipArrow",BD=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ih(n);return $D(gb,n).isInside?null:f.jsx(ub,{...s,...r,ref:e})});BD.displayName=gb;function zD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function WD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function qD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,d=e[o].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(s=!s)}return s}function KD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QD(e)}function QD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var GD=db,YD=hb,XD=fb,vb=pb;const yb=GD,JD=YD,ZD=XD,wb=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(vb,{ref:r,sideOffset:e,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wb.displayName=vb.displayName;var wa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fi=typeof window>"u"||"Deno"in globalThis;function Xt(){}function eO(t,e){return typeof t=="function"?t(e):t}function Tm(t){return typeof t=="number"&&t>=0&&t!==1/0}function _b(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Os(t,e){return typeof t=="function"?t(e):t}function Wn(t,e){return typeof t=="function"?t(e):t}function $w(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Sv(o,e.options))return!1}else if(!Wl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Bw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ui(e.options.mutationKey)!==Ui(i))return!1}else if(!Wl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Sv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ui)(t)}function Ui(t){return JSON.stringify(t,(e,n)=>bm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wl(t[n],e[n])):!1}function xb(t,e){if(t===e)return t;const n=zw(t)&&zw(e);if(n||bm(t)&&bm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const p=n?d:i[d];(!n&&u.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,c++):(a[p]=xb(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Cd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bm(t){if(!Hw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Hw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Hw(t){return Object.prototype.toString.call(t)==="[object Object]"}function tO(t){return new Promise(e=>{setTimeout(e,t)})}function Sm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xb(t,e):e}function nO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function rO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Cv=Symbol();function Eb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Tb(t,e){return typeof t=="function"?t(...e):!!t}var xi,hs,Lo,I1,sO=(I1=class extends wa{constructor(){super();ae(this,xi);ae(this,hs);ae(this,Lo);ee(this,Lo,e=>{if(!Fi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,hs)||this.setEventListener(M(this,Lo))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,hs))==null||e.call(this),ee(this,hs,void 0))}setEventListener(e){var n;ee(this,Lo,e),(n=M(this,hs))==null||n.call(this),ee(this,hs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,xi)!==e&&(ee(this,xi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,xi)=="boolean"?M(this,xi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xi=new WeakMap,hs=new WeakMap,Lo=new WeakMap,I1),Iv=new sO,Fo,fs,Uo,P1,iO=(P1=class extends wa{constructor(){super();ae(this,Fo,!0);ae(this,fs);ae(this,Uo);ee(this,Uo,e=>{if(!Fi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,fs)||this.setEventListener(M(this,Uo))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,fs))==null||e.call(this),ee(this,fs,void 0))}setEventListener(e){var n;ee(this,Uo,e),(n=M(this,fs))==null||n.call(this),ee(this,fs,e(this.setOnline.bind(this)))}setOnline(e){M(this,Fo)!==e&&(ee(this,Fo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,Fo)}},Fo=new WeakMap,fs=new WeakMap,Uo=new WeakMap,P1),Id=new iO;function Cm(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function oO(t){return Math.min(1e3*2**t,3e4)}function bb(t){return(t??"online")==="online"?Id.isOnline():!0}var Sb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xf(t){return t instanceof Sb}function Cb(t){let e=!1,n=0,r=!1,s;const i=Cm(),o=w=>{var E;r||(h(new Sb(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Iv.isFocused()&&(t.networkMode==="always"||Id.isOnline())&&t.canRun(),d=()=>bb(t.networkMode)&&t.canRun(),p=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},h=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},y=()=>new Promise(w=>{var E;s=x=>{(r||c())&&w(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(p).catch(x=>{var V;if(r)return;const g=t.retry??(Fi?0:3),T=t.retryDelay??oO,A=typeof T=="function"?T(n,x):T,O=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(e||!O){h(x);return}n++,(V=t.onFail)==null||V.call(t,n,x),tO(A).then(()=>c()?void 0:y()).then(()=>{e?h(x):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?b():y().then(b),i)}}var aO=t=>setTimeout(t,0);function lO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=aO;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var yt=lO(),Ei,R1,Ib=(R1=class{constructor(){ae(this,Ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tm(this.gcTime)&&ee(this,Ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fi?1/0:5*60*1e3))}clearGcTimeout(){M(this,Ei)&&(clearTimeout(M(this,Ei)),ee(this,Ei,void 0))}},Ei=new WeakMap,R1),$o,Ti,Sn,bi,Ft,au,Si,$n,Ir,A1,uO=(A1=class extends Ib{constructor(n){super();ae(this,$n);ae(this,$o);ae(this,Ti);ae(this,Sn);ae(this,bi);ae(this,Ft);ae(this,au);ae(this,Si);ee(this,Si,!1),ee(this,au,n.defaultOptions),this.setOptions(n.options),this.observers=[],ee(this,bi,n.client),ee(this,Sn,M(this,bi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ee(this,$o,cO(this.options)),this.state=n.state??M(this,$o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=M(this,Ft))==null?void 0:n.promise}setOptions(n){this.options={...M(this,au),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Sn).remove(this)}setData(n,r){const s=Sm(this.state.data,n,this.options);return ge(this,$n,Ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){ge(this,$n,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=M(this,Ft))==null?void 0:s.promise;return(i=M(this,Ft))==null||i.cancel(n),r?r.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,$o))}isActive(){return this.observers.some(n=>Wn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Os(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!_b(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,Ft))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,Ft))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),M(this,Sn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(M(this,Ft)&&(M(this,Si)?M(this,Ft).cancel({revert:!0}):M(this,Ft).cancelRetry()),this.scheduleGc()),M(this,Sn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,$n,Ir).call(this,{type:"invalidate"})}fetch(n,r){var d,p,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,Ft))return M(this,Ft).continueRetry(),M(this,Ft).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(b=>b.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(ee(this,Si,!0),s.signal)})},o=()=>{const y=Eb(this.options,r),w=(()=>{const E={client:M(this,bi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ee(this,Si,!1),this.options.persister?this.options.persister(y,w,this):y(w)},u=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:M(this,bi),state:this.state,fetchFn:o};return i(y),y})();(d=this.options.behavior)==null||d.onFetch(u,this),ee(this,Ti,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&ge(this,$n,Ir).call(this,{type:"fetch",meta:(h=u.fetchOptions)==null?void 0:h.meta});const c=y=>{var b,w,E,x;Xf(y)&&y.silent||ge(this,$n,Ir).call(this,{type:"error",error:y}),Xf(y)||((w=(b=M(this,Sn).config).onError)==null||w.call(b,y,this),(x=(E=M(this,Sn).config).onSettled)==null||x.call(E,this.state.data,y,this)),this.scheduleGc()};return ee(this,Ft,Cb({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var b,w,E,x;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(g){c(g);return}(w=(b=M(this,Sn).config).onSuccess)==null||w.call(b,y,this),(x=(E=M(this,Sn).config).onSettled)==null||x.call(E,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,b)=>{ge(this,$n,Ir).call(this,{type:"failed",failureCount:y,error:b})},onPause:()=>{ge(this,$n,Ir).call(this,{type:"pause"})},onContinue:()=>{ge(this,$n,Ir).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),M(this,Ft).start()}},$o=new WeakMap,Ti=new WeakMap,Sn=new WeakMap,bi=new WeakMap,Ft=new WeakMap,au=new WeakMap,Si=new WeakMap,$n=new WeakSet,Ir=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Pb(s.data,this.options),fetchMeta:n.meta??null};case"success":return ee(this,Ti,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Xf(i)&&i.revert&&M(this,Ti)?{...M(this,Ti),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),yt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),M(this,Sn).notify({query:this,type:"updated",action:n})})},A1);function Pb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,N1,dO=(N1=class extends wa{constructor(e={}){super();ae(this,or);this.config=e,ee(this,or,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Sv(s,n);let o=this.get(i);return o||(o=new uO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,or).has(e.queryHash)||(M(this,or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,or).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,or).get(e)}getAll(){return[...M(this,or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$w(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$w(e,r)):n}notify(e){yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},or=new WeakMap,N1),ar,Qt,Ci,lr,rs,k1,hO=(k1=class extends Ib{constructor(n){super();ae(this,lr);ae(this,ar);ae(this,Qt);ae(this,Ci);this.mutationId=n.mutationId,ee(this,Qt,n.mutationCache),ee(this,ar,[]),this.state=n.state||Rb(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){M(this,ar).includes(n)||(M(this,ar).push(n),this.clearGcTimeout(),M(this,Qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ee(this,ar,M(this,ar).filter(r=>r!==n)),this.scheduleGc(),M(this,Qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){M(this,ar).length||(this.state.status==="pending"?this.scheduleGc():M(this,Qt).remove(this))}continue(){var n;return((n=M(this,Ci))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,u,c,d,p,h,y,b,w,E,x,g,T,A,O,V,I,C,R;const r=()=>{ge(this,lr,rs).call(this,{type:"continue"})};ee(this,Ci,Cb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{ge(this,lr,rs).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{ge(this,lr,rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Qt).canRun(this)}));const s=this.state.status==="pending",i=!M(this,Ci).canStart();try{if(s)r();else{ge(this,lr,rs).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=M(this,Qt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));k!==this.state.context&&ge(this,lr,rs).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const S=await M(this,Ci).start();return await((p=(d=M(this,Qt).config).onSuccess)==null?void 0:p.call(d,S,n,this.state.context,this)),await((y=(h=this.options).onSuccess)==null?void 0:y.call(h,S,n,this.state.context)),await((w=(b=M(this,Qt).config).onSettled)==null?void 0:w.call(b,S,null,this.state.variables,this.state.context,this)),await((x=(E=this.options).onSettled)==null?void 0:x.call(E,S,null,n,this.state.context)),ge(this,lr,rs).call(this,{type:"success",data:S}),S}catch(S){try{throw await((T=(g=M(this,Qt).config).onError)==null?void 0:T.call(g,S,n,this.state.context,this)),await((O=(A=this.options).onError)==null?void 0:O.call(A,S,n,this.state.context)),await((I=(V=M(this,Qt).config).onSettled)==null?void 0:I.call(V,void 0,S,this.state.variables,this.state.context,this)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,S,n,this.state.context)),S}finally{ge(this,lr,rs).call(this,{type:"error",error:S})}}finally{M(this,Qt).runNext(this)}}},ar=new WeakMap,Qt=new WeakMap,Ci=new WeakMap,lr=new WeakSet,rs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yt.batch(()=>{M(this,ar).forEach(s=>{s.onMutationUpdate(n)}),M(this,Qt).notify({mutation:this,type:"updated",action:n})})},k1);function Rb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ar,Bn,lu,D1,fO=(D1=class extends wa{constructor(e={}){super();ae(this,Ar);ae(this,Bn);ae(this,lu);this.config=e,ee(this,Ar,new Set),ee(this,Bn,new Map),ee(this,lu,0)}build(e,n,r){const s=new hO({mutationCache:this,mutationId:++qu(this,lu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){M(this,Ar).add(e);const n=pc(e);if(typeof n=="string"){const r=M(this,Bn).get(n);r?r.push(e):M(this,Bn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,Ar).delete(e)){const n=pc(e);if(typeof n=="string"){const r=M(this,Bn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&M(this,Bn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=pc(e);if(typeof n=="string"){const r=M(this,Bn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=pc(e);if(typeof n=="string"){const s=(r=M(this,Bn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yt.batch(()=>{M(this,Ar).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,Ar).clear(),M(this,Bn).clear()})}getAll(){return Array.from(M(this,Ar))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bw(n,r))}findAll(e={}){return this.getAll().filter(n=>Bw(e,n))}notify(e){yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xt))))}},Ar=new WeakMap,Bn=new WeakMap,lu=new WeakMap,D1);function pc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ww(t){return{onFetch:(e,n)=>{var d,p,h,y,b;const r=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=Eb(e.options,e.fetchOptions),g=async(T,A,O)=>{if(w)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};return E(k),k})(),C=await x(I),{maxPages:R}=e.options,S=O?rO:nO;return{pages:S(T.pages,C,R),pageParams:S(T.pageParams,A,R)}};if(s&&i.length){const T=s==="backward",A=T?pO:qw,O={pages:i,pageParams:o},V=A(r,O);a=await g(O,V,T)}else{const T=t??i.length;do{const A=u===0?o[0]??r.initialPageParam:qw(r,a);if(u>0&&A==null)break;a=await g(a,A),u++}while(u<T)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function qw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var et,ps,ms,Bo,zo,gs,Ho,Wo,O1,mO=(O1=class{constructor(t={}){ae(this,et);ae(this,ps);ae(this,ms);ae(this,Bo);ae(this,zo);ae(this,gs);ae(this,Ho);ae(this,Wo);ee(this,et,t.queryCache||new dO),ee(this,ps,t.mutationCache||new fO),ee(this,ms,t.defaultOptions||{}),ee(this,Bo,new Map),ee(this,zo,new Map),ee(this,gs,0)}mount(){qu(this,gs)._++,M(this,gs)===1&&(ee(this,Ho,Iv.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,et).onFocus())})),ee(this,Wo,Id.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,et).onOnline())})))}unmount(){var t,e;qu(this,gs)._--,M(this,gs)===0&&((t=M(this,Ho))==null||t.call(this),ee(this,Ho,void 0),(e=M(this,Wo))==null||e.call(this),ee(this,Wo,void 0))}isFetching(t){return M(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,ps).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Os(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=eO(e,i);if(o!==void 0)return M(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return yt.batch(()=>M(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,et);yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,et);return yt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=yt.batch(()=>M(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xt).catch(Xt)}invalidateQueries(t,e={}){return yt.batch(()=>(M(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=yt.batch(()=>M(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,et).build(this,e);return n.isStaleByTime(Os(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xt).catch(Xt)}fetchInfiniteQuery(t){return t.behavior=Ww(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xt).catch(Xt)}ensureInfiniteQueryData(t){return t.behavior=Ww(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Id.isOnline()?M(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,et)}getMutationCache(){return M(this,ps)}getDefaultOptions(){return M(this,ms)}setDefaultOptions(t){ee(this,ms,t)}setQueryDefaults(t,e){M(this,Bo).set(Ui(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Bo).values()],n={};return e.forEach(r=>{Wl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,zo).set(Ui(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,zo).values()],n={};return e.forEach(r=>{Wl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,et).clear(),M(this,ps).clear()}},et=new WeakMap,ps=new WeakMap,ms=new WeakMap,Bo=new WeakMap,zo=new WeakMap,gs=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,O1),nn,Te,uu,Gt,Ii,qo,vs,ys,cu,Ko,Qo,Pi,Ri,ws,Go,Ne,sl,Im,Pm,Rm,Am,Nm,km,Dm,Ab,M1,gO=(M1=class extends wa{constructor(e,n){super();ae(this,Ne);ae(this,nn);ae(this,Te);ae(this,uu);ae(this,Gt);ae(this,Ii);ae(this,qo);ae(this,vs);ae(this,ys);ae(this,cu);ae(this,Ko);ae(this,Qo);ae(this,Pi);ae(this,Ri);ae(this,ws);ae(this,Go,new Set);this.options=n,ee(this,nn,e),ee(this,ys,null),ee(this,vs,Cm()),this.options.experimental_prefetchInRender||M(this,vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Te).addObserver(this),Kw(M(this,Te),this.options)?ge(this,Ne,sl).call(this):this.updateResult(),ge(this,Ne,Am).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Om(M(this,Te),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Om(M(this,Te),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,Ne,Nm).call(this),ge(this,Ne,km).call(this),M(this,Te).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,Te);if(this.options=M(this,nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wn(this.options.enabled,M(this,Te))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,Ne,Dm).call(this),M(this,Te).setOptions(this.options),n._defaulted&&!Cd(this.options,n)&&M(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Te),observer:this});const s=this.hasListeners();s&&Qw(M(this,Te),r,this.options,n)&&ge(this,Ne,sl).call(this),this.updateResult(),s&&(M(this,Te)!==r||Wn(this.options.enabled,M(this,Te))!==Wn(n.enabled,M(this,Te))||Os(this.options.staleTime,M(this,Te))!==Os(n.staleTime,M(this,Te)))&&ge(this,Ne,Im).call(this);const i=ge(this,Ne,Pm).call(this);s&&(M(this,Te)!==r||Wn(this.options.enabled,M(this,Te))!==Wn(n.enabled,M(this,Te))||i!==M(this,ws))&&ge(this,Ne,Rm).call(this,i)}getOptimisticResult(e){const n=M(this,nn).getQueryCache().build(M(this,nn),e),r=this.createResult(n,e);return yO(this,r)&&(ee(this,Gt,r),ee(this,qo,this.options),ee(this,Ii,M(this,Te).state)),r}getCurrentResult(){return M(this,Gt)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){M(this,Go).add(e)}getCurrentQuery(){return M(this,Te)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,nn).defaultQueryOptions(e),r=M(this,nn).getQueryCache().build(M(this,nn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ge(this,Ne,sl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Gt)))}createResult(e,n){var R;const r=M(this,Te),s=this.options,i=M(this,Gt),o=M(this,Ii),a=M(this,qo),c=e!==r?e.state:M(this,uu),{state:d}=e;let p={...d},h=!1,y;if(n._optimisticResults){const S=this.hasListeners(),k=!S&&Kw(e,n),D=S&&Qw(e,r,n,s);(k||D)&&(p={...p,...Pb(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:E}=p;y=p.data;let x=!1;if(n.placeholderData!==void 0&&y===void 0&&E==="pending"){let S;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(S=i.data,x=!0):S=typeof n.placeholderData=="function"?n.placeholderData((R=M(this,Qo))==null?void 0:R.state.data,M(this,Qo)):n.placeholderData,S!==void 0&&(E="success",y=Sm(i==null?void 0:i.data,S,n),h=!0)}if(n.select&&y!==void 0&&!x)if(i&&y===(o==null?void 0:o.data)&&n.select===M(this,cu))y=M(this,Ko);else try{ee(this,cu,n.select),y=n.select(y),y=Sm(i==null?void 0:i.data,y,n),ee(this,Ko,y),ee(this,ys,null)}catch(S){ee(this,ys,S)}M(this,ys)&&(b=M(this,ys),y=M(this,Ko),w=Date.now(),E="error");const g=p.fetchStatus==="fetching",T=E==="pending",A=E==="error",O=T&&g,V=y!==void 0,C={status:E,fetchStatus:p.fetchStatus,isPending:T,isSuccess:E==="success",isError:A,isInitialLoading:O,isLoading:O,data:y,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!T,isLoadingError:A&&!V,isPaused:p.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:A&&V,isStale:Pv(e,n),refetch:this.refetch,promise:M(this,vs)};if(this.options.experimental_prefetchInRender){const S=N=>{C.status==="error"?N.reject(C.error):C.data!==void 0&&N.resolve(C.data)},k=()=>{const N=ee(this,vs,C.promise=Cm());S(N)},D=M(this,vs);switch(D.status){case"pending":e.queryHash===r.queryHash&&S(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&k();break}}return C}updateResult(){const e=M(this,Gt),n=this.createResult(M(this,Te),this.options);if(ee(this,Ii,M(this,Te).state),ee(this,qo,this.options),M(this,Ii).data!==void 0&&ee(this,Qo,M(this,Te)),Cd(n,e))return;ee(this,Gt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,Go).size)return!0;const o=new Set(i??M(this,Go));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,Gt)).some(a=>{const u=a;return M(this,Gt)[u]!==e[u]&&o.has(u)})};ge(this,Ne,Ab).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,Ne,Am).call(this)}},nn=new WeakMap,Te=new WeakMap,uu=new WeakMap,Gt=new WeakMap,Ii=new WeakMap,qo=new WeakMap,vs=new WeakMap,ys=new WeakMap,cu=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,Pi=new WeakMap,Ri=new WeakMap,ws=new WeakMap,Go=new WeakMap,Ne=new WeakSet,sl=function(e){ge(this,Ne,Dm).call(this);let n=M(this,Te).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xt)),n},Im=function(){ge(this,Ne,Nm).call(this);const e=Os(this.options.staleTime,M(this,Te));if(Fi||M(this,Gt).isStale||!Tm(e))return;const r=_b(M(this,Gt).dataUpdatedAt,e)+1;ee(this,Pi,setTimeout(()=>{M(this,Gt).isStale||this.updateResult()},r))},Pm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Te)):this.options.refetchInterval)??!1},Rm=function(e){ge(this,Ne,km).call(this),ee(this,ws,e),!(Fi||Wn(this.options.enabled,M(this,Te))===!1||!Tm(M(this,ws))||M(this,ws)===0)&&ee(this,Ri,setInterval(()=>{(this.options.refetchIntervalInBackground||Iv.isFocused())&&ge(this,Ne,sl).call(this)},M(this,ws)))},Am=function(){ge(this,Ne,Im).call(this),ge(this,Ne,Rm).call(this,ge(this,Ne,Pm).call(this))},Nm=function(){M(this,Pi)&&(clearTimeout(M(this,Pi)),ee(this,Pi,void 0))},km=function(){M(this,Ri)&&(clearInterval(M(this,Ri)),ee(this,Ri,void 0))},Dm=function(){const e=M(this,nn).getQueryCache().build(M(this,nn),this.options);if(e===M(this,Te))return;const n=M(this,Te);ee(this,Te,e),ee(this,uu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ab=function(e){yt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,Gt))}),M(this,nn).getQueryCache().notify({query:M(this,Te),type:"observerResultsUpdated"})})},M1);function vO(t,e){return Wn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kw(t,e){return vO(t,e)||t.state.data!==void 0&&Om(t,e,e.refetchOnMount)}function Om(t,e,n){if(Wn(e.enabled,t)!==!1&&Os(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Pv(t,e)}return!1}function Qw(t,e,n,r){return(t!==e||Wn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Pv(t,n)}function Pv(t,e){return Wn(e.enabled,t)!==!1&&t.isStaleByTime(Os(e.staleTime,t))}function yO(t,e){return!Cd(t.getCurrentResult(),e)}var _s,xs,rn,Nr,jr,Uc,Mm,j1,wO=(j1=class extends wa{constructor(n,r){super();ae(this,jr);ae(this,_s);ae(this,xs);ae(this,rn);ae(this,Nr);ee(this,_s,n),this.setOptions(r),this.bindMethods(),ge(this,jr,Uc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,_s).defaultMutationOptions(n),Cd(this.options,r)||M(this,_s).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,rn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ui(r.mutationKey)!==Ui(this.options.mutationKey)?this.reset():((s=M(this,rn))==null?void 0:s.state.status)==="pending"&&M(this,rn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,rn))==null||n.removeObserver(this)}onMutationUpdate(n){ge(this,jr,Uc).call(this),ge(this,jr,Mm).call(this,n)}getCurrentResult(){return M(this,xs)}reset(){var n;(n=M(this,rn))==null||n.removeObserver(this),ee(this,rn,void 0),ge(this,jr,Uc).call(this),ge(this,jr,Mm).call(this)}mutate(n,r){var s;return ee(this,Nr,r),(s=M(this,rn))==null||s.removeObserver(this),ee(this,rn,M(this,_s).getMutationCache().build(M(this,_s),this.options)),M(this,rn).addObserver(this),M(this,rn).execute(n)}},_s=new WeakMap,xs=new WeakMap,rn=new WeakMap,Nr=new WeakMap,jr=new WeakSet,Uc=function(){var r;const n=((r=M(this,rn))==null?void 0:r.state)??Rb();ee(this,xs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Mm=function(n){yt.batch(()=>{var r,s,i,o,a,u,c,d;if(M(this,Nr)&&this.hasListeners()){const p=M(this,xs).variables,h=M(this,xs).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,Nr)).onSuccess)==null||s.call(r,n.data,p,h),(o=(i=M(this,Nr)).onSettled)==null||o.call(i,n.data,null,p,h)):(n==null?void 0:n.type)==="error"&&((u=(a=M(this,Nr)).onError)==null||u.call(a,n.error,p,h),(d=(c=M(this,Nr)).onSettled)==null||d.call(c,void 0,n.error,p,h))}this.listeners.forEach(p=>{p(M(this,xs))})})},j1),Nb=v.createContext(void 0),Rv=t=>{const e=v.useContext(Nb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_O=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Nb.Provider,{value:t,children:e})),kb=v.createContext(!1),xO=()=>v.useContext(kb);kb.Provider;function EO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var TO=v.createContext(EO()),bO=()=>v.useContext(TO),SO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},CO=t=>{v.useEffect(()=>{t.clearReset()},[t])},IO=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Tb(n,[t.error,r])),PO=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},RO=(t,e)=>t.isLoading&&t.isFetching&&!e,AO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Gw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function NO(t,e,n){var p,h,y,b,w;const r=xO(),s=bO(),i=Rv(),o=i.defaultQueryOptions(t);(h=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||h.call(p,o),o._optimisticResults=r?"isRestoring":"optimistic",PO(o),SO(o,s),CO(s);const a=!i.getQueryCache().get(o.queryHash),[u]=v.useState(()=>new e(i,o)),c=u.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(E=>{const x=d?u.subscribe(yt.batchCalls(E)):Xt;return u.updateResult(),x},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(o)},[o,u]),AO(o,c))throw Gw(o,u,s);if(IO({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((b=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,o,c),o.experimental_prefetchInRender&&!Fi&&RO(c,r)){const E=a?Gw(o,u,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;E==null||E.catch(Xt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function kO(t,e){return NO(t,gO)}function Yw(t,e){const n=Rv(),[r]=v.useState(()=>new wO(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const s=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(yt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=v.useCallback((o,a)=>{r.mutate(o,a).catch(Xt)},[r]);if(s.error&&Tb(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const Xw="popstate";function DO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return jm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pd(s)}return MO(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Db(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OO(){return Math.random().toString(36).substr(2,8)}function Jw(t,e){return{usr:t.state,key:t.key,idx:e}}function jm(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_a(e):e,{state:n,key:e&&e.key||r||OO()})}function Pd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bs.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(ql({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=bs.Pop;let E=d(),x=E==null?null:E-c;c=E,u&&u({action:a,location:w.location,delta:x})}function h(E,x){a=bs.Push;let g=jm(w.location,E,x);c=d()+1;let T=Jw(g,c),A=w.createHref(g);try{o.pushState(T,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}i&&u&&u({action:a,location:w.location,delta:1})}function y(E,x){a=bs.Replace;let g=jm(w.location,E,x);c=d();let T=Jw(g,c),A=w.createHref(g);o.replaceState(T,"",A),i&&u&&u({action:a,location:w.location,delta:0})}function b(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof E=="string"?E:Pd(E);return g=g.replace(/ $/,"%20"),st(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Xw,p),u=E,()=>{s.removeEventListener(Xw,p),u=null}},createHref(E){return e(s,E)},createURL:b,encodeLocation(E){let x=b(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(E){return o.go(E)}};return w}var Zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zw||(Zw={}));function jO(t,e,n){return n===void 0&&(n="/"),VO(t,e,n,!1)}function VO(t,e,n,r){let s=typeof e=="string"?_a(e):e,i=ia(s.pathname||"/",n);if(i==null)return null;let o=Ob(t);LO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=GO(i);a=KO(o[u],c,r)}return a}function Ob(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(st(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ms([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ob(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:WO(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Mb(i.path))s(i,o,u)}),e}function Mb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Mb(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function LO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FO=/^:[\w-]+$/,UO=3,$O=2,BO=1,zO=10,HO=-2,e_=t=>t==="*";function WO(t,e){let n=t.split("/"),r=n.length;return n.some(e_)&&(r+=HO),e&&(r+=$O),n.filter(s=>!e_(s)).reduce((s,i)=>s+(FO.test(i)?UO:i===""?BO:zO),r)}function qO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function KO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=Rd({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Rd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ms([i,p.pathname]),pathnameBase:ZO(Ms([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=Ms([i,p.pathnameBase]))}return o}function Rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let w=a[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[p];return y&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function QO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Db(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Db(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:XO(n,e):e,search:e4(r),hash:t4(s)}}function XO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jb(t,e){let n=JO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_a(t):(s=ql({},t),st(!s.pathname||!s.pathname.includes("?"),Jf("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),Jf("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),Jf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let u=YO(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),ZO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lb=["post","put","patch","delete"];new Set(Lb);const r4=["get",...Lb];new Set(r4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}const Ah=v.createContext(null),Fb=v.createContext(null),ri=v.createContext(null),Nh=v.createContext(null),Gi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Ub=v.createContext(null);function s4(t,e){let{relative:n}=e===void 0?{}:e;wu()||st(!1);let{basename:r,navigator:s}=v.useContext(ri),{hash:i,pathname:o,search:a}=kh(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ms([r,o])),s.createHref({pathname:u,search:a,hash:i})}function wu(){return v.useContext(Nh)!=null}function Yi(){return wu()||st(!1),v.useContext(Nh).location}function $b(t){v.useContext(ri).static||v.useLayoutEffect(t)}function i4(){let{isDataRoute:t}=v.useContext(Gi);return t?y4():o4()}function o4(){wu()||st(!1);let t=v.useContext(Ah),{basename:e,future:n,navigator:r}=v.useContext(ri),{matches:s}=v.useContext(Gi),{pathname:i}=Yi(),o=JSON.stringify(jb(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return $b(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=Vb(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ms([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function kh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(ri),{matches:s}=v.useContext(Gi),{pathname:i}=Yi(),o=JSON.stringify(jb(s,r.v7_relativeSplatPath));return v.useMemo(()=>Vb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function a4(t,e){return l4(t,e)}function l4(t,e,n,r){wu()||st(!1);let{navigator:s}=v.useContext(ri),{matches:i}=v.useContext(Gi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Yi(),d;if(e){var p;let E=typeof e=="string"?_a(e):e;u==="/"||(p=E.pathname)!=null&&p.startsWith(u)||st(!1),d=E}else d=c;let h=d.pathname||"/",y=h;if(u!=="/"){let E=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=jO(t,{pathname:y}),w=f4(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ms([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Ms([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?v.createElement(Nh.Provider,{value:{location:Kl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bs.Pop}},w):w}function u4(){let t=v4(),e=n4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const c4=v.createElement(u4,null);class d4 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Gi.Provider,{value:this.props.routeContext},v.createElement(Ub.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h4(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Ah);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gi.Provider,{value:e},r)}function f4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||st(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:y}=n,b=p.route.loader&&h[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let y,b=!1,w=null,E=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||c4,u&&(c<0&&h===0?(b=!0,E=null):c===h&&(b=!0,E=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),g=()=>{let T;return y?T=w:b?T=E:p.route.Component?T=v.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=d,v.createElement(h4,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?v.createElement(d4,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var Bb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Bb||{}),Ad=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ad||{});function p4(t){let e=v.useContext(Ah);return e||st(!1),e}function m4(t){let e=v.useContext(Fb);return e||st(!1),e}function g4(t){let e=v.useContext(Gi);return e||st(!1),e}function zb(t){let e=g4(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function v4(){var t;let e=v.useContext(Ub),n=m4(Ad.UseRouteError),r=zb(Ad.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function y4(){let{router:t}=p4(Bb.UseNavigateStable),e=zb(Ad.UseNavigateStable),n=v.useRef(!1);return $b(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Kl({fromRouteId:e},i)))},[t,e])}function ss(t){st(!1)}function w4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bs.Pop,navigator:i,static:o=!1,future:a}=t;wu()&&st(!1);let u=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:i,static:o,future:Kl({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=_a(r));let{pathname:d="/",search:p="",hash:h="",state:y=null,key:b="default"}=r,w=v.useMemo(()=>{let E=ia(d,u);return E==null?null:{location:{pathname:E,search:p,hash:h,state:y,key:b},navigationType:s}},[u,d,p,h,y,b,s]);return w==null?null:v.createElement(ri.Provider,{value:c},v.createElement(Nh.Provider,{children:n,value:w}))}function _4(t){let{children:e,location:n}=t;return a4(Vm(e),n)}new Promise(()=>{});function Vm(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Vm(r.props.children,i));return}r.type!==ss&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}function Hb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function x4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E4(t,e){return t.button===0&&(!e||e==="_self")&&!x4(t)}const T4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],S4="6";try{window.__reactRouterVersion=S4}catch{}const C4=v.createContext({isTransitioning:!1}),I4="startTransition",t_=Q1[I4];function P4(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=DO({window:s,v5Compat:!0}));let o=i.current,[a,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(p=>{c&&t_?t_(()=>u(p)):u(p)},[u,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(w4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const R4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N4=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,h=Hb(e,T4),{basename:y}=v.useContext(ri),b,w=!1;if(typeof c=="string"&&A4.test(c)&&(b=c,R4))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),O=ia(A.pathname,y);A.origin===T.origin&&O!=null?c=O+A.search+A.hash:w=!0}catch{}let E=s4(c,{relative:s}),x=O4(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:p});function g(T){r&&r(T),T.defaultPrevented||x(T)}return v.createElement("a",Nd({},h,{href:b||E,onClick:w||i?r:g,ref:n,target:u}))}),k4=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:c,children:d}=e,p=Hb(e,b4),h=kh(u,{relative:p.relative}),y=Yi(),b=v.useContext(Fb),{navigator:w,basename:E}=v.useContext(ri),x=b!=null&&M4(h)&&c===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,T=y.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(T=T.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&E&&(A=ia(A,E)||A);const O=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let V=T===g||!o&&T.startsWith(g)&&T.charAt(O)==="/",I=A!=null&&(A===g||!o&&A.startsWith(g)&&A.charAt(g.length)==="/"),C={isActive:V,isPending:I,isTransitioning:x},R=V?r:void 0,S;typeof i=="function"?S=i(C):S=[i,V?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(C):a;return v.createElement(N4,Nd({},p,{"aria-current":R,className:S,ref:n,style:k,to:u,viewTransition:c}),typeof d=="function"?d(C):d)});var Lm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lm||(Lm={}));var n_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(n_||(n_={}));function D4(t){let e=v.useContext(Ah);return e||st(!1),e}function O4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=i4(),c=Yi(),d=kh(t,{relative:o});return v.useCallback(p=>{if(E4(p,n)){p.preventDefault();let h=r!==void 0?r:Pd(c)===Pd(d);u(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,r,s,n,t,i,o,a])}function M4(t,e){e===void 0&&(e={});let n=v.useContext(C4);n==null&&st(!1);let{basename:r}=D4(Lm.useViewTransitionState),s=kh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rd(s.pathname,o)!=null||Rd(s.pathname,i)!=null}const Zf=768;function j4(){const[t,e]=v.useState(void 0);return v.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Zf-1}px)`),r=()=>{e(window.innerWidth<Zf)};return n.addEventListener("change",r),e(window.innerWidth<Zf),()=>n.removeEventListener("change",r)},[]),!!t}const V4=ma("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?jn:"button";return f.jsx(o,{className:te(V4({variant:e,size:n,className:t})),ref:i,...s})});qe.displayName="Button";const nt=v.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));nt.displayName="Input";var L4="Separator",r_="horizontal",F4=["horizontal","vertical"],Wb=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=r_,...s}=t,i=U4(r)?r:r_,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(Ie.div,{"data-orientation":i,...a,...s,ref:e})});Wb.displayName=L4;function U4(t){return F4.includes(t)}var qb=Wb;const Kb=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(qb,{ref:s,decorative:n,orientation:e,className:te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Kb.displayName=qb.displayName;var ep="focusScope.autoFocusOnMount",tp="focusScope.autoFocusOnUnmount",s_={bubbles:!1,cancelable:!0},$4="FocusScope",Av=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=v.useState(null),c=xn(s),d=xn(i),p=v.useRef(null),h=He(e,w=>u(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(T){if(y.paused||!a)return;const A=T.target;a.contains(A)?p.current=A:is(p.current,{select:!0})},E=function(T){if(y.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||is(p.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&is(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const g=new MutationObserver(x);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),g.disconnect()}}},[r,a,y.paused]),v.useEffect(()=>{if(a){o_.add(y);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(ep,s_);a.addEventListener(ep,c),a.dispatchEvent(x),x.defaultPrevented||(B4(K4(Qb(a)),{select:!0}),document.activeElement===w&&is(a))}return()=>{a.removeEventListener(ep,c),setTimeout(()=>{const x=new CustomEvent(tp,s_);a.addEventListener(tp,d),a.dispatchEvent(x),x.defaultPrevented||is(w??document.body,{select:!0}),a.removeEventListener(tp,d),o_.remove(y)},0)}}},[a,c,d,y]);const b=v.useCallback(w=>{if(!n&&!r||y.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(E&&x){const g=w.currentTarget,[T,A]=z4(g);T&&A?!w.shiftKey&&x===A?(w.preventDefault(),n&&is(T,{select:!0})):w.shiftKey&&x===T&&(w.preventDefault(),n&&is(A,{select:!0})):x===g&&w.preventDefault()}},[n,r,y.paused]);return f.jsx(Ie.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});Av.displayName=$4;function B4(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(is(r,{select:e}),document.activeElement!==n)return}function z4(t){const e=Qb(t),n=i_(e,t),r=i_(e.reverse(),t);return[n,r]}function Qb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function i_(t,e){for(const n of t)if(!H4(n,{upTo:e}))return n}function H4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function W4(t){return t instanceof HTMLInputElement&&"select"in t}function is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&W4(t)&&e&&t.select()}}var o_=q4();function q4(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=a_(t,e),t.unshift(e)},remove(e){var n;t=a_(t,e),(n=t[0])==null||n.resume()}}}function a_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function K4(t){return t.filter(e=>e.tagName!=="A")}var np=0;function Gb(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??l_()),document.body.insertAdjacentElement("beforeend",t[1]??l_()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),np--}},[])}function l_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cr=function(){return cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cr.apply(this,arguments)};function Yb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Q4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var $c="right-scroll-bar-position",Bc="width-before-scroll-bar",G4="with-scroll-bars-hidden",Y4="--removed-body-scroll-bar-size";function rp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function X4(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var J4=typeof window<"u"?v.useLayoutEffect:v.useEffect,u_=new WeakMap;function Z4(t,e){var n=X4(null,function(r){return t.forEach(function(s){return rp(s,r)})});return J4(function(){var r=u_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||rp(a,null)}),i.forEach(function(a){s.has(a)||rp(a,o)})}u_.set(n,t)},[t]),n}function eM(t){return t}function tM(t,e){e===void 0&&(e=eM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function nM(t){t===void 0&&(t={});var e=tM(null);return e.options=cr({async:!0,ssr:!1},t),e}var Xb=function(t){var e=t.sideCar,n=Yb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,cr({},n))};Xb.isSideCarExport=!0;function rM(t,e){return t.useMedium(e),Xb}var Jb=nM(),sp=function(){},Dh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:sp,onWheelCapture:sp,onTouchMoveCapture:sp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,y=t.noIsolation,b=t.inert,w=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,g=t.gapMode,T=Yb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,O=Z4([n,e]),V=cr(cr({},T),s);return v.createElement(v.Fragment,null,d&&v.createElement(A,{sideCar:Jb,removeScrollBar:c,shards:p,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:g}),o?v.cloneElement(v.Children.only(a),cr(cr({},V),{ref:O})):v.createElement(x,cr({},V,{className:u,ref:O}),a))});Dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dh.classNames={fullWidth:Bc,zeroRight:$c};var sM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sM();return e&&t.setAttribute("nonce",e),t}function oM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iM())&&(oM(e,n),aM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uM=function(){var t=lM();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Zb=function(){var t=uM(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},cM={left:0,top:0,right:0,gap:0},ip=function(t){return parseInt(t||"",10)||0},dM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ip(n),ip(r),ip(s)]},hM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cM;var e=dM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fM=Zb(),Do="data-scroll-locked",pM=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(G4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(Y4,": ").concat(a,`px;
  }
`)},c_=function(){var t=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(t)?t:0},mM=function(){v.useEffect(function(){return document.body.setAttribute(Do,(c_()+1).toString()),function(){var t=c_()-1;t<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,t.toString())}},[])},gM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;mM();var i=v.useMemo(function(){return hM(s)},[s]);return v.createElement(fM,{styles:pM(i,!e,s,n?"":"!important")})},Fm=!1;if(typeof window<"u")try{var mc=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{Fm=!1}var io=Fm?{passive:!1}:!1,vM=function(t){return t.tagName==="TEXTAREA"},eS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vM(t)&&n[e]==="visible")},yM=function(t){return eS(t,"overflowY")},wM=function(t){return eS(t,"overflowX")},d_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=tS(t,r);if(s){var i=nS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_M=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},tS=function(t,e){return t==="v"?yM(e):wM(e)},nS=function(t,e){return t==="v"?_M(e):xM(e)},EM=function(t,e){return t==="h"&&e==="rtl"?-1:1},TM=function(t,e,n,r,s){var i=EM(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,d=o>0,p=0,h=0;do{var y=nS(t,a),b=y[0],w=y[1],E=y[2],x=w-E-i*b;(b||x)&&tS(t,a)&&(p+=x,h+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},gc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},h_=function(t){return[t.deltaX,t.deltaY]},f_=function(t){return t&&"current"in t?t.current:t},bM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CM=0,oo=[];function IM(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(CM++)[0],i=v.useState(Zb)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=Q4([t.lockRef.current],(t.shards||[]).map(f_),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=gc(w),g=n.current,T="deltaX"in w?w.deltaX:g[0]-x[0],A="deltaY"in w?w.deltaY:g[1]-x[1],O,V=w.target,I=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in w&&I==="h"&&V.type==="range")return!1;var C=d_(I,V);if(!C)return!0;if(C?O=I:(O=I==="v"?"h":"v",C=d_(I,V)),!C)return!1;if(!r.current&&"changedTouches"in w&&(T||A)&&(r.current=O),!O)return!0;var R=r.current||O;return TM(R,E,w,R==="h"?T:A,!0)},[]),u=v.useCallback(function(w){var E=w;if(!(!oo.length||oo[oo.length-1]!==i)){var x="deltaY"in E?h_(E):gc(E),g=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&bM(O.delta,x)})[0];if(g&&g.should){E.cancelable&&E.preventDefault();return}if(!g){var T=(o.current.shards||[]).map(f_).filter(Boolean).filter(function(O){return O.contains(E.target)}),A=T.length>0?a(E,T[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),c=v.useCallback(function(w,E,x,g){var T={name:w,delta:E,target:x,should:g,shadowParent:PM(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),d=v.useCallback(function(w){n.current=gc(w),r.current=void 0},[]),p=v.useCallback(function(w){c(w.type,h_(w),w.target,a(w,t.lockRef.current))},[]),h=v.useCallback(function(w){c(w.type,gc(w),w.target,a(w,t.lockRef.current))},[]);v.useEffect(function(){return oo.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",u,io),document.addEventListener("touchmove",u,io),document.addEventListener("touchstart",d,io),function(){oo=oo.filter(function(w){return w!==i}),document.removeEventListener("wheel",u,io),document.removeEventListener("touchmove",u,io),document.removeEventListener("touchstart",d,io)}},[]);var y=t.removeScrollBar,b=t.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:SM(s)}):null,y?v.createElement(gM,{gapMode:t.gapMode}):null)}function PM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const RM=rM(Jb,IM);var Nv=v.forwardRef(function(t,e){return v.createElement(Dh,cr({},t,{ref:e,sideCar:RM}))});Nv.classNames=Dh.classNames;var AM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ao=new WeakMap,vc=new WeakMap,yc={},op=0,rS=function(t){return t&&(t.host||rS(t.parentNode))},NM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},kM=function(t,e,n,r){var s=NM(e,Array.isArray(t)?t:[t]);yc[n]||(yc[n]=new WeakMap);var i=yc[n],o=[],a=new Set,u=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),b=y!==null&&y!=="false",w=(ao.get(h)||0)+1,E=(i.get(h)||0)+1;ao.set(h,w),i.set(h,E),o.push(h),w===1&&b&&vc.set(h,!0),E===1&&h.setAttribute(n,"true"),b||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),op++,function(){o.forEach(function(p){var h=ao.get(p)-1,y=i.get(p)-1;ao.set(p,h),i.set(p,y),h||(vc.has(p)||p.removeAttribute(r),vc.delete(p)),y||p.removeAttribute(n)}),op--,op||(ao=new WeakMap,ao=new WeakMap,vc=new WeakMap,yc={})}},sS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=AM(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),kM(r,s,n,"aria-hidden")):function(){return null}},kv="Dialog",[iS,T6]=yh(kv),[DM,er]=iS(kv),oS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),u=v.useRef(null),[c=!1,d]=$l({prop:r,defaultProp:s,onChange:i});return f.jsx(DM,{scope:e,triggerRef:a,contentRef:u,contentId:ki(),titleId:ki(),descriptionId:ki(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};oS.displayName=kv;var aS="DialogTrigger",lS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(aS,n),i=He(e,s.triggerRef);return f.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mv(s.open),...r,ref:i,onClick:me(t.onClick,s.onOpenToggle)})});lS.displayName=aS;var Dv="DialogPortal",[OM,uS]=iS(Dv,{forceMount:void 0}),cS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=er(Dv,e);return f.jsx(OM,{scope:e,forceMount:n,children:v.Children.map(r,o=>f.jsx(pa,{present:n||i.open,children:f.jsx(wh,{asChild:!0,container:s,children:o})}))})};cS.displayName=Dv;var kd="DialogOverlay",dS=v.forwardRef((t,e)=>{const n=uS(kd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=er(kd,t.__scopeDialog);return i.modal?f.jsx(pa,{present:r||i.open,children:f.jsx(MM,{...s,ref:e})}):null});dS.displayName=kd;var MM=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(kd,n);return f.jsx(Nv,{as:jn,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Ie.div,{"data-state":Mv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$i="DialogContent",hS=v.forwardRef((t,e)=>{const n=uS($i,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=er($i,t.__scopeDialog);return f.jsx(pa,{present:r||i.open,children:i.modal?f.jsx(jM,{...s,ref:e}):f.jsx(VM,{...s,ref:e})})});hS.displayName=$i;var jM=v.forwardRef((t,e)=>{const n=er($i,t.__scopeDialog),r=v.useRef(null),s=He(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return sS(i)},[]),f.jsx(fS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:me(t.onFocusOutside,i=>i.preventDefault())})}),VM=v.forwardRef((t,e)=>{const n=er($i,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return f.jsx(fS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),fS=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=er($i,n),u=v.useRef(null),c=He(e,u);return Gb(),f.jsxs(f.Fragment,{children:[f.jsx(Av,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(gu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(LM,{titleId:a.titleId}),f.jsx(UM,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Ov="DialogTitle",pS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(Ov,n);return f.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});pS.displayName=Ov;var mS="DialogDescription",gS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(mS,n);return f.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});gS.displayName=mS;var vS="DialogClose",yS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(vS,n);return f.jsx(Ie.button,{type:"button",...r,ref:e,onClick:me(t.onClick,()=>s.onOpenChange(!1))})});yS.displayName=vS;function Mv(t){return t?"open":"closed"}var wS="DialogTitleWarning",[b6,_S]=g2(wS,{contentName:$i,titleName:Ov,docsSlug:"dialog"}),LM=({titleId:t})=>{const e=_S(wS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},FM="DialogDescriptionWarning",UM=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_S(FM).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},xS=oS,$M=lS,ES=cS,Oh=dS,Mh=hS,jh=pS,Vh=gS,TS=yS;const BM=xS,zM=ES,bS=v.forwardRef(({className:t,...e},n)=>f.jsx(Oh,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));bS.displayName=Oh.displayName;const HM=ma("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SS=v.forwardRef(({side:t="right",className:e,children:n,...r},s)=>f.jsxs(zM,{children:[f.jsx(bS,{}),f.jsxs(Mh,{ref:s,className:te(HM({side:t}),e),...r,children:[n,f.jsxs(TS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[f.jsx(pv,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SS.displayName=Mh.displayName;const WM=v.forwardRef(({className:t,...e},n)=>f.jsx(jh,{ref:n,className:te("text-lg font-semibold text-foreground",t),...e}));WM.displayName=jh.displayName;const qM=v.forwardRef(({className:t,...e},n)=>f.jsx(Vh,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));qM.displayName=Vh.displayName;function p_({className:t,...e}){return f.jsx("div",{className:te("animate-pulse rounded-md bg-muted",t),...e})}const KM="sidebar:state",QM=60*60*24*7,GM="16rem",YM="18rem",XM="3rem",JM="b",CS=v.createContext(null);function _u(){const t=v.useContext(CS);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const IS=v.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const u=j4(),[c,d]=v.useState(!1),[p,h]=v.useState(t),y=e??p,b=v.useCallback(g=>{const T=typeof g=="function"?g(y):g;n?n(T):h(T),document.cookie=`${KM}=${T}; path=/; max-age=${QM}`},[n,y]),w=v.useCallback(()=>u?d(g=>!g):b(g=>!g),[u,b,d]);v.useEffect(()=>{const g=T=>{T.key===JM&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),w())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[w]);const E=y?"expanded":"collapsed",x=v.useMemo(()=>({state:E,open:y,setOpen:b,isMobile:u,openMobile:c,setOpenMobile:d,toggleSidebar:w}),[E,y,b,u,c,d,w]);return f.jsx(CS.Provider,{value:x,children:f.jsx(yb,{delayDuration:0,children:f.jsx("div",{style:{"--sidebar-width":GM,"--sidebar-width-icon":XM,...s},className:te("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});IS.displayName="SidebarProvider";const PS=v.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:u,openMobile:c,setOpenMobile:d}=_u();return n==="none"?f.jsx("div",{className:te("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?f.jsx(BM,{open:c,onOpenChange:d,...i,children:f.jsx(SS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":YM},side:t,children:f.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):f.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":e,"data-side":t,children:[f.jsx("div",{className:te("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),f.jsx("div",{className:te("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:f.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});PS.displayName="Sidebar";const RS=v.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=_u();return f.jsxs(qe,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:te("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[f.jsx(uN,{}),f.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});RS.displayName="SidebarTrigger";const ZM=v.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=_u();return f.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:te("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});ZM.displayName="SidebarRail";const ej=v.forwardRef(({className:t,...e},n)=>f.jsx("main",{ref:n,className:te("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));ej.displayName="SidebarInset";const tj=v.forwardRef(({className:t,...e},n)=>f.jsx(nt,{ref:n,"data-sidebar":"input",className:te("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));tj.displayName="SidebarInput";const nj=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"header",className:te("flex flex-col gap-2 p-2",t),...e}));nj.displayName="SidebarHeader";const rj=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"footer",className:te("flex flex-col gap-2 p-2",t),...e}));rj.displayName="SidebarFooter";const sj=v.forwardRef(({className:t,...e},n)=>f.jsx(Kb,{ref:n,"data-sidebar":"separator",className:te("mx-2 w-auto bg-sidebar-border",t),...e}));sj.displayName="SidebarSeparator";const AS=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"content",className:te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));AS.displayName="SidebarContent";const NS=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"group",className:te("relative flex w-full min-w-0 flex-col p-2",t),...e}));NS.displayName="SidebarGroup";const kS=v.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?jn:"div";return f.jsx(s,{ref:r,"data-sidebar":"group-label",className:te("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});kS.displayName="SidebarGroupLabel";const ij=v.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?jn:"button";return f.jsx(s,{ref:r,"data-sidebar":"group-action",className:te("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});ij.displayName="SidebarGroupAction";const DS=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"group-content",className:te("w-full text-sm",t),...e}));DS.displayName="SidebarGroupContent";const OS=v.forwardRef(({className:t,...e},n)=>f.jsx("ul",{ref:n,"data-sidebar":"menu",className:te("flex w-full min-w-0 flex-col gap-1",t),...e}));OS.displayName="SidebarMenu";const MS=v.forwardRef(({className:t,...e},n)=>f.jsx("li",{ref:n,"data-sidebar":"menu-item",className:te("group/menu-item relative",t),...e}));MS.displayName="SidebarMenuItem";const oj=ma("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),jS=v.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const u=t?jn:"button",{isMobile:c,state:d}=_u(),p=f.jsx(u,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:te(oj({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),f.jsxs(JD,{children:[f.jsx(ZD,{asChild:!0,children:p}),f.jsx(wb,{side:"right",align:"center",hidden:d!=="collapsed"||c,...s})]})):p});jS.displayName="SidebarMenuButton";const aj=v.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?jn:"button";return f.jsx(i,{ref:s,"data-sidebar":"menu-action",className:te("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});aj.displayName="SidebarMenuAction";const lj=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:te("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));lj.displayName="SidebarMenuBadge";const uj=v.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return f.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:te("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&f.jsx(p_,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),f.jsx(p_,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});uj.displayName="SidebarMenuSkeleton";const cj=v.forwardRef(({className:t,...e},n)=>f.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:te("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));cj.displayName="SidebarMenuSub";const dj=v.forwardRef(({...t},e)=>f.jsx("li",{ref:e,...t}));dj.displayName="SidebarMenuSubItem";const hj=v.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?jn:"a";return f.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:te("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});hj.displayName="SidebarMenuSubButton";const fj=""+new URL("Logo-Mondini-DGbuvNVK.png",import.meta.url).href,pj=[{title:"Dashboard",url:"/",icon:lN},{title:"Clientes",url:"/clientes",icon:NT},{title:"Produtos",url:"/produtos",icon:dv},{title:"Estoque",url:"/estoque",icon:cN},{title:"Pedidos",url:"/pedidos",icon:xd},{title:"Relatórios",url:"/relatorios",icon:rN}];function mj(){const{state:t}=_u();Yi().pathname;const n=({isActive:r})=>r?"bg-primary text-primary-foreground font-medium hover:bg-primary/90":"hover:bg-accent hover:text-accent-foreground";return f.jsx(PS,{collapsible:"icon",children:f.jsxs(AS,{children:[f.jsxs("div",{className:"p-4 border-b",children:[f.jsx("div",{className:"flex items-center gap-3"}),t!=="collapsed"&&f.jsx("div",{children:f.jsx("img",{src:fj,alt:"Logo Mondini"})})]}),f.jsxs(NS,{children:[f.jsx(kS,{children:"Menu Principal"}),f.jsx(DS,{children:f.jsx(OS,{children:pj.map(r=>f.jsx(MS,{children:f.jsx(jS,{asChild:!0,children:f.jsxs(k4,{to:r.url,end:r.url==="/",className:({isActive:s})=>n({isActive:s}),children:[f.jsx(r.icon,{className:"w-4 h-4"}),t!=="collapsed"&&f.jsx("span",{children:r.title})]})})},r.title))})})]})]})})}function gj({children:t}){return f.jsx(IS,{children:f.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[f.jsx(mj,{}),f.jsxs("div",{className:"flex-1 flex flex-col",children:[f.jsxs("header",{className:"h-14 border-b bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-card/50 flex items-center px-4",children:[f.jsx(RS,{className:"-ml-1"}),f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Sistema de Controle e Pedidos"})]}),f.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})})}const Rn=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Rn.displayName="Card";const qn=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",t),...e}));qn.displayName="CardHeader";const Or=v.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:te("text-2xl font-semibold leading-none tracking-tight",t),...e}));Or.displayName="CardTitle";const vj=v.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:te("text-sm text-muted-foreground",t),...e}));vj.displayName="CardDescription";const An=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:te("p-6 pt-0",t),...e}));An.displayName="CardContent";const yj=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",t),...e}));yj.displayName="CardFooter";function wj({title:t,value:e,description:n,icon:r,trend:s}){return f.jsxs(Rn,{children:[f.jsxs(qn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Or,{className:"text-sm font-medium",children:t}),f.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(An,{children:[f.jsx("div",{className:"text-2xl font-bold",children:e}),n&&f.jsx("p",{className:"text-xs text-muted-foreground",children:n}),s&&f.jsxs("div",{className:"flex items-center text-xs mt-1",children:[f.jsxs("span",{className:s.isPositive?"text-green-600":"text-red-600",children:[s.isPositive?"+":"",s.value,"%"]}),f.jsx("span",{className:"text-muted-foreground ml-1",children:"vs. mês anterior"})]})]})]})}function ap(){const t=[{title:"Total de Clientes",value:"1,234",description:"Clientes ativos",icon:NT,trend:{value:12,isPositive:!0}},{title:"Produtos em Estoque",value:"8,567",description:"Itens disponíveis",icon:dv,trend:{value:-3,isPositive:!1}},{title:"Pedidos do Mês",value:"456",description:"Novos pedidos",icon:xd,trend:{value:18,isPositive:!0}},{title:"Estoque Baixo",value:"23",description:"Produtos com estoque baixo",icon:Pw},{title:"Faturamento Mensal",value:"R$ 145.780",description:"Receita do mês atual",icon:oN,trend:{value:25,isPositive:!0}},{title:"Serviços Prestados",value:"89",description:"Serviços do mês",icon:dN,trend:{value:8,isPositive:!0}}],e=[{id:"PED-001",client:"Empresa ABC Ltda",value:"R$ 2.450,00",status:"Pendente",date:"2024-01-07"},{id:"PED-002",client:"Indústria XYZ S/A",value:"R$ 1.280,00",status:"Processando",date:"2024-01-07"},{id:"PED-003",client:"Comercial 123",value:"R$ 3.670,00",status:"Concluído",date:"2024-01-06"},{id:"PED-004",client:"Distribuidora DEF",value:"R$ 890,00",status:"Concluído",date:"2024-01-06"}],n=[{name:"Material Moído Tipo A",current:15,minimum:50,category:"Material Moído"},{name:"MCOLOR Verde",current:8,minimum:20,category:"MCOLOR"},{name:"Produto Final XYZ",current:32,minimum:100,category:"Produto Final"},{name:"Material Moído Tipo B",current:12,minimum:40,category:"Material Moído"}];return f.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),f.jsx("p",{className:"text-muted-foreground",children:"Visão geral do sistema MONDINI"})]})}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map((r,s)=>f.jsx(wj,{...r},s))}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs(Rn,{children:[f.jsx(qn,{children:f.jsx(Or,{children:"Pedidos Recentes"})}),f.jsx(An,{children:f.jsx("div",{className:"space-y-4",children:e.map(r=>f.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-medium",children:r.id}),f.jsx("p",{className:"text-sm text-muted-foreground",children:r.client}),f.jsx("p",{className:"text-xs text-muted-foreground",children:r.date})]}),f.jsxs("div",{className:"text-right space-y-1",children:[f.jsx("p",{className:"font-medium",children:r.value}),f.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r.status==="Concluído"?"bg-green-100 text-green-800":r.status==="Processando"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})]})]},r.id))})})]}),f.jsxs(Rn,{children:[f.jsx(qn,{children:f.jsxs(Or,{className:"flex items-center gap-2",children:[f.jsx(Pw,{className:"h-5 w-5 text-amber-500"}),"Estoque Baixo"]})}),f.jsx(An,{children:f.jsx("div",{className:"space-y-4",children:n.map((r,s)=>f.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-amber-50",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-sm",children:r.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:r.category})]}),f.jsxs("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:[r.current," / ",r.minimum]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:`${r.current/r.minimum*100}%`}})})]},s))})})]})]})]})}const _j=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(h=64)),r.push(n[d],n[p],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new Ej;const h=i<<2|a>>4;if(r.push(h),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const b=c<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ej extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tj=function(t){const e=VS(t);return LS.encodeByteArray(e,!0)},Dd=function(t){return Tj(t).replace(/\./g,"")},bj=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=()=>Sj().__FIREBASE_DEFAULTS__,Ij=()=>{if(typeof process>"u"||typeof m_>"u")return;const t=m_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bj(t[1]);return e&&JSON.parse(e)},jv=()=>{try{return _j()||Cj()||Ij()||Pj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rj=t=>{var e,n;return(n=(e=jv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Aj=t=>{const e=Rj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FS=()=>{var t;return(t=jv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(o)),""].join(".")}const wl={};function Oj(){const t={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?t.emulator.push(e):t.prod.push(e);return t}function Mj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let g_=!1;function jj(t,e){if(typeof window>"u"||typeof document>"u"||!Vv(window.location.host)||wl[t]===e||wl[t]||g_)return;wl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=Oj().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function u(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{g_=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=Mj(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),x=n("preprendIcon"),g=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const T=h.element;a(T),d(E,w);const A=c();u(g,x),T.append(g,b,E,A),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lj(){var t;const e=(t=jv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fj(){return!Lj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uj(){try{return typeof indexedDB=="object"}catch{return!1}}function $j(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="FirebaseError";class xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bj,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,US.prototype.create)}}class US{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xa(s,a,r)}}function zj(t,e){return t.replace(Hj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Hj=/\{\$([^}]+)}/g;function Od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(v_(i)&&v_(o)){if(!Od(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){return t&&t._delegate?t._delegate:t}class Ql{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kj(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qj(t){return t===mi?void 0:t}function Kj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const Gj={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Yj=Ce.INFO,Xj={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Jj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Xj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $S{constructor(e){this.name=e,this._logLevel=Yj,this._logHandler=Jj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const Zj=(t,e)=>e.some(n=>t instanceof n);let y_,w_;function eV(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tV(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,Um=new WeakMap,zS=new WeakMap,lp=new WeakMap,Lv=new WeakMap;function nV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}function rV(t){if(Um.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Um.set(t,e)}let $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sV(t){$m=t($m)}function iV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(up(this),e,...n);return zS.set(r,e.sort?e.sort():[e]),js(r)}:tV().includes(t)?function(...e){return t.apply(up(this),e),js(BS.get(this))}:function(...e){return js(t.apply(up(this),e))}}function oV(t){return typeof t=="function"?iV(t):(t instanceof IDBTransaction&&rV(t),Zj(t,eV())?new Proxy(t,$m):t)}function js(t){if(t instanceof IDBRequest)return nV(t);if(lp.has(t))return lp.get(t);const e=oV(t);return e!==t&&(lp.set(t,e),Lv.set(e,t)),e}const up=t=>Lv.get(t);function aV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",u=>{r(js(o.result),u.oldVersion,u.newVersion,js(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lV=["get","getKey","getAll","getAllKeys","count"],uV=["put","add","delete","clear"],cp=new Map;function __(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=uV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lV.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return cp.set(e,i),i}sV(t=>({...t,get:(e,n,r)=>__(e,n)||t.get(e,n,r),has:(e,n)=>!!__(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",x_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new $S("@firebase/app"),hV="@firebase/app-compat",fV="@firebase/analytics-compat",pV="@firebase/analytics",mV="@firebase/app-check-compat",gV="@firebase/app-check",vV="@firebase/auth",yV="@firebase/auth-compat",wV="@firebase/database",_V="@firebase/data-connect",xV="@firebase/database-compat",EV="@firebase/functions",TV="@firebase/functions-compat",bV="@firebase/installations",SV="@firebase/installations-compat",CV="@firebase/messaging",IV="@firebase/messaging-compat",PV="@firebase/performance",RV="@firebase/performance-compat",AV="@firebase/remote-config",NV="@firebase/remote-config-compat",kV="@firebase/storage",DV="@firebase/storage-compat",OV="@firebase/firestore",MV="@firebase/ai",jV="@firebase/firestore-compat",VV="firebase",LV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",FV={[Bm]:"fire-core",[hV]:"fire-core-compat",[pV]:"fire-analytics",[fV]:"fire-analytics-compat",[gV]:"fire-app-check",[mV]:"fire-app-check-compat",[vV]:"fire-auth",[yV]:"fire-auth-compat",[wV]:"fire-rtdb",[_V]:"fire-data-connect",[xV]:"fire-rtdb-compat",[EV]:"fire-fn",[TV]:"fire-fn-compat",[bV]:"fire-iid",[SV]:"fire-iid-compat",[CV]:"fire-fcm",[IV]:"fire-fcm-compat",[PV]:"fire-perf",[RV]:"fire-perf-compat",[AV]:"fire-rc",[NV]:"fire-rc-compat",[kV]:"fire-gcs",[DV]:"fire-gcs-compat",[OV]:"fire-fst",[jV]:"fire-fst-compat",[MV]:"fire-vertex","fire-js":"fire-js",[VV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,UV=new Map,Hm=new Map;function E_(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jd(t){const e=t.name;if(Hm.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of Md.values())E_(n,t);for(const n of UV.values())E_(n,t);return!0}function $V(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function BV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new US("app","Firebase",zV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=LV;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zm,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Vs.create("bad-app-name",{appName:String(s)});if(n||(n=FS()),!n)throw Vs.create("no-options");const i=Md.get(s);if(i){if(Od(n,i.options)&&Od(r,i.config))return i;throw Vs.create("duplicate-app",{appName:s})}const o=new Qj(s);for(const u of Hm.values())o.addComponent(u);const a=new HV(n,r,o);return Md.set(s,a),a}function qV(t=zm){const e=Md.get(t);if(!e&&t===zm&&FS())return HS();if(!e)throw Vs.create("no-app",{appName:t});return e}function Oo(t,e,n){var r;let s=(r=FV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}jd(new Ql(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="firebase-heartbeat-database",QV=1,Gl="firebase-heartbeat-store";let dp=null;function WS(){return dp||(dp=aV(KV,QV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),dp}async function GV(t){try{const n=(await WS()).transaction(Gl),r=await n.objectStore(Gl).get(qS(t));return await n.done,r}catch(e){if(e instanceof xa)Hr.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function T_(t,e){try{const r=(await WS()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,qS(t)),await r.done}catch(n){if(n instanceof xa)Hr.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=1024,XV=30;class JV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=b_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>XV){const o=tL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:r,unsentEntries:s}=ZV(this._heartbeatsCache.heartbeats),i=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hr.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function ZV(t,e=YV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),S_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),S_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uj()?$j().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S_(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}function tL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){jd(new Ql("platform-logger",e=>new cV(e),"PRIVATE")),jd(new Ql("heartbeat",e=>new JV(e),"PRIVATE")),Oo(Bm,x_,t),Oo(Bm,x_,"esm2017"),Oo("fire-js","")}nL("");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,KS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function R(){}R.prototype=C.prototype,I.D=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(S,k,D){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return C.prototype[k].apply(S,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,R){R||(R=0);var S=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)S[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;16>k;++k)S[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],k=I.g[2];var D=I.g[3],N=C+(D^R&(k^D))+S[0]+3614090360&4294967295;C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[1]+3905402710&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+S[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[5]+1200080426&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+S[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[9]+2336552879&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+S[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[13]+4254626195&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(k^D&(R^k))+S[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[6]+3225465664&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+S[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[10]+38016083&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+S[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[14]+3275163606&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+S[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[2]+4243563512&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(R^k^D)+S[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[8]+2272392833&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+S[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[4]+1272893353&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+S[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[0]+3936430074&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+S[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[12]+3873151461&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(k^(R|~D))+S[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[7]+1126891415&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+S[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[3]+2399980690&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+S[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[15]+4264355552&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+S[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[11]+3174756917&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var R=C-this.blockSize,S=this.B,k=this.h,D=0;D<C;){if(k==0)for(;D<=R;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<C;)if(S[k++]=I.charCodeAt(D++),k==this.blockSize){s(this,S),k=0;break}}else for(;D<C;)if(S[k++]=I[D++],k==this.blockSize){s(this,S),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var R=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.u(I),I=Array(16),C=R=0;4>C;++C)for(var S=0;32>S;S+=8)I[R++]=this.g[C]>>>S&255;return I};function i(I,C){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function o(I,C){this.h=C;for(var R=[],S=!0,k=I.length-1;0<=k;k--){var D=I[k]|0;S&&D==C||(R[k]=D,S=!1)}this.g=R}var a={};function u(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return E(c(-I));for(var C=[],R=1,S=0;I>=R;S++)C[S]=I/R|0,R*=4294967296;return new o(C,0)}function d(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return E(d(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(C,8)),S=p,k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k),N=parseInt(I.substring(k,k+D),C);8>D?(D=c(Math.pow(C,D)),S=S.j(D).add(c(N))):(S=S.j(R),S=S.add(c(N)))}return S}var p=u(0),h=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var I=0,C=1,R=0;R<this.g.length;R++){var S=this.i(R);I+=(0<=S?S:4294967296+S)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(w(this))return"-"+E(this).toString(I);for(var C=c(Math.pow(I,6)),R=this,S="";;){var k=A(R,C).g;R=x(R,k.j(C));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,b(R))return D+S;for(;6>D.length;)D="0"+D;S=D+S}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=x(this,I),w(I)?-1:b(I)?0:1};function E(I){for(var C=I.g.length,R=[],S=0;S<C;S++)R[S]=~I.g[S];return new o(R,~I.h).add(h)}t.abs=function(){return w(this)?E(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0,k=0;k<=C;k++){var D=S+(this.i(k)&65535)+(I.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);S=N>>>16,D&=65535,N&=65535,R[k]=N<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(I,C){return I.add(E(C))}t.j=function(I){if(b(this)||b(I))return p;if(w(this))return w(I)?E(this).j(E(I)):E(E(this).j(I));if(w(I))return E(this.j(E(I)));if(0>this.l(y)&&0>I.l(y))return c(this.m()*I.m());for(var C=this.g.length+I.g.length,R=[],S=0;S<2*C;S++)R[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<I.g.length;k++){var D=this.i(S)>>>16,N=this.i(S)&65535,W=I.i(k)>>>16,ie=I.i(k)&65535;R[2*S+2*k]+=N*ie,g(R,2*S+2*k),R[2*S+2*k+1]+=D*ie,g(R,2*S+2*k+1),R[2*S+2*k+1]+=N*W,g(R,2*S+2*k+1),R[2*S+2*k+2]+=D*W,g(R,2*S+2*k+2)}for(S=0;S<C;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=C;S<2*C;S++)R[S]=0;return new o(R,0)};function g(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function T(I,C){this.g=I,this.h=C}function A(I,C){if(b(C))throw Error("division by zero");if(b(I))return new T(p,p);if(w(I))return C=A(E(I),C),new T(E(C.g),E(C.h));if(w(C))return C=A(I,E(C)),new T(E(C.g),C.h);if(30<I.g.length){if(w(I)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var R=h,S=C;0>=S.l(I);)R=O(R),S=O(S);var k=V(R,1),D=V(S,1);for(S=V(S,2),R=V(R,2);!b(S);){var N=D.add(S);0>=N.l(I)&&(k=k.add(R),D=N),S=V(S,1),R=V(R,1)}return C=x(I,k.j(C)),new T(k,C)}for(k=p;0<=I.l(C);){for(R=Math.max(1,Math.floor(I.m()/C.m())),S=Math.ceil(Math.log(R)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),D=c(R),N=D.j(C);w(N)||0<N.l(I);)R-=S,D=c(R),N=D.j(C);b(D)&&(D=h),k=k.add(D),I=x(I,N)}return new T(k,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0;S<C;S++)R[S]=this.i(S)&I.i(S);return new o(R,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0;S<C;S++)R[S]=this.i(S)|I.i(S);return new o(R,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0;S<C;S++)R[S]=this.i(S)^I.i(S);return new o(R,this.h^I.h)};function O(I){for(var C=I.g.length+1,R=[],S=0;S<C;S++)R[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(R,I.h)}function V(I,C){var R=C>>5;C%=32;for(var S=I.g.length-R,k=[],D=0;D<S;D++)k[D]=0<C?I.i(D+R)>>>C|I.i(D+R+1)<<32-C:I.i(D+R);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ls=o}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,il,GS,zc,Wm,YS,XS,JS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,_){return l==Array.prototype||l==Object.prototype||(l[m]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<l.length;++m){var _=l[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(l,m){if(m)e:{var _=r;l=l.split(".");for(var P=0;P<l.length-1;P++){var L=l[P];if(!(L in _))break e;_=_[L]}l=l[l.length-1],P=_[l],m=m(P),m!=P&&m!=null&&e(_,l,{configurable:!0,writable:!0,value:m})}}function i(l,m){l instanceof String&&(l+="");var _=0,P=!1,L={next:function(){if(!P&&_<l.length){var U=_++;return{value:m(U,l[U]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(l){return l||function(){return i(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function c(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function d(l,m,_){return l.call.apply(l.bind,arguments)}function p(l,m,_){if(!l)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),l.apply(m,L)}}return function(){return l.apply(m,arguments)}}function h(l,m,_){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function y(l,m){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),l.apply(this,P)}}function b(l,m){function _(){}_.prototype=m.prototype,l.aa=m.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(P,L,U){for(var G=Array(arguments.length-2),je=2;je<arguments.length;je++)G[je-2]=arguments[je];return m.prototype[L].apply(P,G)}}function w(l){const m=l.length;if(0<m){const _=Array(m);for(let P=0;P<m;P++)_[P]=l[P];return _}return[]}function E(l,m){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(u(P)){const L=l.length||0,U=P.length||0;l.length=L+U;for(let G=0;G<U;G++)l[L+G]=P[G]}else l.push(P)}}class x{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function g(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function A(l){return A[" "](l),l}A[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(l,m,_){for(const P in l)m.call(_,l[P],P,l)}function I(l,m){for(const _ in l)m.call(void 0,l[_],_,l)}function C(l){const m={};for(const _ in l)m[_]=l[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,m){let _,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(_ in P)l[_]=P[_];for(let U=0;U<R.length;U++)_=R[U],Object.prototype.hasOwnProperty.call(P,_)&&(l[_]=P[_])}}function k(l){var m=1;l=l.split(":");const _=[];for(;0<m&&l.length;)_.push(l.shift()),m--;return l.length&&_.push(l.join(":")),_}function D(l){a.setTimeout(()=>{throw l},0)}function N(){var l=$;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,_){const P=ie.get();P.set(m,_),this.h?this.h.next=P:this.g=P,this.h=P}}var ie=new x(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let F,j=!1,$=new W,K=()=>{const l=a.Promise.resolve(void 0);F=()=>{l.then(H)}};var H=()=>{for(var l;l=N();){try{l.h.call(l.g)}catch(_){D(_)}var m=ie;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}j=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return l}();function be(l,m){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,P=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(O){e:{try{A(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=l.fromElement:_=="mouseout"&&(m=l.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:le[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&be.aa.h.call(this)}}b(be,X);var le={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function We(l,m,_,P,L){this.listener=l,this.proxy=null,this.src=m,this.type=_,this.capture=!!P,this.ha=L,this.key=++Pe,this.da=this.fa=!1}function ye(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ee(l){this.src=l,this.g={},this.h=0}Ee.prototype.add=function(l,m,_,P,L){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var G=mt(l,m,P,L);return-1<G?(m=l[G],_||(m.fa=!1)):(m=new We(m,this.src,U,!!P,L),m.fa=_,l.push(m)),m};function _e(l,m){var _=m.type;if(_ in l.g){var P=l.g[_],L=Array.prototype.indexOf.call(P,m,void 0),U;(U=0<=L)&&Array.prototype.splice.call(P,L,1),U&&(ye(m),l.g[_].length==0&&(delete l.g[_],l.h--))}}function mt(l,m,_,P){for(var L=0;L<l.length;++L){var U=l[L];if(!U.da&&U.listener==m&&U.capture==!!_&&U.ha==P)return L}return-1}var St="closure_lm_"+(1e6*Math.random()|0),bn={};function qt(l,m,_,P,L){if(Array.isArray(m)){for(var U=0;U<m.length;U++)qt(l,m[U],_,P,L);return null}return _=Aa(_),l&&l[se]?l.K(m,_,c(P)?!!P.capture:!!P,L):xr(l,m,_,!1,P,L)}function xr(l,m,_,P,L,U){if(!m)throw Error("Invalid event type");var G=c(L)?!!L.capture:!!L,je=Qr(l);if(je||(l[St]=je=new Ee(l)),_=je.add(m,_,P,G,U),_.proxy)return _;if(P=Pa(),_.proxy=P,P.src=l,P.listener=_,l.addEventListener)fe||(L=G),L===void 0&&(L=!1),l.addEventListener(m.toString(),P,L);else if(l.attachEvent)l.attachEvent(Ru(m.toString()),P);else if(l.addListener&&l.removeListener)l.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Pa(){function l(_){return m.call(l.src,l.listener,_)}const m=nf;return l}function ut(l,m,_,P,L){if(Array.isArray(m))for(var U=0;U<m.length;U++)ut(l,m[U],_,P,L);else P=c(P)?!!P.capture:!!P,_=Aa(_),l&&l[se]?(l=l.i,m=String(m).toString(),m in l.g&&(U=l.g[m],_=mt(U,_,P,L),-1<_&&(ye(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete l.g[m],l.h--)))):l&&(l=Qr(l))&&(m=l.g[m.toString()],l=-1,m&&(l=mt(m,_,P,L)),(_=-1<l?m[l]:null)&&tr(_))}function tr(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[se])_e(m.i,l);else{var _=l.type,P=l.proxy;m.removeEventListener?m.removeEventListener(_,P,l.capture):m.detachEvent?m.detachEvent(Ru(_),P):m.addListener&&m.removeListener&&m.removeListener(P),(_=Qr(m))?(_e(_,l),_.h==0&&(_.src=null,m[St]=null)):ye(l)}}}function Ru(l){return l in bn?bn[l]:bn[l]="on"+l}function nf(l,m){if(l.da)l=!0;else{m=new be(m,this);var _=l.listener,P=l.ha||l.src;l.fa&&tr(l),l=_.call(P,m)}return l}function Qr(l){return l=l[St],l instanceof Ee?l:null}var Ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(l){return typeof l=="function"?l:(l[Ra]||(l[Ra]=function(m){return l.handleEvent(m)}),l[Ra])}function ct(){Q.call(this),this.i=new Ee(this),this.M=this,this.F=null}b(ct,Q),ct.prototype[se]=!0,ct.prototype.removeEventListener=function(l,m,_,P){ut(this,l,m,_,P)};function Je(l,m){var _,P=l.F;if(P)for(_=[];P;P=P.F)_.push(P);if(l=l.M,P=m.type||m,typeof m=="string")m=new X(m,l);else if(m instanceof X)m.target=m.target||l;else{var L=m;m=new X(P,l),S(m,L)}if(L=!0,_)for(var U=_.length-1;0<=U;U--){var G=m.g=_[U];L=li(G,P,!0,m)&&L}if(G=m.g=l,L=li(G,P,!0,m)&&L,L=li(G,P,!1,m)&&L,_)for(U=0;U<_.length;U++)G=m.g=_[U],L=li(G,P,!1,m)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var _=l.g[m],P=0;P<_.length;P++)ye(_[P]);delete l.g[m],l.h--}}this.F=null},ct.prototype.K=function(l,m,_,P){return this.i.add(String(l),m,!1,_,P)},ct.prototype.L=function(l,m,_,P){return this.i.add(String(l),m,!0,_,P)};function li(l,m,_,P){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,U=0;U<m.length;++U){var G=m[U];if(G&&!G.da&&G.capture==_){var je=G.listener,Ct=G.ha||G.src;G.fa&&_e(l.i,G),L=je.call(Ct,P)!==!1&&L}}return L&&!P.defaultPrevented}function Er(l,m,_){if(typeof l=="function")_&&(l=h(l,_));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function Na(l){l.g=Er(()=>{l.g=null,l.i&&(l.i=!1,Na(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class rf extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(l){Q.call(this),this.h=l,this.g={}}b(Gr,Q);var ka=[];function Au(l){V(l.g,function(m,_){this.g.hasOwnProperty(_)&&tr(m)},l),l.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Au(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=a.JSON.stringify,nr=a.JSON.parse,sf=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ce(){}ce.prototype.h=null;function Me(l){return l.h||(l.h=l.i())}function De(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tn(){X.call(this,"d")}b(tn,X);function Yr(){X.call(this,"c")}b(Yr,X);var Tr={},Ty=null;function Nu(){return Ty=Ty||new ct}Tr.La="serverreachability";function by(l){X.call(this,Tr.La,l)}b(by,X);function Da(l){const m=Nu();Je(m,new by(m))}Tr.STAT_EVENT="statevent";function Sy(l,m){X.call(this,Tr.STAT_EVENT,l),this.stat=m}b(Sy,X);function Kt(l){const m=Nu();Je(m,new Sy(m,l))}Tr.Ma="timingevent";function Cy(l,m){X.call(this,Tr.Ma,l),this.size=m}b(Cy,X);function Oa(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function cP(l,m,_,P,L,U){l.info(function(){if(l.g)if(U)for(var G="",je=U.split("&"),Ct=0;Ct<je.length;Ct++){var Ae=je[Ct].split("=");if(1<Ae.length){var Ot=Ae[0];Ae=Ae[1];var Mt=Ot.split("_");G=2<=Mt.length&&Mt[1]=="type"?G+(Ot+"="+Ae+"&"):G+(Ot+"=redacted&")}}else G=null;else G=U;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+m+`
`+_+`
`+G})}function dP(l,m,_,P,L,U,G){l.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+m+`
`+_+`
`+U+" "+G})}function eo(l,m,_,P){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+fP(l,_)+(P?" "+P:"")})}function hP(l,m){l.info(function(){return"TIMEOUT: "+m})}Ma.prototype.info=function(){};function fP(l,m){if(!l.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var P=_[l];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return ui(_)}catch{return m}}var ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},of;function Du(){}b(Du,ce),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},of=new Du;function Xr(l,m,_,P){this.j=l,this.i=m,this.l=_,this.R=P||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Py}function Py(){this.i=null,this.g="",this.h=!1}var Ry={},af={};function lf(l,m,_){l.L=1,l.v=Vu(br(m)),l.m=_,l.P=!0,Ay(l,null)}function Ay(l,m){l.F=Date.now(),Ou(l),l.A=br(l.v);var _=l.A,P=l.R;Array.isArray(P)||(P=[String(P)]),Hy(_.i,"t",P),l.C=0,_=l.j.J,l.h=new Py,l.g=l0(l.j,_?m:null,!l.m),0<l.O&&(l.M=new rf(h(l.Y,l,l.g),l.O)),m=l.U,_=l.g,P=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(ka[0]=L.toString()),L=ka);for(var U=0;U<L.length;U++){var G=qt(_,L[U],P||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),Da(),cP(l.i,l.u,l.A,l.l,l.R,l.m)}Xr.prototype.ca=function(l){l=l.target;const m=this.M;m&&Sr(l)==3?m.j():this.Y(l)},Xr.prototype.Y=function(l){try{if(l==this.g)e:{const Mt=Sr(this.g);var m=this.g.Ba();const ro=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Xy(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=ro?Da(3):Da(2)),uf(this);var _=this.g.Z();this.X=_;t:if(Ny(this)){var P=Xy(this.g);l="";var L=P.length,U=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),ja(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,l+=this.h.i.decode(P[m],{stream:!(U&&m==L-1)});P.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,dP(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ct=this.g;if((je=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(je)){var Ae=je;break t}}Ae=null}if(_=Ae)eo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cf(this,_);else{this.o=!1,this.s=3,Kt(12),ci(this),ja(this);break e}}if(this.P){_=!0;let Vn;for(;!this.J&&this.C<G.length;)if(Vn=pP(this,G),Vn==af){Mt==4&&(this.s=4,Kt(14),_=!1),eo(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Ry){this.s=4,Kt(15),eo(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else eo(this.i,this.l,Vn,null),cf(this,Vn);if(Ny(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||G.length!=0||this.h.h||(this.s=1,Kt(16),_=!1),this.o=this.o&&_,!_)eo(this.i,this.l,G,"[Invalid Chunked Response]"),ci(this),ja(this);else if(0<G.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),gf(Ot),Ot.M=!0,Kt(11))}}else eo(this.i,this.l,G,null),cf(this,G);Mt==4&&ci(this),this.o&&!this.J&&(Mt==4?s0(this.j,this):(this.o=!1,Ou(this)))}else NP(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),ci(this),ja(this)}}}catch{}finally{}};function Ny(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pP(l,m){var _=l.C,P=m.indexOf(`
`,_);return P==-1?af:(_=Number(m.substring(_,P)),isNaN(_)?Ry:(P+=1,P+_>m.length?af:(m=m.slice(P,P+_),l.C=P+_,m)))}Xr.prototype.cancel=function(){this.J=!0,ci(this)};function Ou(l){l.S=Date.now()+l.I,ky(l,l.I)}function ky(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Oa(h(l.ba,l),m)}function uf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Xr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(hP(this.i,this.A),this.L!=2&&(Da(),Kt(17)),ci(this),this.s=2,ja(this)):ky(this,this.S-l)};function ja(l){l.j.G==0||l.J||s0(l.j,l)}function ci(l){uf(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Au(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function cf(l,m){try{var _=l.j;if(_.G!=0&&(_.g==l||df(_.h,l))){if(!l.K&&df(_.h,l)&&_.G==3){try{var P=_.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)zu(_),$u(_);else break e;mf(_),Kt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Oa(h(_.Za,_),6e3));if(1>=My(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else hi(_,11)}else if((l.K||_.g==l)&&zu(_),!g(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Ae=L[m];if(_.T=Ae[0],Ae=Ae[1],_.G==2)if(Ae[0]=="c"){_.K=Ae[1],_.ia=Ae[2];const Ot=Ae[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const Mt=Ae[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const ro=Ae[5];ro!=null&&typeof ro=="number"&&0<ro&&(P=1.5*ro,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const Vn=l.g;if(Vn){const Wu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wu){var U=P.h;U.g||Wu.indexOf("spdy")==-1&&Wu.indexOf("quic")==-1&&Wu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(hf(U,U.h),U.h=null))}if(P.D){const vf=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(P.ya=vf,Ue(P.I,P.D,vf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var G=l;if(P.qa=a0(P,P.J?P.ia:null,P.W),G.K){jy(P.h,G);var je=G,Ct=P.L;Ct&&(je.I=Ct),je.B&&(uf(je),Ou(je)),P.g=G}else n0(P);0<_.i.length&&Bu(_)}else Ae[0]!="stop"&&Ae[0]!="close"||hi(_,7);else _.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?hi(_,7):pf(_):Ae[0]!="noop"&&_.l&&_.l.ta(Ae),_.v=0)}}Da(4)}catch{}}var mP=class{constructor(l,m){this.g=l,this.map=m}};function Dy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function My(l){return l.h?1:l.g?l.g.size:0}function df(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function hf(l,m){l.g?l.g.add(m):l.h=m}function jy(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Dy.prototype.cancel=function(){if(this.i=Vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const _ of l.g.values())m=m.concat(_.D);return m}return w(l.i)}function gP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var m=[],_=l.length,P=0;P<_;P++)m.push(l[P]);return m}m=[],_=0;for(P in l)m[_++]=l[P];return m}function vP(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var m=[];l=l.length;for(var _=0;_<l;_++)m.push(_);return m}m=[],_=0;for(const P in l)m[_++]=P;return m}}}function Ly(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var _=vP(l),P=gP(l),L=P.length,U=0;U<L;U++)m.call(void 0,P[U],_&&_[U],l)}var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yP(l,m){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var P=l[_].indexOf("="),L=null;if(0<=P){var U=l[_].substring(0,P);L=l[_].substring(P+1)}else U=l[_];m(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function di(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof di){this.h=l.h,Mu(this,l.j),this.o=l.o,this.g=l.g,ju(this,l.s),this.l=l.l;var m=l.i,_=new Fa;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Uy(this,_),this.m=l.m}else l&&(m=String(l).match(Fy))?(this.h=!1,Mu(this,m[1]||"",!0),this.o=Va(m[2]||""),this.g=Va(m[3]||"",!0),ju(this,m[4]),this.l=Va(m[5]||"",!0),Uy(this,m[6]||"",!0),this.m=Va(m[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}di.prototype.toString=function(){var l=[],m=this.j;m&&l.push(La(m,$y,!0),":");var _=this.g;return(_||m=="file")&&(l.push("//"),(m=this.o)&&l.push(La(m,$y,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(La(_,_.charAt(0)=="/"?xP:_P,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",La(_,TP)),l.join("")};function br(l){return new di(l)}function Mu(l,m,_){l.j=_?Va(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ju(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function Uy(l,m,_){m instanceof Fa?(l.i=m,bP(l.i,l.h)):(_||(m=La(m,EP)),l.i=new Fa(m,l.h))}function Ue(l,m,_){l.i.set(m,_)}function Vu(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Va(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function La(l,m,_){return typeof l=="string"?(l=encodeURI(l).replace(m,wP),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var $y=/[#\/\?@]/g,_P=/[#\?:]/g,xP=/[#\?]/g,EP=/[#\?@]/g,TP=/#/g;function Fa(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Jr(l){l.g||(l.g=new Map,l.h=0,l.i&&yP(l.i,function(m,_){l.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Fa.prototype,t.add=function(l,m){Jr(this),this.i=null,l=to(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(m),this.h+=1,this};function By(l,m){Jr(l),m=to(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function zy(l,m){return Jr(l),m=to(l,m),l.g.has(m)}t.forEach=function(l,m){Jr(this),this.g.forEach(function(_,P){_.forEach(function(L){l.call(m,L,P,this)},this)},this)},t.na=function(){Jr(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let P=0;P<m.length;P++){const L=l[P];for(let U=0;U<L.length;U++)_.push(m[P])}return _},t.V=function(l){Jr(this);let m=[];if(typeof l=="string")zy(this,l)&&(m=m.concat(this.g.get(to(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)m=m.concat(l[_])}return m},t.set=function(l,m){return Jr(this),this.i=null,l=to(this,l),zy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function Hy(l,m,_){By(l,m),0<_.length&&(l.i=null,l.g.set(to(l,m),w(_)),l.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var P=m[_];const U=encodeURIComponent(String(P)),G=this.V(P);for(P=0;P<G.length;P++){var L=U;G[P]!==""&&(L+="="+encodeURIComponent(String(G[P]))),l.push(L)}}return this.i=l.join("&")};function to(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function bP(l,m){m&&!l.j&&(Jr(l),l.i=null,l.g.forEach(function(_,P){var L=P.toLowerCase();P!=L&&(By(this,P),Hy(this,L,_))},l)),l.j=m}function SP(l,m){const _=new Ma;if(a.Image){const P=new Image;P.onload=y(Zr,_,"TestLoadImage: loaded",!0,m,P),P.onerror=y(Zr,_,"TestLoadImage: error",!1,m,P),P.onabort=y(Zr,_,"TestLoadImage: abort",!1,m,P),P.ontimeout=y(Zr,_,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=l}else m(!1)}function CP(l,m){const _=new Ma,P=new AbortController,L=setTimeout(()=>{P.abort(),Zr(_,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:P.signal}).then(U=>{clearTimeout(L),U.ok?Zr(_,"TestPingServer: ok",!0,m):Zr(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Zr(_,"TestPingServer: error",!1,m)})}function Zr(l,m,_,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(_)}catch{}}function IP(){this.g=new sf}function PP(l,m,_){const P=_||"";try{Ly(l,function(L,U){let G=L;c(L)&&(G=ui(L)),m.push(P+U+"="+encodeURIComponent(G))})}catch(L){throw m.push(P+"type="+encodeURIComponent("_badmap")),L}}function Lu(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Lu,ce),Lu.prototype.g=function(){return new Fu(this.l,this.j)},Lu.prototype.i=function(l){return function(){return l}}({});function Fu(l,m){ct.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Fu,ct),t=Fu.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,$a(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Ua(this):$a(this),this.readyState==3&&Wy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ua(this))},t.Qa=function(l){this.g&&(this.response=l,Ua(this))},t.ga=function(){this.g&&Ua(this)};function Ua(l){l.readyState=4,l.l=null,l.j=null,l.v=null,$a(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=m.next();return l.join(`\r
`)};function $a(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qy(l){let m="";return V(l,function(_,P){m+=P,m+=":",m+=_,m+=`\r
`}),m}function ff(l,m,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=qy(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Ue(l,m,_))}function Ze(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ze,ct);var RP=/^https?$/i,AP=["POST","PUT"];t=Ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():of.g(),this.v=this.o?Me(this.o):Me(of),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(U){Ky(this,U);return}if(l=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)_.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const U of P.keys())_.set(U,P.get(U));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AP,m,void 0))||P||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,G]of _)this.g.setRequestHeader(U,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yy(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Ky(this,U)}};function Ky(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Qy(l),Uu(l)}function Qy(l){l.A||(l.A=!0,Je(l,"complete"),Je(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Je(this,"complete"),Je(this,"abort"),Uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gy(this):this.bb())},t.bb=function(){Gy(this)};function Gy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Sr(l)!=4||l.Z()!=2)){if(l.u&&Sr(l)==4)Er(l.Ea,0,l);else if(Je(l,"readystatechange"),Sr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var P;if(P=G===0){var L=String(l.D).match(Fy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),P=!RP.test(L?L.toLowerCase():"")}_=P}if(_)Je(l,"complete"),Je(l,"success");else{l.m=6;try{var U=2<Sr(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Qy(l)}}finally{Uu(l)}}}}function Uu(l,m){if(l.g){Yy(l);const _=l.g,P=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||Je(l,"ready");try{_.onreadystatechange=P}catch{}}}function Yy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Sr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),nr(m)}};function Xy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function NP(l){const m={};l=(l.g&&2<=Sr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<l.length;P++){if(g(l[P]))continue;var _=k(l[P]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=m[L]||[];m[L]=U,U.push(_)}I(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(l,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||m}function Jy(l){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,l),this.cb=Ba("retryDelaySeedMs",1e4,l),this.Wa=Ba("forwardChannelMaxRetries",2,l),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Dy(l&&l.concurrentRequestLimit),this.Da=new IP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jy.prototype,t.la=8,t.G=1,t.connect=function(l,m,_,P){Kt(0),this.W=l,this.H=m||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=a0(this,null,this.W),Bu(this)};function pf(l){if(Zy(l),l.G==3){var m=l.U++,_=br(l.I);if(Ue(_,"SID",l.K),Ue(_,"RID",m),Ue(_,"TYPE","terminate"),za(l,_),m=new Xr(l,l.j,m),m.L=2,m.v=Vu(br(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=l0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ou(m)}o0(l)}function $u(l){l.g&&(gf(l),l.g.cancel(),l.g=null)}function Zy(l){$u(l),l.u&&(a.clearTimeout(l.u),l.u=null),zu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Bu(l){if(!Oy(l.h)&&!l.s){l.s=!0;var m=l.Ga;F||K(),j||(F(),j=!0),$.add(m,l),l.B=0}}function kP(l,m){return My(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Oa(h(l.Ga,l,m),i0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Xr(this,this.j,l);let U=this.o;if(this.S&&(U?(U=C(U),S(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=t0(this,L,m),_=br(this.I),Ue(_,"RID",l),Ue(_,"CVER",22),this.D&&Ue(_,"X-HTTP-Session-Id",this.D),za(this,_),U&&(this.O?m="headers="+encodeURIComponent(String(qy(U)))+"&"+m:this.m&&ff(_,this.m,U)),hf(this.h,L),this.Ua&&Ue(_,"TYPE","init"),this.P?(Ue(_,"$req",m),Ue(_,"SID","null"),L.T=!0,lf(L,_,null)):lf(L,_,m),this.G=2}}else this.G==3&&(l?e0(this,l):this.i.length==0||Oy(this.h)||e0(this))};function e0(l,m){var _;m?_=m.l:_=l.U++;const P=br(l.I);Ue(P,"SID",l.K),Ue(P,"RID",_),Ue(P,"AID",l.T),za(l,P),l.m&&l.o&&ff(P,l.m,l.o),_=new Xr(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),m&&(l.i=m.D.concat(l.i)),m=t0(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),hf(l.h,_),lf(_,P,m)}function za(l,m){l.H&&V(l.H,function(_,P){Ue(m,P,_)}),l.l&&Ly({},function(_,P){Ue(m,P,_)})}function t0(l,m,_){_=Math.min(l.i.length,_);var P=l.l?h(l.l.Na,l.l,l):null;e:{var L=l.i;let U=-1;for(;;){const G=["count="+_];U==-1?0<_?(U=L[0].g,G.push("ofs="+U)):U=0:G.push("ofs="+U);let je=!0;for(let Ct=0;Ct<_;Ct++){let Ae=L[Ct].g;const Ot=L[Ct].map;if(Ae-=U,0>Ae)U=Math.max(0,L[Ct].g-100),je=!1;else try{PP(Ot,G,"req"+Ae+"_")}catch{P&&P(Ot)}}if(je){P=G.join("&");break e}}}return l=l.i.splice(0,_),m.D=l,P}function n0(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;F||K(),j||(F(),j=!0),$.add(m,l),l.v=0}}function mf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Oa(h(l.Fa,l),i0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,r0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Oa(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),$u(this),r0(this))};function gf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function r0(l){l.g=new Xr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=br(l.qa);Ue(m,"RID","rpc"),Ue(m,"SID",l.K),Ue(m,"AID",l.T),Ue(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(m,"TO",l.ja),Ue(m,"TYPE","xmlhttp"),za(l,m),l.m&&l.o&&ff(m,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Vu(br(m)),_.m=null,_.P=!0,Ay(_,l)}t.Za=function(){this.C!=null&&(this.C=null,$u(this),mf(this),Kt(19))};function zu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function s0(l,m){var _=null;if(l.g==m){zu(l),gf(l),l.g=null;var P=2}else if(df(l.h,m))_=m.D,jy(l.h,m),P=1;else return;if(l.G!=0){if(m.o)if(P==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=l.B;P=Nu(),Je(P,new Cy(P,_)),Bu(l)}else n0(l);else if(L=m.s,L==3||L==0&&0<m.X||!(P==1&&kP(l,m)||P==2&&mf(l)))switch(_&&0<_.length&&(m=l.h,m.i=m.i.concat(_)),L){case 1:hi(l,5);break;case 4:hi(l,10);break;case 3:hi(l,6);break;default:hi(l,2)}}}function i0(l,m){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*m}function hi(l,m){if(l.j.info("Error code "+m),m==2){var _=h(l.fb,l),P=l.Xa;const L=!P;P=new di(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mu(P,"https"),Vu(P),L?SP(P.toString(),_):CP(P.toString(),_)}else Kt(2);l.G=0,l.l&&l.l.sa(m),o0(l),Zy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function o0(l){if(l.G=0,l.ka=[],l.l){const m=Vy(l.h);(m.length!=0||l.i.length!=0)&&(E(l.ka,m),E(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function a0(l,m,_){var P=_ instanceof di?br(_):new di(_);if(P.g!="")m&&(P.g=m+"."+P.g),ju(P,P.s);else{var L=a.location;P=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var U=new di(null);P&&Mu(U,P),m&&(U.g=m),L&&ju(U,L),_&&(U.l=_),P=U}return _=l.D,m=l.ya,_&&m&&Ue(P,_,m),Ue(P,"VER",l.la),za(l,P),P}function l0(l,m,_){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new Ze(new Lu({eb:_})):new Ze(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function u0(){}t=u0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hu(){}Hu.prototype.g=function(l,m){return new hn(l,m)};function hn(l,m){ct.call(this),this.g=new Jy(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!g(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!g(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new no(this)}b(hn,ct),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){pf(this.g)},hn.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=ui(l),l=_);m.i.push(new mP(m.Ya++,l)),m.G==3&&Bu(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,hn.aa.N.call(this)};function c0(l){tn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const _ in m){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}b(c0,tn);function d0(){Yr.call(this),this.status=1}b(d0,Yr);function no(l){this.g=l}b(no,u0),no.prototype.ua=function(){Je(this.g,"a")},no.prototype.ta=function(l){Je(this.g,new c0(l))},no.prototype.sa=function(l){Je(this.g,new d0)},no.prototype.ra=function(){Je(this.g,"b")},Hu.prototype.createWebChannel=Hu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,JS=function(){return new Hu},XS=function(){return Nu()},YS=Tr,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ku.NO_ERROR=0,ku.TIMEOUT=8,ku.HTTP_ERROR=6,zc=ku,Iy.COMPLETE="complete",GS=Iy,De.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",ct.prototype.listen=ct.prototype.K,il=De,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,QS=Ze}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",P_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new $S("@firebase/firestore");function lo(){return Bi.logLevel}function ne(t,...e){if(Bi.logLevel<=Ce.DEBUG){const n=e.map(Fv);Bi.debug(`Firestore (${Ea}): ${t}`,...n)}}function Wr(t,...e){if(Bi.logLevel<=Ce.ERROR){const n=e.map(Fv);Bi.error(`Firestore (${Ea}): ${t}`,...n)}}function Ks(t,...e){if(Bi.logLevel<=Ce.WARN){const n=e.map(Fv);Bi.warn(`Firestore (${Ea}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZS(t,r,n)}function ZS(t,e,n){let r=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ZS(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class sL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iL{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new eC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class oL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new oL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function qm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ve(r,s);{const i=tC(),o=cL(i.encode(A_(t,n)),i.encode(A_(e,n)));return o!==0?o:ve(r,s)}}n+=r>65535?2:1}return ve(t.length,e.length)}function A_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function cL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ve(t[n],e[n]);return ve(t.length,e.length)}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ir.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=ir.isNumericId(e),s=ir.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ir.extractNumericId(e).compare(ir.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Le extends ir{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const dL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ir{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return dL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Rt([N_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Le.fromString(e))}static fromName(e){return new oe(Le.fromString(e).popFirst(5))}static empty(){return new oe(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hL(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!oe.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D_(t){if(oe.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xu(t,e){if(!rC(t))throw new Z(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*M_);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O_)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:pt("string",Ve._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Ve(0,0))}static max(){return new de(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function fL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Qs(s,oe.empty(),e)}function pL(t){return new Qs(t.readTime,t.key,Yl)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(de.min(),oe.empty(),Yl)}static max(){return new Qs(de.max(),oe.empty(),Yl)}}function mL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==gL)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function yL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Fh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-1;function Uh(t){return t==null}function Vd(t){return t===0&&1/t==-1/0}function wL(t){return typeof t=="number"&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="";function _L(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j_(e)),e=xL(t.get(n),e);return j_(e)}function xL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case sC:n+="";break;default:n+=i}}return n}function j_(t){return t+sC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new xt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oC("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const EL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=EL.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="server_timestamp",lC="__type__",uC="__previous_value__",cC="__local_write_time__";function Bv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lC])===null||n===void 0?void 0:n.stringValue)===aC}function $h(t){const e=t.mapValue.fields[uC];return Bv(e)?$h(e):e}function Xl(t){const e=Gs(t.mapValue.fields[cC].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,i,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Ld="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||Ld}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Ld}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__type__",hC="__max__",xc={mapValue:{fields:{__type__:{stringValue:hC}}}},fC="__vector__",Fd="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:SL(t)?9007199254740991:bL(t)?10:11:ue(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gs(s.timestampValue),a=Gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ys(s.bytesValue).isEqual(Ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ot(s.doubleValue),a=ot(i.doubleValue);return o===a?Vd(o)===Vd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(V_(o)!==V_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wr(o[u],a[u])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function Zl(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ot(i.integerValue||i.doubleValue),u=ot(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(Xl(t),Xl(e));case 5:return qm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ys(i),u=Ys(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ve(a[c],u[c]);if(d!==0)return d}return ve(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(ot(i.latitude),ot(o.latitude));return a!==0?a:ve(ot(i.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const p=i.fields||{},h=o.fields||{},y=(a=p[Fd])===null||a===void 0?void 0:a.arrayValue,b=(u=h[Fd])===null||u===void 0?void 0:u.arrayValue,w=ve(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:U_(y,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===xc.mapValue&&o===xc.mapValue)return 0;if(i===xc.mapValue)return 1;if(o===xc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const h=qm(u[p],d[p]);if(h!==0)return h;const y=aa(a[u[p]],c[d[p]]);if(y!==0)return y}return ve(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{le:n})}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Gs(t),r=Gs(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function U_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=aa(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function la(t){return Km(t)}function Km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Km(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Km(n.fields[o])}`;return s+"}"}(t.mapValue):ue(61005,{value:t})}function Hc(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(t);return e?16+Hc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Hc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return si(r.fields,(i,o)=>{s+=i.length+Hc(o)}),s}(t.mapValue);default:throw ue(13486,{value:t})}}function $_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qm(t){return!!t&&"integerValue"in t}function zv(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function z_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wc(t){return!!t&&"mapValue"in t}function bL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dC])===null||n===void 0?void 0:n.stringValue)===fC}function _l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=Rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=_l(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(_l(this.value))}}function pC(t){const e=[];return si(t.fields,(n,r)=>{const s=new Rt([n]);if(Wc(r)){const i=pC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,de.min(),de.min(),de.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new zt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new zt(e,2,n,de.min(),de.min(),an.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,de.min(),de.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function CL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class ft extends mC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PL(e,n,r):n==="array-contains"?new NL(e,r):n==="in"?new kL(e,r):n==="not-in"?new DL(e,r):n==="array-contains-any"?new OL(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RL(e,r):new AL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(aa(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends mC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Zn(e,n)}matches(e){return gC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gC(t){return t.op==="and"}function vC(t){return IL(t)&&gC(t)}function IL(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Gm(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+la(t.value);if(vC(t))return t.filters.map(e=>Gm(e)).join(",");{const e=t.filters.map(n=>Gm(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&wr(r.value,s.value)}(t,e):t instanceof Zn?function(r,s){return s instanceof Zn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&yC(o,s.filters[a]),!0):!1}(t,e):void ue(19439)}function wC(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class PL extends ft{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class RL extends ft{constructor(e,n){super(e,"in",n),this.keys=_C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AL extends ft{constructor(e,n){super(e,"not-in",n),this.keys=_C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class NL extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zv(n)&&Zl(n.arrayValue,this.value)}}class kL extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class DL extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class OL extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function q_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ML(t,e,n,r,s,i,o)}function Hv(t){const e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.Pe=n}return e.Pe}function Wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W_(t.startAt,e.startAt)&&W_(t.endAt,e.endAt)}function Ym(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jL(t,e,n,r,s,i,o,a){return new Sa(t,e,n,r,s,i,o,a)}function xC(t){return new Sa(t)}function K_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EC(t){return t.collectionGroup!==null}function xl(t){const e=he(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new eu(i,r))}),n.has(Rt.keyField().canonicalString())||e.Te.push(new eu(Rt.keyField(),r))}return e.Te}function pr(t){const e=he(t);return e.Ie||(e.Ie=VL(e,xl(t))),e.Ie}function VL(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new eu(s.field,i)});const n=t.endAt?new Ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ud(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e){const n=t.filters.concat([e]);return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jm(t,e,n){return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return Wv(pr(t),pr(e))&&t.limitType===e.limitType}function TC(t){return`${Hv(pr(t))}|lt:${t.limitType}`}function uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wC(s)).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=H_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,xl(r),s)||r.endAt&&!function(o,a,u){const c=H_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,xl(r),s))}(t,e)}function LL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bC(t){return(e,n)=>{let r=!1;for(const s of xl(t)){const i=FL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FL(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?aa(u,c):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return iC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new Xe(oe.comparator);function qr(){return UL}const SC=new Xe(oe.comparator);function ol(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function CC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return El()}function IC(){return El()}function El(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const $L=new Xe(oe.comparator),BL=new xt(oe.comparator);function xe(...t){let e=BL;for(const n of t)e=e.add(n);return e}const zL=new xt(ve);function HL(){return zL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function PC(t){return{integerValue:""+t}}function WL(t,e){return wL(e)?PC(e):qv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function qL(t,e,n){return t instanceof $d?function(s,i){const o={fields:{[lC]:{stringValue:aC},[cC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bv(i)&&(i=$h(i)),i&&(o.fields[uC]=i),{mapValue:o}}(n,e):t instanceof tu?AC(t,e):t instanceof nu?NC(t,e):function(s,i){const o=RC(s,i),a=Q_(o)+Q_(s.Ee);return Qm(o)&&Qm(s.Ee)?PC(a):qv(s.serializer,a)}(t,e)}function KL(t,e,n){return t instanceof tu?AC(t,e):t instanceof nu?NC(t,e):n}function RC(t,e){return t instanceof Bd?function(r){return Qm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class $d extends Hh{}class tu extends Hh{constructor(e){super(),this.elements=e}}function AC(t,e){const n=kC(e);for(const r of t.elements)n.some(s=>wr(s,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends Hh{constructor(e){super(),this.elements=e}}function NC(t,e){let n=kC(e);for(const r of t.elements)n=n.filter(s=>!wr(s,r));return{arrayValue:{values:n}}}class Bd extends Hh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Q_(t){return ot(t.integerValue||t.doubleValue)}function kC(t){return zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tu&&s instanceof tu||r instanceof nu&&s instanceof nu?oa(r.elements,s.elements,wr):r instanceof Bd&&s instanceof Bd?wr(r.Ee,s.Ee):r instanceof $d&&s instanceof $d}(t.transform,e.transform)}class GL{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wh{}function DC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kv(t.key,Gn.none()):new Eu(t.key,t.data,Gn.none());{const n=t.data,r=an.empty();let s=new xt(Rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ii(t.key,r,new vn(s.toArray()),Gn.none())}}function YL(t,e,n){t instanceof Eu?function(s,i,o){const a=s.value.clone(),u=Y_(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(s,i,o){if(!qc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Y_(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(OC(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,r){return t instanceof Eu?function(i,o,a,u){if(!qc(i.precondition,o))return a;const c=i.value.clone(),d=X_(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(i,o,a,u){if(!qc(i.precondition,o))return a;const c=X_(i.fieldTransforms,u,o),d=o.data;return d.setAll(OC(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return qc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=RC(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function G_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>QL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends Wh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ii extends Wh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function OC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y_(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,KL(o,a,n[s]))}return r}function X_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qL(i,o,e))}return r}class Kv extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=DC(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>G_(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>G_(n,r))}}class Qv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return $L}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Qv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Se;function nF(t){switch(t){case B.OK:return ue(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function MC(t){if(t===void 0)return Wr("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return ue(39323,{code:t})}}(Se=dt||(dt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new Ls([4294967295,4294967295],0);function J_(t){const e=tC().encode(t),n=new KS;return n.update(e),new Uint8Array(n.digest())}function Z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([s,i],0)]}class Gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ls.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Ls.fromNumber(r)));return s.compare(rF)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=J_(e),[r,s]=Z_(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=J_(e),[r,s]=Z_(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(de.min(),s,new Xe(ve),qr(),xe())}}class Tu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class jC{constructor(e,n){this.targetId=e,this.De=n}}class VC{constructor(e,n,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class e1{constructor(){this.ve=0,this.Ce=t1(),this.Fe=kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xe(),n=xe(),r=xe();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue(38017,{changeType:i})}}),new Tu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=t1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sF{constructor(e){this.We=e,this.Ge=new Map,this.ze=qr(),this.je=Ec(),this.Je=Ec(),this.He=new Xe(ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Ym(i))if(r===0){const o=new oe(i.path);this.Xe(n,o,zt.newNoDocument(o,de.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),u=a?this.ut(a,e,o):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ys(r).toUint8Array()}catch(u){if(u instanceof oC)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gv(o,s,i)}catch(u){return Ks(u instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Ym(a.target)){const u=new oe(a.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,zt.newNoDocument(u,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=xe();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new qh(e,n,this.He,this.ze,r);return this.ze=qr(),this.je=Ec(),this.Je=Ec(),this.He=new Xe(ve),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new e1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new xt(ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new xt(ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new e1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ec(){return new Xe(oe.comparator)}function t1(){return new Xe(oe.comparator)}const iF={asc:"ASCENDING",desc:"DESCENDING"},oF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aF={and:"AND",or:"OR"};class lF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||Uh(e)?e:{value:e}}function zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uF(t,e){return zd(t,e.toTimestamp())}function mr(t){return ke(!!t,49232),de.fromTimestamp(function(n){const r=Gs(n);return new Ve(r.seconds,r.nanos)}(t))}function Yv(t,e){return eg(t,e).canonicalString()}function eg(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FC(t){const e=Le.fromString(t);return ke(HC(e),10190,{key:e.toString()}),e}function tg(t,e){return Yv(t.databaseId,e.path)}function hp(t,e){const n=FC(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe($C(n))}function UC(t,e){return Yv(t.databaseId,e)}function cF(t){const e=FC(t);return e.length===4?Le.emptyPath():$C(e)}function ng(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $C(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function n1(t,e,n){return{name:tg(t,e),fields:n.value.mapValue.fields}}function dF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(ke(d===void 0||typeof d=="string",58123),kt.fromBase64String(d||"")):(ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:MC(c.code);return new Z(d,c.message||"")}(o);n=new VC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hp(t,r.document.name),i=mr(r.document.updateTime),o=r.document.createTime?mr(r.document.createTime):de.min(),a=new an({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Kc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hp(t,r.document),i=r.readTime?mr(r.readTime):de.min(),o=zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hp(t,r.document),i=r.removedTargetIds||[];n=new Kc([],i,s,null)}else{if(!("filter"in e))return ue(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tF(s,i),a=r.targetId;n=new jC(a,o)}}return n}function hF(t,e){let n;if(e instanceof Eu)n={update:n1(t,e.key,e.value)};else if(e instanceof Kv)n={delete:tg(t,e.key)};else if(e instanceof ii)n={update:n1(t,e.key,e.data),updateMask:xF(e.fieldMask)};else{if(!(e instanceof JL))return ue(16599,{Rt:e.type});n={verify:tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof $d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ue(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:uF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue(27497)}(t,e.precondition)),n}function fF(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?mr(s.updateTime):mr(i);return o.isEqual(de.min())&&(o=mr(i)),new GL(o,s.transformResults||[])}(n,e))):[]}function pF(t,e){return{documents:[UC(t,e.path)]}}function mF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UC(t,s);const i=function(c){if(c.length!==0)return zC(Zn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:co(h.field),direction:yF(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function gF(t){let e=cF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const h=BC(p);return h instanceof Zn&&vC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(b){return new eu(ho(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,Uh(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(p){const h=!!p.before,y=p.values||[];return new Ud(y,h)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const h=!p.before,y=p.values||[];return new Ud(y,h)}(n.endAt)),jL(e,s,o,i,a,"F",u,c)}function vF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>BC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function yF(t){return iF[t]}function wF(t){return oF[t]}function _F(t){return aF[t]}function co(t){return{fieldPath:t.canonicalString()}}function ho(t){return Rt.fromServerFormat(t.fieldPath)}function zC(t){return t instanceof ft?function(n){if(n.op==="=="){if(z_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:wF(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(s=>zC(s));return r.length===1?r[0]:{compositeFilter:{op:_F(n.op),filters:r}}}(t):ue(54877,{filter:t})}function xF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,s,i=de.min(),o=de.min(),a=kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.gt=e}}function TF(t){const e=gF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.Dn=new SF}addToCollectionParentIndex(e,n){return this.Dn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Qs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class SF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WC=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(WC,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ua(0)}static ur(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="LruGarbageCollector",CF=1048576;function i1([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class IF{constructor(e){this.Tr=e,this.buffer=new xt(i1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ne(s1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?ne(s1,"Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.Rr(3e5)})}}class RF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Fh.ue);const r=new IF(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(r1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),lo()<=Ce.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function AF(t,e){return new RF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Tl(r.mutation,s,vn.empty(),Ve.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=_i();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ol();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qr();const o=El(),a=function(){return El()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ii)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Tl(d.mutation,c,d.mutation.getFieldMask(),Ve.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new kF(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=El();let s=new Xe((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||vn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(s.get(a.batchId)||xe()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=IC();d.forEach(h=>{if(!i.has(h)){const y=DC(n.get(h),r.get(h));y!==null&&p.set(h,y),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(_i());let a=Yl,u=i;return o.next(c=>z.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{u=u.insert(d,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,xe())).next(d=>({batchId:a,changes:CC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ol();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,u=>{const c=function(p,h){return new Sa(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=ol();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Tl(d.mutation,c,vn.empty(),Ve.now()),zh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:mr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:TF(s.bundledQuery),readTime:mr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.overlays=new Xe(oe.comparator),this.kr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=_i(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=_i(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=_i(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return z.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eF(n,r));let i=this.kr.get(n);i===void 0&&(i=xe(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.qr=new xt(Et.Qr),this.$r=new xt(Et.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Et(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new oe(new Le([])),r=new Et(n,e),s=new Et(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new oe(new Le([])),r=new Et(n,e),s=new Et(n,e+1);let i=xe();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Et(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return oe.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xt(Et.Qr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?$v:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),s=new Et(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(ve);return n.forEach(s=>{const i=new Et(s,0),o=new Et(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Et(new oe(i),0);let a=new xt(ve);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Hr)),!0)},o),z.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return z.forEach(n.mutations,s=>{const i=new Et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Et(n,0),s=this.Yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.ni=e,this.docs=function(){return new Xe(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||mL(pL(d),r)<=0||(s.has(d.key)||zh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue(9500)}ri(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FF(this)}getSize(e){return z.resolve(this.size)}}class FF extends NF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.persistence=e,this.ii=new Xi(n=>Hv(n),Wv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.si=0,this.oi=new Xv,this.targetCount=0,this._i=ua.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.hr(n),z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.ai={},this.overlays={},this.ui=new Fh(0),this.ci=!1,this.ci=!0,this.li=new jF,this.referenceDelegate=e(this),this.hi=new UF(this),this.indexManager=new bF,this.remoteDocumentCache=function(s){return new LF(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new EF(n),this.Ti=new OF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new VF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new $F(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class $F extends vL{constructor(e){super(),this.currentSequenceNumber=e}}class Jv{constructor(e){this.persistence=e,this.Ai=new Xv,this.Ri=null}static Vi(e){return new Jv(e)}get mi(){if(this.Ri)return this.Ri;throw ue(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,r=>{const s=oe.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return z.or([()=>z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hd{constructor(e,n){this.persistence=e,this.gi=new Xi(r=>_L(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AF(this,n)}static Vi(e,n){return new Hd(e,n)}Ii(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return z.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hc(e.data.value)),n}Sr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Zv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Fj()?8:yL(Vj())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BF;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(lo()<=Ce.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(lo()<=Ce.DEBUG&&ne("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(lo()<=Ce.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):z.resolve())}ps(e,n){if(K_(n))return z.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jm(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ds(n,c,o,u.readTime)?this.ps(e,Jm(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,r,s){return K_(n)||s.isEqual(de.min())?z.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?z.resolve(null):(lo()<=Ce.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),uo(n)),this.vs(e,o,n,fL(s,Yl)).next(a=>a))})}bs(e,n){let r=new xt(bC(e));return n.forEach((s,i)=>{zh(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return lo()<=Ce.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",uo(n)),this.gs.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="LocalStore",HF=3e8;class WF{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Xe(ve),this.Ms=new Xi(i=>Hv(i),Wv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function qF(t,e,n,r){return new WF(t,e,n,r)}async function KC(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=xe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function KF(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,h=p.keys();let y=z.resolve();return h.forEach(b=>{y=y.next(()=>d.getEntry(u,b)).next(w=>{const E=c.docVersions.get(b);ke(E!==null,48541),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function QC(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function QF(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((d,p)=>{const h=s.get(p);if(!h)return;a.push(n.hi.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,d.addedDocuments,p)));let y=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(kt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(w,E,x){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=HF?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,y,d)&&a.push(n.hi.updateTargetData(i,y))});let u=qr(),c=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(GF(i,o,e.documentUpdates).next(d=>{u=d.Ls,c=d.ks})),!r.isEqual(de.min())){const d=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Fs=s,i))}function GF(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne(ey,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ls:o,ks:s}})}function YF(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$v),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XF(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function rg(t,e,n){const r=he(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ba(o))throw o;ne(ey,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function o1(t,e,n){const r=he(t);let s=de.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=he(u),h=p.Ms.get(d);return h!==void 0?z.resolve(p.Fs.get(h)):p.hi.getTargetData(c,d)}(r,o,pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:xe())).next(a=>(JF(r,LL(e),a),{documents:a,qs:i})))}function JF(t,e,n){let r=t.xs.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class a1{constructor(){this.activeTargetIds=HL()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZF{constructor(){this.Fo=new a1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new a1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="ConnectivityMonitor";class u1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ne(l1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ne(l1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function sg(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Ld?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=sg(),a=this.Go(e,n.toUriEncodedString());ne(fp,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,s,i);const{host:c}=new URL(a),d=Vv(c);return this.jo(e,a,u,r,d).then(p=>(ne(fp,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ks(fp,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=t3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class s3 extends n3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=sg();return new Promise((a,u)=>{const c=new QS;c.setWithCredentials(!0),c.listenOnce(GS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case zc.NO_ERROR:const p=c.getResponseJson();ne(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case zc.TIMEOUT:ne(Lt,`RPC '${e}' ${o} timed out`),u(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const h=c.getStatus();if(ne(Lt,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const w=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(g)>=0?g:B.UNKNOWN}(b.status);u(new Z(w,b.message))}else u(new Z(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ne(Lt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);ne(Lt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}P_(e,n,r){const s=sg(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JS(),a=XS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");ne(Lt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const p=o.createWebChannel(d,u);this.T_(p);let h=!1,y=!1;const b=new r3({Ho:E=>{y?ne(Lt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(ne(Lt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),h=!0),ne(Lt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Yo:()=>p.close()}),w=(E,x,g)=>{E.listen(x,T=>{try{g(T)}catch(A){setTimeout(()=>{throw A},0)}})};return w(p,il.EventType.OPEN,()=>{y||(ne(Lt,`RPC '${e}' stream ${s} transport opened.`),b.s_())}),w(p,il.EventType.CLOSE,()=>{y||(y=!0,ne(Lt,`RPC '${e}' stream ${s} transport closed`),b.__(),this.I_(p))}),w(p,il.EventType.ERROR,E=>{y||(y=!0,Ks(Lt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.__(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),w(p,il.EventType.MESSAGE,E=>{var x;if(!y){const g=E.data[0];ke(!!g,16349);const T=g,A=(T==null?void 0:T.error)||((x=T[0])===null||x===void 0?void 0:x.error);if(A){ne(Lt,`RPC '${e}' stream ${s} received error:`,A);const O=A.status;let V=function(R){const S=dt[R];if(S!==void 0)return MC(S)}(O),I=A.message;V===void 0&&(V=B.INTERNAL,I="Unknown error status: "+O+" with message "+A.message),y=!0,b.__(new Z(V,I)),p.close()}else ne(Lt,`RPC '${e}' stream ${s} received:`,g),b.a_(g)}}),w(a,YS.STAT_EVENT,E=>{E.stat===Wm.PROXY?ne(Lt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Wm.NOPROXY&&ne(Lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return new lF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="PersistentStream";class YC{constructor(e,n,r,s,i,o,a,u){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new GC(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ne(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ne(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i3 extends YC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=dF(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?mr(o.readTime):de.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ng(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Ym(u)?{documents:pF(i,u)}:{query:mF(i,u).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LC(i,o.resumeToken);const c=Zm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=zd(i,o.snapshotVersion.toTimestamp());const c=Zm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=vF(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.k_(n)}}class o3 extends YC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=fF(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ng(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hF(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{}class l3 extends a3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,eg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,eg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class u3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Wr(n),this._a=!1):ne("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="RemoteStore";class c3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Ji(this)&&(ne(Hi,"Restarting streams for network reachability change."),await async function(u){const c=he(u);c.Ia.add(4),await bu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Qh(c)}(this))})}),this.Aa=new u3(r,s)}}async function Qh(t){if(Ji(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function XC(t,e){const n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),sy(n)?ry(n):Ca(n).x_()&&ny(n,e))}function ty(t,e){const n=he(t),r=Ca(n);n.Ta.delete(e),r.x_()&&JC(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ji(n)&&n.Aa.set("Unknown"))}function ny(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).H_(e)}function JC(t,e){t.Ra.$e(e),Ca(t).Y_(e)}function ry(t){t.Ra=new sF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.Aa.aa()}function sy(t){return Ji(t)&&!Ca(t).M_()&&t.Ta.size>0}function Ji(t){return he(t).Ia.size===0}function ZC(t){t.Ra=void 0}async function d3(t){t.Aa.set("Online")}async function h3(t){t.Ta.forEach((e,n)=>{ny(t,e)})}async function f3(t,e){ZC(t),sy(t)?(t.Aa.la(e),ry(t)):t.Aa.set("Unknown")}async function p3(t,e,n){if(t.Aa.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){ne(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wd(t,r)}else if(e instanceof Kc?t.Ra.Ye(e):e instanceof jC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(de.min()))try{const r=await QC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ta.get(c);d&&i.Ta.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Ta.get(u);if(!d)return;i.Ta.set(u,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),JC(i,u);const p=new Ss(d.target,u,c,d.sequenceNumber);ny(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne(Hi,"Failed to raise snapshot:",r),await Wd(t,r)}}async function Wd(t,e,n){if(!ba(e))throw e;t.Ia.add(1),await bu(t),t.Aa.set("Offline"),n||(n=()=>QC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Hi,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qh(t)})}function eI(t,e){return e().catch(n=>Wd(t,n,e))}async function Gh(t){const e=he(t),n=Js(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$v;for(;m3(e);)try{const s=await YF(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,g3(e,s)}catch(s){await Wd(e,s)}tI(e)&&nI(e)}function m3(t){return Ji(t)&&t.Pa.length<10}function g3(t,e){t.Pa.push(e);const n=Js(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function tI(t){return Ji(t)&&!Js(t).M_()&&t.Pa.length>0}function nI(t){Js(t).start()}async function v3(t){Js(t).na()}async function y3(t){const e=Js(t);for(const n of t.Pa)e.X_(n.mutations)}async function w3(t,e,n){const r=t.Pa.shift(),s=Qv.from(r,e,n);await eI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gh(t)}async function _3(t,e){e&&Js(t).Z_&&await async function(r,s){if(function(o){return nF(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();Js(r).N_(),await eI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gh(r)}}(t,e),tI(t)&&nI(t)}async function d1(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ne(Hi,"RemoteStore received new credentials");const r=Ji(n);n.Ia.add(3),await bu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qh(n)}async function x3(t,e){const n=he(t);e?(n.Ia.delete(2),await Qh(n)):e||(n.Ia.add(2),await bu(n),n.Aa.set("Unknown"))}function Ca(t){return t.Va||(t.Va=function(n,r,s){const i=he(n);return i.ia(),new i3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:d3.bind(null,t),e_:h3.bind(null,t),n_:f3.bind(null,t),J_:p3.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),sy(t)?ry(t):t.Aa.set("Unknown")):(await t.Va.stop(),ZC(t))})),t.Va}function Js(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.ia(),new o3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:v3.bind(null,t),n_:_3.bind(null,t),ea:y3.bind(null,t),ta:w3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Gh(t)):(await t.ma.stop(),t.Pa.length>0&&(ne(Hi,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new iy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),ba(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=ol(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.fa=new Xe(oe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ca{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,Mo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class T3{constructor(){this.queries=f1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=f1(),i.forEach((o,a)=>{for(const u of a.wa)u.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function f1(){return new Xi(t=>TC(t),Bh)}async function b3(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new E3,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=oy(o,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&ay(n)}async function S3(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C3(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&ay(n)}function I3(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function ay(t){t.Da.forEach(e=>{e.next()})}var ig,p1;(p1=ig||(ig={})).Fa="default",p1.Cache="cache";class P3{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class R3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xe(),this.mutatedKeys=xe(),this.Xa=bC(e),this.eu=new Mo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new h1,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const h=s.get(d),y=zh(this.query,p)?p:null,b=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;h&&y?h.data.isEqual(y.data)?b!==w&&(r.track({type:3,doc:y}),E=!0):this.iu(h,y)||(r.track({type:2,doc:y}),E=!0,(u&&this.Xa(y,u)>0||c&&this.Xa(y,c)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),E=!0):h&&!y&&(r.track({type:1,doc:h}),E=!0,(u||c)&&(a=!0)),E&&(y?(o=o.add(y),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,p)=>function(y,b){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{At:E})}};return w(y)-w(b)}(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],u=this.Za.size===0&&this.current&&!s?1:0,c=u!==this.Ya;return this.Ya=u,o.length!==0||c?{snapshot:new ca(this.query,e.eu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new h1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new sI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new rI(r))}),n}uu(e){this.Ha=e.qs,this.Za=xe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ca.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ly="SyncEngine";class A3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N3{constructor(e){this.key=e,this.lu=!1}}class k3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Xi(a=>TC(a),Bh),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(oe.comparator),this.Eu=new Map,this.Au=new Xv,this.Ru={},this.Vu=new Map,this.mu=ua.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function D3(t,e,n=!0){const r=cI(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await iI(r,e,n,!0),s}async function O3(t,e){const n=cI(t);await iI(n,e,!0,!1)}async function iI(t,e,n,r){const s=await XF(t.localStore,pr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await M3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XC(t.remoteStore,s),a}async function M3(t,e,n,r,s){t.gu=(p,h,y)=>async function(w,E,x,g){let T=E.view.nu(x);T.Ds&&(T=await o1(w.localStore,E.query,!1).then(({documents:I})=>E.view.nu(I,T)));const A=g&&g.targetChanges.get(E.targetId),O=g&&g.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(T,w.isPrimaryClient,A,O);return g1(w,E.targetId,V._u),V.snapshot}(t,p,h,y);const i=await o1(t.localStore,e,!0),o=new R3(e,i.qs),a=o.nu(i.documents),u=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);g1(t,n,c._u);const d=new A3(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function j3(t,e,n){const r=he(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!Bh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ty(r.remoteStore,s.targetId),og(r,s.targetId)}).catch(Ta)):(og(r,s.targetId),await rg(r.localStore,s.targetId,!0))}async function V3(t,e){const n=he(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ty(n.remoteStore,r.targetId))}async function L3(t,e,n){const r=W3(t);try{const s=await function(o,a){const u=he(o),c=Ve.now(),d=a.reduce((y,b)=>y.add(b.key),xe());let p,h;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=qr(),w=xe();return u.Os.getEntries(y,d).next(E=>{b=E,b.forEach((x,g)=>{g.isValidDocument()||(w=w.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(E=>{p=E;const x=[];for(const g of a){const T=XL(g,p.get(g.key).overlayedDocument);T!=null&&x.push(new ii(g.key,T,pC(T.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(p,w);return u.documentOverlayCache.saveOverlays(y,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:CC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ru[o.currentUser.toKey()];c||(c=new Xe(ve)),c=c.insert(a,u),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await Su(r,s.changes),await Gh(r.remoteStore)}catch(s){const i=oy(s,"Failed to persist write");n.reject(i)}}async function oI(t,e){const n=he(t);try{const r=await QF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ke(o.lu,14607):s.removedDocuments.size>0&&(ke(o.lu,42227),o.lu=!1))}),await Su(n,r,e)}catch(r){await Ta(r)}}function m1(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const h of p.wa)h.va(a)&&(c=!0)}),c&&ay(u)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F3(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Xe(oe.comparator);o=o.insert(i,zt.newNoDocument(i,de.min()));const a=xe().add(i),u=new qh(de.min(),new Map,new Xe(ve),o,a);await oI(r,u),r.du=r.du.remove(i),r.Eu.delete(e),uy(r)}else await rg(r.localStore,e,!1).then(()=>og(r,e,n)).catch(Ta)}async function U3(t,e){const n=he(t),r=e.batch.batchId;try{const s=await KF(n.localStore,e);lI(n,r,null),aI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,s)}catch(s){await Ta(s)}}async function $3(t,e,n){const r=he(t);try{const s=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(ke(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);lI(r,e,n),aI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,s)}catch(s){await Ta(s)}}function aI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function lI(t,e,n){const r=he(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||uI(t,r)})}function uI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ty(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),uy(t))}function g1(t,e,n){for(const r of n)r instanceof rI?(t.Au.addReference(r.key,e),B3(t,r)):r instanceof sI?(ne(ly,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||uI(t,r.key)):ue(19791,{yu:r})}function B3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ne(ly,"New document in limbo: "+n),t.Iu.add(r),uy(t))}function uy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new oe(Le.fromString(e)),r=t.mu.next();t.Eu.set(r,new N3(n)),t.du=t.du.insert(n,r),XC(t.remoteStore,new Ss(pr(xC(n.path)),r,"TargetPurposeLimboResolution",Fh.ue))}}async function Su(t,e,n){const r=he(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{o.push(r.gu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=Zv.Es(u.targetId,c);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(u,c){const d=he(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(c,h=>z.forEach(h.Is,y=>d.persistence.referenceDelegate.addReference(p,h.targetId,y)).next(()=>z.forEach(h.ds,y=>d.persistence.referenceDelegate.removeReference(p,h.targetId,y)))))}catch(p){if(!ba(p))throw p;ne(ey,"Failed to update sequence numbers: "+p)}for(const p of c){const h=p.targetId;if(!p.fromCache){const y=d.Fs.get(h),b=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(b);d.Fs=d.Fs.insert(h,w)}}}(r.localStore,i))}async function z3(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ne(ly,"User change. New user:",e.toKey());const r=await KC(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(u=>{u.reject(new Z(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Bs)}}function H3(t,e){const n=he(t),r=n.Eu.get(e);if(r&&r.lu)return xe().add(r.key);{let s=xe();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function cI(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F3.bind(null,e),e.hu.J_=C3.bind(null,e.eventManager),e.hu.pu=I3.bind(null,e.eventManager),e}function W3(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$3.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return qF(this.persistence,new zF,e.initialUser,this.serializer)}Du(e){return new qC(Jv.Vi,this.serializer)}bu(e){return new ZF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class q3 extends qd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ke(this.persistence.referenceDelegate instanceof Hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new qC(r=>Hd.Vi(r,n),this.serializer)}}class ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await x3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T3}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=function(i){return new s3(i)}(e.databaseInfo);return function(i,o,a,u){return new l3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new c3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m1(this.syncEngine,n,0),function(){return u1.C()?new u1:new e3}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const p=new k3(s,i,o,a,u,c);return d&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);ne(Hi,"RemoteStore shutting down."),i.Ia.add(5),await bu(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ag.provider={build:()=>new ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class Q3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne(Zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(Zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ks("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ne("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ks("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G3(t);ne(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d1(e.remoteStore,s)),t._onlineComponents=e}async function G3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Zs,"Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new qd)}}else ne(Zs,"Using default OfflineComponentProvider"),await mp(t,new q3(void 0));return t._offlineComponents}async function dI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Zs,"Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(ne(Zs,"Using default OnlineComponentProvider"),await v1(t,new ag))),t._onlineComponents}function Y3(t){return dI(t).then(e=>e.syncEngine)}async function X3(t){const e=await dI(t),n=e.eventManager;return n.onListen=D3.bind(null,e.syncEngine),n.onUnlisten=j3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V3.bind(null,e.syncEngine),n}function J3(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new K3({next:h=>{d.Ou(),o.enqueueAndForget(()=>S3(i,p)),h.fromCache&&u.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new P3(a,d,{includeMetadataChanges:!0,ka:!0});return b3(i,p)}(await X3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firestore.googleapis.com",w1=!0;class _1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fI,this.ssl=w1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:w1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CF)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rL;switch(r.type){case"firstParty":return new aL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y1.get(n);r&&(ne("ComponentProvider","Removing Datastore"),y1.delete(n),r.terminate())}(this),Promise.resolve()}}function Z3(t,e,n,r={}){var s;t=zi(t,Yh);const i=Vv(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(kj(`https://${u}`),jj("Firestore",!0)),o.host!==fI&&o.host!==u&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!Od(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=$t.MOCK_USER;else{d=Dj(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $t(h)}t._authCredentials=new sL(new eC(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xu(n,_t._jsonSchema))return new _t(e,r||null,new oe(Le.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:pt("string",_t._jsonSchemaVersion),referencePath:pt("string")};class Us extends Zi{constructor(e,n,r){super(e,n,xC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new oe(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function Pn(t,e,...n){if(t=zr(t),nC("collection","path",e),t instanceof Yh){const r=Le.fromString(e,...n);return D_(r),new Us(t,null,r)}{if(!(t instanceof _t||t instanceof Us))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return D_(r),new Us(t.firestore,null,r)}}function dr(t,e,...n){if(t=zr(t),arguments.length===1&&(e=Uv.newId()),nC("doc","path",e),t instanceof Yh){const r=Le.fromString(e,...n);return k_(r),new _t(t,null,new oe(r))}{if(!(t instanceof _t||t instanceof Us))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return k_(r),new _t(t.firestore,t instanceof Us?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="AsyncQueue";class E1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new GC(this,"async_queue_retry"),this.oc=()=>{const r=pp();r&&ne(x1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=pp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Fs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ba(e))throw e;ne(x1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Wr("INTERNAL UNHANDLED ERROR: ",T1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=iy.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ue(47125,{hc:T1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function T1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cu extends Yh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E1(e),this._firestoreClient=void 0,await e}}}function e5(t,e){const n=typeof t=="object"?t:qV(),r=typeof t=="string"?t:Ld,s=$V(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Aj("firestore");i&&Z3(s,...i)}return s}function pI(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t5(t),t._firestoreClient}function t5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,d){return new TL(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Q3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(kt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:pt("string",Nn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(xu(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:pt("string",gr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vr(e.vectorValues);throw new Z(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:pt("string",vr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=/^__.*__$/;class r5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class mI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ec:t})}}class dy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gI(this.Ec)&&n5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class s5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}Dc(e,n,r,s=!1){return new dy({Ec:e,methodName:n,bc:r,path:Rt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new s5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i5(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);fy("Data must be an object, but it was:",o,r);const a=vI(r,o);let u,c;if(i.merge)u=new vn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const h=lg(e,p,n);if(!o.contains(h))throw new Z(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);wI(d,h)||d.push(h)}u=new vn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new r5(new an(a),u,c)}class Jh extends cy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function o5(t,e,n,r){const s=t.Dc(1,e,n);fy("Data must be an object, but it was:",s,r);const i=[],o=an.empty();si(r,(u,c)=>{const d=py(e,u,n);c=zr(c);const p=s.gc(d);if(c instanceof Jh)i.push(d);else{const h=Iu(c,p);h!=null&&(i.push(d),o.set(d,h))}});const a=new vn(i);return new mI(o,a,s.fieldTransforms)}function a5(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[lg(e,r,n)],u=[s];if(i.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(lg(e,i[h])),u.push(i[h+1]);const c=[],d=an.empty();for(let h=a.length-1;h>=0;--h)if(!wI(c,a[h])){const y=a[h];let b=u[h];b=zr(b);const w=o.gc(y);if(b instanceof Jh)c.push(y);else{const E=Iu(b,w);E!=null&&(c.push(y),d.set(y,E))}}const p=new vn(c);return new mI(d,p,o.fieldTransforms)}function l5(t,e,n,r=!1){return Iu(n,t.Dc(r?4:3,e))}function Iu(t,e){if(yI(t=zr(t)))return fy("Unsupported field value:",e,t),vI(t,e);if(t instanceof cy)return function(r,s){if(!gI(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Iu(a,s.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=zr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ve.fromDate(r);return{timestampValue:zd(s.serializer,i)}}if(r instanceof Ve){const i=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zd(s.serializer,i)}}if(r instanceof gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:LC(s.serializer,r._byteString)};if(r instanceof _t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vr)return function(o,a){return{mapValue:{fields:{[dC]:{stringValue:fC},[Fd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return qv(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Lh(r)}`)}(t,e)}function vI(t,e){const n={};return iC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,s)=>{const i=Iu(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof gr||t instanceof Nn||t instanceof _t||t instanceof cy||t instanceof vr)}function fy(t,e,n){if(!yI(n)||!rC(n)){const r=Lh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function lg(t,e,n){if((e=zr(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return py(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const u5=new RegExp("[~\\*/\\[\\]]");function py(t,e,n){if(e.search(u5)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Z(B.INVALID_ARGUMENT,a+t+u)}function wI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(my("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c5 extends _I{data(){return super.data()}}function my(t,e){return typeof e=="string"?py(t,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class xI extends gy{}function h5(t,e,...n){let r=[];e instanceof gy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof yy).length,a=i.filter(u=>u instanceof vy).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vy extends xI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vy(e,n,r)}_apply(e){const n=this._parse(e);return EI(e._query,n),new Zi(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=hy(e.firestore);return function(i,o,a,u,c,d,p){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S1(p,d);const b=[];for(const w of p)b.push(b1(u,i,w));h={arrayValue:{values:b}}}else h=b1(u,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S1(p,d),h=l5(a,o,p,d==="in"||d==="not-in");return ft.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class yy extends gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)EI(o,u),o=Xm(o,u)}(e._query,n),new Zi(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends xI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(i,o)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Sa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function f5(t,e="asc"){const n=e,r=my("orderBy",t);return wy._create(r,n)}function b1(t,e,n){if(typeof(n=zr(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!oe.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $_(t,new oe(r))}if(n instanceof _t)return $_(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class p5{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Fd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ot(o.doubleValue));return new vr(i)}convertGeoPoint(e){return new gr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);ke(HC(r),9688,{name:e});const s=new Jl(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jo extends _I{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(my("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",jo._jsonSchema={type:pt("string",jo._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class Qc extends jo{data(e={}){return super.data(e)}}class Vo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qc(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Qc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Qc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:g5(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:pt("string",Vo._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class v5 extends p5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function cs(t){t=zi(t,Zi);const e=zi(t.firestore,Cu),n=pI(e),r=new v5(e);return d5(t._query),J3(n,t._query).then(s=>new Vo(e,r,t,s))}function ru(t,e,n,...r){t=zi(t,_t);const s=zi(t.firestore,Cu),i=hy(s);let o;return o=typeof(e=zr(e))=="string"||e instanceof Xh?a5(i,"updateDoc",t._key,e,n,r):o5(i,"updateDoc",t._key,e),_y(s,[o.toMutation(t._key,Gn.exists(!0))])}function Qd(t){return _y(zi(t.firestore,Cu),[new Kv(t._key,Gn.none())])}function Gd(t,e){const n=zi(t.firestore,Cu),r=dr(t),s=m5(t.converter,e);return _y(n,[i5(hy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function _y(t,e){return function(r,s){const i=new Fs;return r.asyncQueue.enqueueAndForget(async()=>L3(await Y3(r),s,i)),i.promise}(pI(t),e)}(function(e,n=!0){(function(s){Ea=s})(WV),jd(new Ql("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Cu(new iL(r.getProvider("auth-internal")),new lL(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Oo(I_,P_,e),Oo(I_,P_,"esm2017")})();var y5="firebase",w5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo(y5,w5,"app");const _5={apiKey:"AIzaSyA-T5ol6OAsE86Un76Hd57RW7yxH-2kcNs",authDomain:"mundimaxai.firebaseapp.com",projectId:"mundimaxai",storageBucket:"mundimaxai.firebasestorage.app",messagingSenderId:"107105351606",appId:"1:107105351606:web:ad77bcf9dac7d860803317"},x5=HS(_5),it=e5(x5);var E5="Label",TI=v.forwardRef((t,e)=>f.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TI.displayName=E5;var bI=TI;const T5=ma("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rt=v.forwardRef(({className:t,...e},n)=>f.jsx(bI,{ref:n,className:te(T5(),t),...e}));rt.displayName=bI.displayName;const Yd=xS,xy=$M,b5=ES,SI=v.forwardRef(({className:t,...e},n)=>f.jsx(Oh,{ref:n,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));SI.displayName=Oh.displayName;const su=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(b5,{children:[f.jsx(SI,{}),f.jsxs(Mh,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(TS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(pv,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));su.displayName=Mh.displayName;const iu=({className:t,...e})=>f.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});iu.displayName="DialogHeader";const Xd=({className:t,...e})=>f.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xd.displayName="DialogFooter";const ou=v.forwardRef(({className:t,...e},n)=>f.jsx(jh,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",t),...e}));ou.displayName=jh.displayName;const S5=v.forwardRef(({className:t,...e},n)=>f.jsx(Vh,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));S5.displayName=Vh.displayName;const Jd=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:n,className:te("w-full caption-bottom text-sm",t),...e})}));Jd.displayName="Table";const Zd=v.forwardRef(({className:t,...e},n)=>f.jsx("thead",{ref:n,className:te("[&_tr]:border-b",t),...e}));Zd.displayName="TableHeader";const eh=v.forwardRef(({className:t,...e},n)=>f.jsx("tbody",{ref:n,className:te("[&_tr:last-child]:border-0",t),...e}));eh.displayName="TableBody";const C5=v.forwardRef(({className:t,...e},n)=>f.jsx("tfoot",{ref:n,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));C5.displayName="TableFooter";const ds=v.forwardRef(({className:t,...e},n)=>f.jsx("tr",{ref:n,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ds.displayName="TableRow";const Ut=v.forwardRef(({className:t,...e},n)=>f.jsx("th",{ref:n,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ut.displayName="TableHead";const gt=v.forwardRef(({className:t,...e},n)=>f.jsx("td",{ref:n,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));gt.displayName="TableCell";const I5=v.forwardRef(({className:t,...e},n)=>f.jsx("caption",{ref:n,className:te("mt-4 text-sm text-muted-foreground",t),...e}));I5.displayName="TableCaption";function P5(){const t=Rv(),[e,n]=v.useState(""),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,u]=v.useState({nome:"",telefone:"",cnpj:"",endereco:"",bairro:"",cidade:"",estado:"",cep:""});async function c(g){const T=g.replace(/\D/g,"");if(T.length!==8)return null;try{const O=await(await fetch(`https://viacep.com.br/ws/${T}/json/`)).json();return O.erro?null:O}catch{return null}}const{data:d=[],isLoading:p}=kO({queryKey:["clientes"],queryFn:async()=>(await cs(Pn(it,"clientes"))).docs.map(T=>({id:T.id,...T.data()}))}),h=Yw({mutationFn:async()=>{if(!a.nome.trim()||!a.telefone.trim()||!a.cnpj.trim())throw new Error("Nome, telefone e CNPJ são obrigatórios.");i?await ru(dr(it,"clientes",i.id),a):await Gd(Pn(it,"clientes"),{...a,dataCadastro:new Date().toISOString()})},onSuccess:()=>{t.invalidateQueries({queryKey:["clientes"]}),s(!1),b()},onError:g=>{alert(g.message||"Erro ao salvar cliente.")}}),y=Yw({mutationFn:async g=>{await Qd(dr(it,"clientes",g))},onSuccess:()=>{t.invalidateQueries({queryKey:["clientes"]})}}),b=()=>{u({nome:"",telefone:"",cnpj:"",endereco:"",bairro:"",cidade:"",estado:"",cep:""}),o(null)},w=g=>{o(g),u({nome:g.nome,telefone:g.telefone,cnpj:g.cnpj,endereco:g.endereco,bairro:g.bairro,cidade:g.cidade,estado:g.estado,cep:g.cep}),s(!0)},E=d.filter(g=>g.nome.toLowerCase().includes(e.toLowerCase())||g.telefone.includes(e)||g.cnpj.includes(e)),{isPending:x}=h;return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clientes"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie seus clientes"})]}),f.jsxs(Yd,{open:r,onOpenChange:s,children:[f.jsx(xy,{asChild:!0,children:f.jsxs(qe,{onClick:b,children:[f.jsx(AT,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),f.jsxs(su,{className:"max-w-2xl",children:[f.jsx(iu,{children:f.jsx(ou,{children:i?"Editar Cliente":"Novo Cliente"})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"nome",children:"Nome *"}),f.jsx(nt,{id:"nome",value:a.nome,onChange:g=>u({...a,nome:g.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"telefone",children:"Telefone *"}),f.jsx(nt,{id:"telefone",value:a.telefone,onChange:g=>u({...a,telefone:g.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"cnpj",children:"CNPJ *"}),f.jsx(nt,{id:"cnpj",value:a.cnpj,onChange:g=>u({...a,cnpj:g.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"cep",children:"CEP"}),f.jsx(nt,{id:"cep",value:a.cep,onChange:g=>u({...a,cep:g.target.value}),onBlur:async()=>{const g=await c(a.cep);g?u(T=>({...T,endereco:g.logradouro||"",bairro:g.bairro||"",cidade:g.localidade||"",estado:g.uf||""})):a.cep.trim().length>0&&alert("CEP inválido ou não encontrado")}})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"bairro",children:"Bairro"}),f.jsx(nt,{id:"bairro",value:a.bairro,onChange:g=>u({...a,bairro:g.target.value})})]}),f.jsxs("div",{className:"space-y-2 col-span-2",children:[f.jsx(rt,{htmlFor:"endereco",children:"Endereço"}),f.jsx(nt,{id:"endereco",value:a.endereco,onChange:g=>u({...a,endereco:g.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"cidade",children:"Cidade"}),f.jsx(nt,{id:"cidade",value:a.cidade,onChange:g=>u({...a,cidade:g.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"estado",children:"Estado"}),f.jsx(nt,{id:"estado",value:a.estado,onChange:g=>u({...a,estado:g.target.value})})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[f.jsx(qe,{variant:"outline",onClick:()=>s(!1),disabled:x,children:"Cancelar"}),f.jsx(qe,{onClick:()=>h.mutate(),disabled:x,children:i?"Atualizar":"Salvar"})]})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:f.jsxs(Rn,{children:[f.jsxs(qn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Or,{className:"text-sm font-medium",children:"Total de Clientes"}),f.jsx(hN,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsx(An,{children:f.jsx("div",{className:"text-2xl font-bold",children:d.length})})]})}),f.jsxs(Rn,{children:[f.jsx(qn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(hv,{className:"w-4 h-4"}),f.jsx(nt,{placeholder:"Buscar por nome, telefone ou CNPJ...",value:e,onChange:g=>n(g.target.value),className:"max-w-sm"})]})}),f.jsx(An,{children:f.jsxs(Jd,{children:[f.jsx(Zd,{children:f.jsxs(ds,{children:[f.jsx(Ut,{children:"Nome"}),f.jsx(Ut,{children:"Telefone"}),f.jsx(Ut,{children:"Cidade"}),f.jsx(Ut,{className:"text-right",children:"Ações"})]})}),f.jsx(eh,{children:E.map(g=>f.jsxs(ds,{children:[f.jsx(gt,{className:"font-medium",children:g.nome}),f.jsx(gt,{children:g.telefone}),f.jsxs(gt,{children:[g.cidade,", ",g.estado]}),f.jsx(gt,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>w(g),children:f.jsx(fv,{className:"w-4 h-4"})}),f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>y.mutate(g.id),children:f.jsx(Bl,{className:"w-4 h-4"})})]})})]},g.id))})]})})]})]})}function R5(){const{toast:t}=ZE(),[e,n]=v.useState([]),[r,s]=v.useState(""),[i,o]=v.useState(!1),[a,u]=v.useState({nomeProd:"",tipo:"moído",precoPorKg:0,descricao:""}),[c,d]=v.useState(null),[p,h]=v.useState([]),[y,b]=v.useState(!1),w=async()=>{const S=await cs(Pn(it,"produtos")),k=[];for(const D of S.docs){const N=D.data(),ie=(await cs(Pn(it,`produtos/${D.id}/bags`))).docs.map(J=>{var F,j;return{...J.data(),id:J.id,criadoEm:((j=(F=J.data().criadoEm)==null?void 0:F.toDate)==null?void 0:j.call(F))||new Date,produtoId:J.data().produtoId}});k.push({...N,id:D.id,bags:ie})}n(k)};v.useEffect(()=>{w()},[]);const E=async S=>{await Qd(dr(it,"produtos",S)),t({title:"Produto excluído",description:"Produto removido com sucesso.",variant:"destructive"}),w()},x=async()=>{if(!(!a.nomeProd||a.precoPorKg<=0))try{const S=await Gd(Pn(it,"produtos"),a);t({title:"Produto criado com sucesso"}),o(!1),u({nomeProd:"",tipo:"moído",precoPorKg:0,descricao:""}),w()}catch{t({title:"Erro ao criar produto",variant:"destructive"})}},g=S=>{d(S),h(S.bags),b(!0)},T=async()=>{if(c)try{await ru(dr(it,"produtos",c.id),{nomeProd:c.nomeProd,tipo:c.tipo,precoPorKg:c.precoPorKg,descricao:c.descricao}),await Promise.all(p.map(async S=>{const k=dr(it,"produtos",c.id,"bags",S.id);S.id.startsWith("temp-")||S.id.length<10?await Gd(Pn(it,"produtos",c.id,"bags"),{pesoKg:S.pesoKg,status:S.status,criadoEm:S.criadoEm instanceof Date?Ve.fromDate(S.criadoEm):S.criadoEm,produtoId:c.id}):await ru(k,{pesoKg:S.pesoKg,status:S.status,criadoEm:S.criadoEm instanceof Date?Ve.fromDate(S.criadoEm):S.criadoEm,produtoId:c.id})})),t({title:"Produto atualizado com sucesso"}),b(!1),d(null),w()}catch{t({title:"Erro ao atualizar produto",variant:"destructive"})}},A=(S,k,D)=>{h(N=>N.map(W=>W.id===S?{...W,[k]:D,produtoId:W.produtoId}:W))},O=()=>{if(!c)return;const S={id:`temp-${Math.random().toString(36).substring(2,9)}`,pesoKg:0,status:"disponivel",criadoEm:new Date,produtoId:c.id};h(k=>[...k,S])},V=async S=>{if(!c)return;!S.startsWith("temp-")&&!S.includes(".")&&await Qd(dr(it,"produtos",c.id,"bags",S)),h(D=>D.filter(N=>N.id!==S))},I=e.filter(S=>{var k;return S.nomeProd.toLowerCase().includes(r.toLowerCase())||((k=S.descricao)==null?void 0:k.toLowerCase().includes(r.toLowerCase()))}),C=S=>S.reduce((k,D)=>D.status==="disponivel"?k+D.pesoKg:k,0),R={disponivel:"bg-green-200 text-green-800",reservado:"bg-gray-200 text-gray-800",vendido:"bg-yellow-300 text-yellow-900"};return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Produtos"}),f.jsxs(Yd,{open:i,onOpenChange:o,children:[f.jsx(xy,{asChild:!0,children:f.jsx(qe,{children:"Novo Produto"})}),f.jsxs(su,{children:[f.jsx(iu,{children:f.jsx(ou,{children:"Novo Produto"})}),f.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"nome",children:"Nome"}),f.jsx(nt,{id:"nome",value:a.nomeProd,onChange:S=>u(k=>({...k,nomeProd:S.target.value}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"descricao",children:"Descrição"}),f.jsx(nt,{id:"descricao",value:a.descricao,onChange:S=>u(k=>({...k,descricao:S.target.value}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"tipo",children:"Tipo"}),f.jsxs("select",{id:"tipo",className:"w-full border rounded px-3 py-2",value:a.tipo,onChange:S=>u(k=>({...k,tipo:S.target.value})),children:[f.jsx("option",{value:"moído",children:"Moído"}),f.jsx("option",{value:"borra",children:"Borra"}),f.jsx("option",{value:"outro",children:"Outro"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"preco",children:"Preço por KG"}),f.jsx(nt,{id:"preco",type:"number",step:"0.01",value:a.precoPorKg,onChange:S=>u(k=>({...k,precoPorKg:parseFloat(S.target.value)}))})]})]}),f.jsxs(Xd,{children:[f.jsx(qe,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),f.jsx(qe,{onClick:x,children:"Salvar"})]})]})]})]}),f.jsxs("div",{className:"relative max-w-md",children:[f.jsx(hv,{className:"absolute left-2 top-2.5 w-4 h-4 text-muted-foreground"}),f.jsx(nt,{placeholder:"Buscar produtos...",value:r,onChange:S=>s(S.target.value),className:"pl-8"})]}),f.jsx("div",{className:"grid gap-4",children:I.map(S=>{const k=C(S.bags);return f.jsx(Rn,{className:k<=0?"border-red-300 bg-red-50":"",children:f.jsxs(An,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold",children:S.nomeProd}),f.jsx("p",{className:"text-sm text-muted-foreground",children:S.descricao}),f.jsxs("p",{className:"text-sm mt-2",children:["Tipo: ",f.jsx("strong",{children:S.tipo}),f.jsx("br",{}),"Preço por KG:"," ",f.jsxs("strong",{children:["R$ ",S.precoPorKg.toFixed(2).replace(".",",")]}),f.jsx("br",{}),"Estoque disponível: ",f.jsxs("strong",{children:[k.toFixed(2)," KG"]})]})]}),f.jsxs("div",{className:"flex gap-2 items-start",children:[f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>g(S),children:f.jsx(fv,{className:"w-4 h-4"})}),f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>E(S.id),children:f.jsx(Bl,{className:"w-4 h-4"})})]})]}),S.bags.length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-sm font-medium mb-2",children:"Bags disponíveis:"}),f.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:S.bags.map((D,N)=>f.jsxs("div",{className:`flex justify-between items-center border rounded px-2 py-1 shadow-sm ${R[D.status]}`,children:[f.jsx("span",{className:"font-semibold",children:`Bag ${String(N+1).padStart(2,"0")}`}),f.jsxs("span",{children:[D.pesoKg.toFixed(2)," KG -"," ",f.jsx("span",{className:"capitalize",children:D.status})]})]},D.id))})]})]})},S.id)})}),f.jsx(Yd,{open:y,onOpenChange:b,children:f.jsxs(su,{children:[f.jsx(iu,{children:f.jsx(ou,{children:"Editar Produto"})}),c&&f.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{children:"Nome"}),f.jsx(nt,{value:c.nomeProd,onChange:S=>d({...c,nomeProd:S.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{children:"Descrição"}),f.jsx(nt,{value:c.descricao,onChange:S=>d({...c,descricao:S.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{children:"Tipo"}),f.jsxs("select",{className:"w-full border rounded px-3 py-2",value:c.tipo,onChange:S=>d({...c,tipo:S.target.value}),children:[f.jsx("option",{value:"moído",children:"Moído"}),f.jsx("option",{value:"borra",children:"Borra"}),f.jsx("option",{value:"outro",children:"Outro"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{children:"Preço por KG"}),f.jsx(nt,{type:"number",step:"0.01",value:c.precoPorKg,onChange:S=>d({...c,precoPorKg:parseFloat(S.target.value)})})]}),f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(rt,{children:"Bags"}),p.map((S,k)=>f.jsxs("div",{className:`flex gap-2 items-center ${R[S.status]} rounded p-2`,children:[f.jsx("span",{className:"font-semibold min-w-[70px]",children:`Bag ${String(k+1).padStart(2,"0")}`}),f.jsx(nt,{type:"number",step:"0.01",min:0,value:S.pesoKg,onChange:D=>A(S.id,"pesoKg",parseFloat(D.target.value)),className:"flex-1"}),f.jsxs("select",{value:S.status,onChange:D=>A(S.id,"status",D.target.value),className:"border rounded px-2 py-1",children:[f.jsx("option",{value:"disponivel",children:"Disponível"}),f.jsx("option",{value:"reservado",children:"Reservado"}),f.jsx("option",{value:"vendido",children:"Vendido"})]}),f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>V(S.id),children:f.jsx(Bl,{className:"w-4 h-4"})})]},S.id)),f.jsx(qe,{variant:"outline",size:"sm",onClick:O,children:"Adicionar Bag"})]}),f.jsxs(Xd,{children:[f.jsx(qe,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),f.jsx(qe,{onClick:T,children:"Salvar"})]})]})]})})]})}const CI=v.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));CI.displayName="Textarea";function C1(t,[e,n]){return Math.min(n,Math.max(e,t))}var A5=v.createContext(void 0);function N5(t){const e=v.useContext(A5);return t||e||"ltr"}function k5(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var D5=[" ","Enter","ArrowUp","ArrowDown"],O5=[" ","Enter"],Pu="Select",[Zh,ef,M5]=nT(Pu),[Ia,C6]=yh(Pu,[M5,Sh]),tf=Sh(),[j5,oi]=Ia(Pu),[V5,L5]=Ia(Pu),II=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:u,dir:c,name:d,autoComplete:p,disabled:h,required:y,form:b}=t,w=tf(e),[E,x]=v.useState(null),[g,T]=v.useState(null),[A,O]=v.useState(!1),V=N5(c),[I=!1,C]=$l({prop:r,defaultProp:s,onChange:i}),[R,S]=$l({prop:o,defaultProp:a,onChange:u}),k=v.useRef(null),D=E?b||!!E.closest("form"):!0,[N,W]=v.useState(new Set),ie=Array.from(N).map(J=>J.props.value).join(";");return f.jsx(ob,{...w,children:f.jsxs(j5,{required:y,scope:e,trigger:E,onTriggerChange:x,valueNode:g,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:ki(),value:R,onValueChange:S,open:I,onOpenChange:C,dir:V,triggerPointerDownPosRef:k,disabled:h,children:[f.jsx(Zh.Provider,{scope:e,children:f.jsx(V5,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{W(F=>new Set(F).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{W(F=>{const j=new Set(F);return j.delete(J),j})},[]),children:n})}),D?f.jsxs(JI,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:p,value:R,onChange:J=>S(J.target.value),disabled:h,form:b,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from(N)]},ie):null]})})};II.displayName=Pu;var PI="SelectTrigger",RI=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=tf(n),o=oi(PI,n),a=o.disabled||r,u=He(e,o.onTriggerChange),c=ef(n),d=v.useRef("touch"),[p,h,y]=ZI(w=>{const E=c().filter(T=>!T.disabled),x=E.find(T=>T.value===o.value),g=eP(E,w,x);g!==void 0&&o.onValueChange(g.value)}),b=w=>{a||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return f.jsx(ab,{asChild:!0,...i,children:f.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":XI(o.value)?"":void 0,...s,ref:u,onClick:me(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&b(w)}),onPointerDown:me(s.onPointerDown,w=>{d.current=w.pointerType;const E=w.target;E.hasPointerCapture(w.pointerId)&&E.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:me(s.onKeyDown,w=>{const E=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&h(w.key),!(E&&w.key===" ")&&D5.includes(w.key)&&(b(),w.preventDefault())})})})});RI.displayName=PI;var AI="SelectValue",NI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,u=oi(AI,n),{onValueNodeHasChildrenChange:c}=u,d=i!==void 0,p=He(e,u.onValueNodeChange);return Wt(()=>{c(d)},[c,d]),f.jsx(Ie.span,{...a,ref:p,style:{pointerEvents:"none"},children:XI(u.value)?f.jsx(f.Fragment,{children:o}):i})});NI.displayName=AI;var F5="SelectIcon",kI=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(Ie.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});kI.displayName=F5;var U5="SelectPortal",DI=t=>f.jsx(wh,{asChild:!0,...t});DI.displayName=U5;var Wi="SelectContent",OI=v.forwardRef((t,e)=>{const n=oi(Wi,t.__scopeSelect),[r,s]=v.useState();if(Wt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Qi.createPortal(f.jsx(MI,{scope:t.__scopeSelect,children:f.jsx(Zh.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(jI,{...t,ref:e})});OI.displayName=Wi;var Fn=10,[MI,ai]=Ia(Wi),$5="SelectContentImpl",jI=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:E,...x}=t,g=oi(Wi,n),[T,A]=v.useState(null),[O,V]=v.useState(null),I=He(e,se=>A(se)),[C,R]=v.useState(null),[S,k]=v.useState(null),D=ef(n),[N,W]=v.useState(!1),ie=v.useRef(!1);v.useEffect(()=>{if(T)return sS(T)},[T]),Gb();const J=v.useCallback(se=>{const[Pe,...We]=D().map(_e=>_e.ref.current),[ye]=We.slice(-1),Ee=document.activeElement;for(const _e of se)if(_e===Ee||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===Pe&&O&&(O.scrollTop=0),_e===ye&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ee))return},[D,O]),F=v.useCallback(()=>J([C,T]),[J,C,T]);v.useEffect(()=>{N&&F()},[N,F]);const{onOpenChange:j,triggerPointerDownPosRef:$}=g;v.useEffect(()=>{if(T){let se={x:0,y:0};const Pe=ye=>{var Ee,_e;se={x:Math.abs(Math.round(ye.pageX)-(((Ee=$.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((_e=$.current)==null?void 0:_e.y)??0))}},We=ye=>{se.x<=10&&se.y<=10?ye.preventDefault():T.contains(ye.target)||j(!1),document.removeEventListener("pointermove",Pe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",We,{capture:!0})}}},[T,j,$]),v.useEffect(()=>{const se=()=>j(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[j]);const[K,H]=ZI(se=>{const Pe=D().filter(Ee=>!Ee.disabled),We=Pe.find(Ee=>Ee.ref.current===document.activeElement),ye=eP(Pe,se,We);ye&&setTimeout(()=>ye.ref.current.focus())}),Q=v.useCallback((se,Pe,We)=>{const ye=!ie.current&&!We;(g.value!==void 0&&g.value===Pe||ye)&&(R(se),ye&&(ie.current=!0))},[g.value]),X=v.useCallback(()=>T==null?void 0:T.focus(),[T]),fe=v.useCallback((se,Pe,We)=>{const ye=!ie.current&&!We;(g.value!==void 0&&g.value===Pe||ye)&&k(se)},[g.value]),be=r==="popper"?ug:VI,le=be===ug?{side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:E}:{};return f.jsx(MI,{scope:n,content:T,viewport:O,onViewportChange:V,itemRefCallback:Q,selectedItem:C,onItemLeave:X,itemTextRefCallback:fe,focusSelectedItem:F,selectedItemText:S,position:r,isPositioned:N,searchRef:K,children:f.jsx(Nv,{as:jn,allowPinchZoom:!0,children:f.jsx(Av,{asChild:!0,trapped:g.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:me(s,se=>{var Pe;(Pe=g.trigger)==null||Pe.focus({preventScroll:!0}),se.preventDefault()}),children:f.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:f.jsx(be,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:se=>se.preventDefault(),...x,...le,onPlaced:()=>W(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:me(x.onKeyDown,se=>{const Pe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Pe&&se.key.length===1&&H(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ye=D().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,_e=ye.indexOf(Ee);ye=ye.slice(_e+1)}setTimeout(()=>J(ye)),se.preventDefault()}})})})})})})});jI.displayName=$5;var B5="SelectItemAlignedPosition",VI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=oi(Wi,n),o=ai(Wi,n),[a,u]=v.useState(null),[c,d]=v.useState(null),p=He(e,I=>d(I)),h=ef(n),y=v.useRef(!1),b=v.useRef(!0),{viewport:w,selectedItem:E,selectedItemText:x,focusSelectedItem:g}=o,T=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&w&&E&&x){const I=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),S=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=S.left-C.left,_e=R.left-Ee,mt=I.left-_e,St=I.width+mt,bn=Math.max(St,C.width),qt=window.innerWidth-Fn,xr=C1(_e,[Fn,Math.max(Fn,qt-bn)]);a.style.minWidth=St+"px",a.style.left=xr+"px"}else{const Ee=C.right-S.right,_e=window.innerWidth-R.right-Ee,mt=window.innerWidth-I.right-_e,St=I.width+mt,bn=Math.max(St,C.width),qt=window.innerWidth-Fn,xr=C1(_e,[Fn,Math.max(Fn,qt-bn)]);a.style.minWidth=St+"px",a.style.right=xr+"px"}const k=h(),D=window.innerHeight-Fn*2,N=w.scrollHeight,W=window.getComputedStyle(c),ie=parseInt(W.borderTopWidth,10),J=parseInt(W.paddingTop,10),F=parseInt(W.borderBottomWidth,10),j=parseInt(W.paddingBottom,10),$=ie+J+N+j+F,K=Math.min(E.offsetHeight*5,$),H=window.getComputedStyle(w),Q=parseInt(H.paddingTop,10),X=parseInt(H.paddingBottom,10),fe=I.top+I.height/2-Fn,be=D-fe,le=E.offsetHeight/2,se=E.offsetTop+le,Pe=ie+J+se,We=$-Pe;if(Pe<=fe){const Ee=k.length>0&&E===k[k.length-1].ref.current;a.style.bottom="0px";const _e=c.clientHeight-w.offsetTop-w.offsetHeight,mt=Math.max(be,le+(Ee?X:0)+_e+F),St=Pe+mt;a.style.height=St+"px"}else{const Ee=k.length>0&&E===k[0].ref.current;a.style.top="0px";const mt=Math.max(fe,ie+w.offsetTop+(Ee?Q:0)+le)+We;a.style.height=mt+"px",w.scrollTop=Pe-fe+w.offsetTop}a.style.margin=`${Fn}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[h,i.trigger,i.valueNode,a,c,w,E,x,i.dir,r]);Wt(()=>T(),[T]);const[A,O]=v.useState();Wt(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=v.useCallback(I=>{I&&b.current===!0&&(T(),g==null||g(),b.current=!1)},[T,g]);return f.jsx(H5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:V,children:f.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:f.jsx(Ie.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VI.displayName=B5;var z5="SelectPopperPosition",ug=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Fn,...i}=t,o=tf(n);return f.jsx(lb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ug.displayName=z5;var[H5,Ey]=Ia(Wi,{}),cg="SelectViewport",LI=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ai(cg,n),o=Ey(cg,n),a=He(e,i.onViewportChange),u=v.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Zh.Slot,{scope:n,children:f.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const y=Math.abs(u.current-d.scrollTop);if(y>0){const b=window.innerHeight-Fn*2,w=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),x=Math.max(w,E);if(x<b){const g=x+y,T=Math.min(b,g),A=g-T;p.style.height=T+"px",p.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});LI.displayName=cg;var FI="SelectGroup",[W5,q5]=Ia(FI),K5=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ki();return f.jsx(W5,{scope:n,id:s,children:f.jsx(Ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});K5.displayName=FI;var UI="SelectLabel",$I=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=q5(UI,n);return f.jsx(Ie.div,{id:s.id,...r,ref:e})});$I.displayName=UI;var th="SelectItem",[Q5,BI]=Ia(th),zI=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=oi(th,n),u=ai(th,n),c=a.value===r,[d,p]=v.useState(i??""),[h,y]=v.useState(!1),b=He(e,g=>{var T;return(T=u.itemRefCallback)==null?void 0:T.call(u,g,r,s)}),w=ki(),E=v.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Q5,{scope:n,value:r,disabled:s,textId:w,isSelected:c,onItemTextChange:v.useCallback(g=>{p(T=>T||((g==null?void 0:g.textContent)??"").trim())},[]),children:f.jsx(Zh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(Ie.div,{role:"option","aria-labelledby":w,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:me(o.onFocus,()=>y(!0)),onBlur:me(o.onBlur,()=>y(!1)),onClick:me(o.onClick,()=>{E.current!=="mouse"&&x()}),onPointerUp:me(o.onPointerUp,()=>{E.current==="mouse"&&x()}),onPointerDown:me(o.onPointerDown,g=>{E.current=g.pointerType}),onPointerMove:me(o.onPointerMove,g=>{var T;E.current=g.pointerType,s?(T=u.onItemLeave)==null||T.call(u):E.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,g=>{var T;g.currentTarget===document.activeElement&&((T=u.onItemLeave)==null||T.call(u))}),onKeyDown:me(o.onKeyDown,g=>{var A;((A=u.searchRef)==null?void 0:A.current)!==""&&g.key===" "||(O5.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});zI.displayName=th;var ll="SelectItemText",HI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=oi(ll,n),a=ai(ll,n),u=BI(ll,n),c=L5(ll,n),[d,p]=v.useState(null),h=He(e,x=>p(x),u.onItemTextChange,x=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,x,u.value,u.disabled)}),y=d==null?void 0:d.textContent,b=v.useMemo(()=>f.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:E}=c;return Wt(()=>(w(b),()=>E(b)),[w,E,b]),f.jsxs(f.Fragment,{children:[f.jsx(Ie.span,{id:u.textId,...i,ref:h}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qi.createPortal(i.children,o.valueNode):null]})});HI.displayName=ll;var WI="SelectItemIndicator",qI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BI(WI,n).isSelected?f.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});qI.displayName=WI;var dg="SelectScrollUpButton",KI=v.forwardRef((t,e)=>{const n=ai(dg,t.__scopeSelect),r=Ey(dg,t.__scopeSelect),[s,i]=v.useState(!1),o=He(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;i(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(GI,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});KI.displayName=dg;var hg="SelectScrollDownButton",QI=v.forwardRef((t,e)=>{const n=ai(hg,t.__scopeSelect),r=Ey(hg,t.__scopeSelect),[s,i]=v.useState(!1),o=He(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;i(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(GI,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});QI.displayName=hg;var GI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ai("SelectScrollButton",n),o=v.useRef(null),a=ef(n),u=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),Wt(()=>{var d;const c=a().find(p=>p.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(Ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{u()})})}),G5="SelectSeparator",YI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});YI.displayName=G5;var fg="SelectArrow",Y5=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tf(n),i=oi(fg,n),o=ai(fg,n);return i.open&&o.position==="popper"?f.jsx(ub,{...s,...r,ref:e}):null});Y5.displayName=fg;function XI(t){return t===""||t===void 0}var JI=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=He(e,s),o=k5(n);return v.useEffect(()=>{const a=s.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&d){const p=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(p)}},[o,n]),f.jsx(vu,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});JI.displayName="BubbleSelect";function ZI(t){const e=xn(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function eP(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=X5(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function X5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J5=II,tP=RI,Z5=NI,e6=kI,t6=DI,nP=OI,n6=LI,rP=$I,sP=zI,r6=HI,s6=qI,iP=KI,oP=QI,aP=YI;const gp=J5,vp=Z5,Gc=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(tP,{ref:r,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(e6,{asChild:!0,children:f.jsx(RT,{className:"h-4 w-4 opacity-50"})})]}));Gc.displayName=tP.displayName;const lP=v.forwardRef(({className:t,...e},n)=>f.jsx(iP,{ref:n,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(iN,{className:"h-4 w-4"})}));lP.displayName=iP.displayName;const uP=v.forwardRef(({className:t,...e},n)=>f.jsx(oP,{ref:n,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(RT,{className:"h-4 w-4"})}));uP.displayName=oP.displayName;const Yc=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(t6,{children:f.jsxs(nP,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(lP,{}),f.jsx(n6,{className:te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(uP,{})]})}));Yc.displayName=nP.displayName;const i6=v.forwardRef(({className:t,...e},n)=>f.jsx(rP,{ref:n,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));i6.displayName=rP.displayName;const gi=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(sP,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(s6,{children:f.jsx(sN,{className:"h-4 w-4"})})}),f.jsx(r6,{children:e})]}));gi.displayName=sP.displayName;const o6=v.forwardRef(({className:t,...e},n)=>f.jsx(aP,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));o6.displayName=aP.displayName;const a6=ma("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l6({className:t,variant:e,...n}){return f.jsx("div",{className:te(a6({variant:e}),t),...n})}const u6=t=>{const e=window.open("","_blank");if(!e){alert("Por favor, permita pop-ups para gerar o PDF");return}const n=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Pedido #${t.id} - MONDINI</title>
      <style>
        body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 20px;
          color: #333;
        }
        .header {
          text-align: center;
          margin-bottom: 30px;
          border-bottom: 2px solid #333;
          padding-bottom: 20px;
        }
        .company-name {
          font-size: 28px;
          font-weight: bold;
          color: #2563eb;
          margin-bottom: 5px;
        }
        .company-subtitle {
          font-size: 14px;
          color: #666;
        }
        .pedido-info {
          display: flex;
          justify-content: space-between;
          margin-bottom: 30px;
          background-color: #f8f9fa;
          padding: 15px;
          border-radius: 5px;
        }
        .info-section {
          flex: 1;
        }
        .info-title {
          font-weight: bold;
          color: #2563eb;
          margin-bottom: 5px;
        }
        .status {
          display: inline-block;
          padding: 4px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-transform: uppercase;
        }
        .status-pendente { background-color: #fef3c7; color: #92400e; }
        .status-processando { background-color: #dbeafe; color: #1e40af; }
        .status-concluido { background-color: #d1fae5; color: #065f46; }
        .status-cancelado { background-color: #fee2e2; color: #991b1b; }
        .itens-table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 20px;
          border: 1px solid #e5e7eb;
        }
        .itens-table th,
        .itens-table td {
          border: 1px solid #e5e7eb;
          padding: 12px;
          text-align: left;
        }
        .itens-table th {
          background-color: #f9fafb;
          font-weight: bold;
          color: #374151;
        }
        .text-right {
          text-align: right;
        }
        .total-row {
          background-color: #f3f4f6;
          font-weight: bold;
        }
        .observacoes {
          margin-top: 20px;
          padding: 15px;
          background-color: #f8f9fa;
          border-left: 4px solid #2563eb;
        }
        .footer {
          margin-top: 40px;
          text-align: center;
          font-size: 12px;
          color: #666;
          border-top: 1px solid #e5e7eb;
          padding-top: 20px;
        }
        @media print {
          body { margin: 0; }
          .no-print { display: none; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="company-name">MONDINI</div>
        <div class="company-subtitle">Sistema de Controle de Estoque</div>
      </div>

      <div class="pedido-info">
        <div class="info-section">
          <div class="info-title">Pedido</div>
          <div>#${t.id}</div>
        </div>
        <div class="info-section">
          <div class="info-title">Cliente</div>
          <div>${t.clienteNome}</div>
        </div>
        <div class="info-section">
          <div class="info-title">Data do Pedido</div>
          <div>${new Date(t.dataPedido).toLocaleDateString("pt-BR")}</div>
        </div>
        ${t.dataEntrega?`
        <div class="info-section">
          <div class="info-title">Data de Entrega</div>
          <div>${new Date(t.dataEntrega).toLocaleDateString("pt-BR")}</div>
        </div>
        `:""}
        <div class="info-section">
          <div class="info-title">Status</div>
          <div class="status status-${t.status}">
            ${c6(t.status)}
          </div>
        </div>
      </div>

      <table class="itens-table">
        <thead>
          <tr>
            <th>Produto</th>
            <th>Quantidade</th>
            <th>Preço Unitário</th>
            <th>Subtotal</th>
          </tr>
        </thead>
        <tbody>
          ${t.itens.map(r=>`
            <tr>
              <td>${r.produtoNome}</td>
              <td class="text-right">${r.quantidade}</td>
              <td class="text-right">R$ ${r.precoUnitario.toFixed(2)}</td>
              <td class="text-right">R$ ${r.subtotal.toFixed(2)}</td>
            </tr>
          `).join("")}
          <tr class="total-row">
            <td colspan="3">TOTAL GERAL</td>
            <td class="text-right">R$ ${t.total.toFixed(2)}</td>
          </tr>
        </tbody>
      </table>

      ${t.observacoes?`
      <div class="observacoes">
        <div class="info-title">Observações</div>
        <div>${t.observacoes}</div>
      </div>
      `:""}

      <div class="footer">
        <p>Documento gerado em ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}</p>
        <p>MONDINI PLASTICOS ESPECIAIS</p>
        <p>Avenida Coronel Antonio Estanislau do Amaral, 544 - B. Itaici			
  CNPJ: 39.694.722/0001-29 - IE: 353.439.082.115 - TELEFONE (19) 97403-9792			
        </p>
      </div>
    </body>
    </html>
  `;e.document.write(n),e.document.close(),e.onload=()=>{setTimeout(()=>{e.print(),e.close()},100)}},c6=t=>{switch(t){case"pendente":return"Pendente";case"processando":return"Processando";case"concluido":return"Concluído";case"cancelado":return"Cancelado";default:return t}};function d6(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(""),[u,c]=v.useState(!1),[d,p]=v.useState(null),[h,y]=v.useState({clienteId:"",dataEntrega:"",status:"pendente",observacoes:""}),[b,w]=v.useState([]),[E,x]=v.useState({produtoId:"",quantidade:1}),g=async()=>{const F=Pn(it,"clientes"),$=(await cs(F)).docs.map(K=>({id:K.id,...K.data()}));e($)},T=async()=>{const F=Pn(it,"produtos"),j=await cs(F),$=[];for(const K of j.docs){const H=K.data(),Q=Pn(it,`produtos/${K.id}/bags`),fe=(await cs(Q)).docs.map(be=>{var le;return{id:be.id,pesoKg:be.data().pesoKg,status:be.data().status,criadoEm:((le=be.data().criadoEm)==null?void 0:le.toDate())??new Date,produtoId:K.id}});$.push({id:K.id,nomeProd:H.nomeProd,precoPorKg:H.precoPorKg,bags:fe})}r($)},A=async()=>{const F=Pn(it,"pedidos"),$=(await cs(h5(F,f5("dataPedido","desc")))).docs.map(K=>{const H=K.data();return{id:K.id,clienteId:H.clienteId,clienteNome:H.clienteNome,dataPedido:H.dataPedido,dataEntrega:H.dataEntrega||void 0,status:H.status,itens:H.itens,total:H.total,observacoes:H.observacoes||""}});i($)};v.useEffect(()=>{g(),T(),A()},[]);const O=()=>{y({clienteId:"",dataEntrega:"",status:"pendente",observacoes:""}),w([]),x({produtoId:"",quantidade:1}),p(null)},V=(F,j)=>{const $=n.find(X=>X.id===F);if(!$)return{podeVender:!1,bagsUsadas:[]};const K=$.bags.filter(X=>X.status==="disponivel"&&X.pesoKg>0).sort((X,fe)=>X.criadoEm.getTime()-fe.criadoEm.getTime());let H=j;const Q=[];for(const X of K){if(H<=0)break;if(X.pesoKg>=H){Q.push({bagId:X.id,pesoUsado:H}),H=0;break}else Q.push({bagId:X.id,pesoUsado:X.pesoKg}),H-=X.pesoKg}return{podeVender:H===0,bagsUsadas:Q}},I=()=>{if(!E.produtoId)return;const F=n.find(Q=>Q.id===E.produtoId);if(!F)return;const j=E.quantidade;if(j<=0)return;const{podeVender:$,bagsUsadas:K}=V(F.id,j);if(!$){alert("Peso solicitado excede estoque disponível nas bags do produto.");return}const H=b.find(Q=>Q.produtoId===F.id);if(H){const Q=H.quantidade+j,{podeVender:X,bagsUsadas:fe}=V(F.id,Q);if(!X){alert("Peso solicitado excede estoque disponível considerando o item já adicionado.");return}w(be=>be.map(le=>le.produtoId===F.id?{...le,quantidade:Q,subtotal:Q*le.precoUnitario,bagsUsadas:fe}:le))}else{const Q={id:Date.now().toString(),produtoId:F.id,produtoNome:F.nomeProd,quantidade:j,precoUnitario:F.precoPorKg,subtotal:j*F.precoPorKg,bagsUsadas:K};w(X=>[...X,Q])}x({produtoId:"",quantidade:1})},C=F=>{w(j=>j.filter($=>$.id!==F))},R=()=>b.reduce((F,j)=>F+j.subtotal,0),S=async()=>{var j;if(!h.clienteId||b.length===0){alert("Selecione um cliente e adicione pelo menos um item.");return}const F=t.find($=>$.id===h.clienteId);if(!F){alert("Cliente inválido.");return}try{for(const K of b)for(const H of K.bagsUsadas){const Q=dr(it,"produtos",K.produtoId,"bags",H.bagId),X=await cs(Pn(it,`produtos/${K.produtoId}/bags`)),fe=(j=n.find(se=>se.id===K.produtoId))==null?void 0:j.bags,be=fe==null?void 0:fe.find(se=>se.id===H.bagId);if(!be)continue;const le=be.pesoKg-H.pesoUsado;await ru(Q,{pesoKg:le>0?le:0,status:le<=0?"vendido":"disponivel"})}const $={clienteId:F.id,clienteNome:F.nome,dataPedido:new Date().toISOString().split("T")[0],dataEntrega:h.dataEntrega||void 0,status:h.status,itens:b,total:R(),observacoes:h.observacoes};if(d){const K=dr(it,"pedidos",d.id);await ru(K,$)}else{const K=Pn(it,"pedidos");await Gd(K,$)}alert("Pedido salvo com sucesso!"),c(!1),O(),T(),A()}catch($){console.error($),alert("Erro ao salvar pedido.")}},k=F=>{p(F),y({clienteId:F.clienteId,dataEntrega:F.dataEntrega||"",status:F.status,observacoes:F.observacoes||""}),w(F.itens),c(!0)},D=async F=>{if(confirm("Tem certeza que quer excluir esse pedido permanentemente?"))try{await Qd(dr(it,"pedidos",F)),A()}catch(j){alert("Erro ao excluir pedido."),console.error(j)}},N=F=>{u6(F)},W=s.filter(F=>F.clienteNome.toLowerCase().includes(o.toLowerCase())||F.id.toLowerCase().includes(o.toLowerCase())),ie=F=>{switch(F){case"pendente":return"bg-yellow-100 text-yellow-800";case"processando":return"bg-blue-100 text-blue-800";case"concluido":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800"}},J=F=>{switch(F){case"pendente":return"Pendente";case"processando":return"Processando";case"concluido":return"Concluído";case"cancelado":return"Cancelado"}};return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pedidos"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie os pedidos dos clientes"})]}),f.jsxs(Yd,{open:u,onOpenChange:c,children:[f.jsx(xy,{asChild:!0,children:f.jsxs(qe,{onClick:()=>{O()},children:[f.jsx(AT,{className:"w-4 h-4 mr-2"}),"Novo Pedido"]})}),f.jsxs(su,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[f.jsx(iu,{children:f.jsx(ou,{children:d?"Editar Pedido":"Novo Pedido"})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"cliente",children:"Cliente *"}),f.jsxs(gp,{value:h.clienteId,onValueChange:F=>y({...h,clienteId:F}),children:[f.jsx(Gc,{children:f.jsx(vp,{placeholder:"Selecione um cliente"})}),f.jsx(Yc,{children:t.map(F=>f.jsx(gi,{value:F.id,children:F.nome},F.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"dataEntrega",children:"Data de Entrega"}),f.jsx(nt,{type:"date",value:h.dataEntrega,onChange:F=>y({...h,dataEntrega:F.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{htmlFor:"status",children:"Status"}),f.jsxs(gp,{value:h.status,onValueChange:F=>y({...h,status:F}),children:[f.jsx(Gc,{children:f.jsx(vp,{})}),f.jsxs(Yc,{children:[f.jsx(gi,{value:"pendente",children:"Pendente"}),f.jsx(gi,{value:"processando",children:"Processando"}),f.jsx(gi,{value:"concluido",children:"Concluído"}),f.jsx(gi,{value:"cancelado",children:"Cancelado"})]})]})]}),f.jsxs("div",{className:"space-y-2 col-span-2",children:[f.jsx(rt,{htmlFor:"observacoes",children:"Observações"}),f.jsx(CI,{value:h.observacoes,onChange:F=>y({...h,observacoes:F.target.value}),placeholder:"Observações sobre o pedido"})]})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsx("h3",{className:"text-lg font-medium mb-4",children:"Itens do Pedido"}),f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsxs(gp,{value:E.produtoId,onValueChange:F=>x({...E,produtoId:F}),children:[f.jsx(Gc,{className:"flex-1",children:f.jsx(vp,{placeholder:"Selecione um produto"})}),f.jsx(Yc,{children:n.map(F=>{const j=F.bags.filter($=>$.status==="disponivel").reduce(($,K)=>$+K.pesoKg,0);return f.jsxs(gi,{value:F.id,children:[F.nomeProd," - R$ ",F.precoPorKg.toFixed(2)," /kg -"," ",f.jsxs("span",{className:"font-bold text-green-600",children:["Disponível: ",j.toFixed(2)," kg"]})]},F.id)})})]}),f.jsx(nt,{type:"number",min:.01,step:.01,value:E.quantidade,onChange:F=>x({...E,quantidade:parseFloat(F.target.value)||1}),placeholder:"Peso (kg)",className:"w-32"}),f.jsx(qe,{onClick:I,disabled:!E.produtoId||E.quantidade<=0,children:"Adicionar"})]}),b.length>0&&f.jsxs(Jd,{children:[f.jsx(Zd,{children:f.jsxs(ds,{children:[f.jsx(Ut,{children:"Produto"}),f.jsx(Ut,{children:"Quantidade (kg)"}),f.jsx(Ut,{children:"Preço Unitário"}),f.jsx(Ut,{children:"Subtotal"}),f.jsx(Ut,{className:"text-right",children:"Ações"})]})}),f.jsxs(eh,{children:[b.map(F=>f.jsxs(ds,{children:[f.jsx(gt,{children:F.produtoNome}),f.jsx(gt,{children:F.quantidade.toFixed(2)}),f.jsxs(gt,{children:["R$ ",F.precoUnitario.toFixed(2)]}),f.jsxs(gt,{children:["R$ ",F.subtotal.toFixed(2)]}),f.jsx(gt,{className:"text-right",children:f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>C(F.id),children:f.jsx(Bl,{className:"w-4 h-4"})})})]},F.id)),f.jsxs(ds,{children:[f.jsx(gt,{colSpan:3,className:"font-medium",children:"Total"}),f.jsxs(gt,{className:"font-bold",children:["R$ ",R().toFixed(2)]}),f.jsx(gt,{})]})]})]})]})]}),f.jsxs(Xd,{className:"flex justify-end gap-2 mt-4",children:[f.jsx(qe,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),f.jsx(qe,{onClick:S,disabled:!h.clienteId||b.length===0,children:d?"Atualizar":"Salvar"})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[f.jsxs(Rn,{children:[f.jsxs(qn,{className:"flex justify-between pb-2",children:[f.jsx(Or,{className:"text-sm font-medium",children:"Total de Pedidos"}),f.jsx(xd,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsx(An,{children:f.jsx("div",{className:"text-2xl font-bold",children:s.length})})]}),f.jsxs(Rn,{children:[f.jsxs(qn,{className:"flex justify-between pb-2",children:[f.jsx(Or,{className:"text-sm font-medium",children:"Pendentes"}),f.jsx(nN,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsx(An,{children:f.jsx("div",{className:"text-2xl font-bold",children:s.filter(F=>F.status==="pendente").length})})]}),f.jsxs(Rn,{children:[f.jsxs(qn,{className:"flex justify-between pb-2",children:[f.jsx(Or,{className:"text-sm font-medium",children:"Em Processamento"}),f.jsx(dv,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsx(An,{children:f.jsx("div",{className:"text-2xl font-bold",children:s.filter(F=>F.status==="processando").length})})]}),f.jsxs(Rn,{children:[f.jsxs(qn,{className:"flex justify-between pb-2",children:[f.jsx(Or,{className:"text-sm font-medium",children:"Valor Total"}),f.jsx(xd,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsx(An,{children:f.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",s.reduce((F,j)=>F+j.total,0).toFixed(2)]})})]})]}),f.jsxs(Rn,{children:[f.jsx(qn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(hv,{className:"w-4 h-4"}),f.jsx(nt,{placeholder:"Buscar por cliente ou número do pedido...",value:o,onChange:F=>a(F.target.value),className:"max-w-sm"})]})}),f.jsx(An,{children:f.jsxs(Jd,{children:[f.jsx(Zd,{children:f.jsxs(ds,{children:[f.jsx(Ut,{children:"Pedido"}),f.jsx(Ut,{children:"Cliente"}),f.jsx(Ut,{children:"Data"}),f.jsx(Ut,{children:"Status"}),f.jsx(Ut,{children:"Total"}),f.jsx(Ut,{className:"text-right",children:"Ações"})]})}),f.jsx(eh,{children:W.map(F=>f.jsxs(ds,{children:[f.jsxs(gt,{className:"font-medium",children:["#",F.id]}),f.jsx(gt,{children:F.clienteNome}),f.jsx(gt,{children:new Date(F.dataPedido).toLocaleDateString()}),f.jsx(gt,{children:f.jsx(l6,{className:ie(F.status),children:J(F.status)})}),f.jsxs(gt,{children:["R$ ",F.total.toFixed(2)]}),f.jsx(gt,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>N(F),title:"Gerar PDF",children:f.jsx(aN,{className:"w-4 h-4"})}),f.jsx(qe,{variant:"outline",size:"sm",onClick:()=>k(F),title:"Editar",children:f.jsx(fv,{className:"w-4 h-4"})}),f.jsx(qe,{variant:"destructive",size:"sm",onClick:()=>D(F.id),title:"Excluir permanentemente",children:f.jsx(Bl,{className:"w-4 h-4"})})]})})]},F.id))})]})})]})]})}const h6=()=>{const t=Yi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Eita, parece que deu algo errado! :("}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Retornar ao início"})]})})},f6=new mO,p6=()=>f.jsx(_O,{client:f6,children:f.jsxs(yb,{children:[f.jsx(QN,{}),f.jsx(Tk,{}),f.jsx(P4,{children:f.jsx(gj,{children:f.jsxs(_4,{children:[f.jsx(ss,{path:"/",element:f.jsx(ap,{})}),f.jsx(ss,{path:"/clientes",element:f.jsx(P5,{})}),f.jsx(ss,{path:"/produtos",element:f.jsx(R5,{})}),f.jsx(ss,{path:"/estoque",element:f.jsx(ap,{})}),f.jsx(ss,{path:"/pedidos",element:f.jsx(d6,{})}),f.jsx(ss,{path:"/relatorios",element:f.jsx(ap,{})}),f.jsx(ss,{path:"*",element:f.jsx(h6,{})})]})})})]})});JE(document.getElementById("root")).render(f.jsx(p6,{}));
