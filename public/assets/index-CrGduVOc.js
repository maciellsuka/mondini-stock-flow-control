var h0=t=>{throw TypeError(t)};var xf=(t,e,n)=>e.has(t)||h0("Cannot "+n);var j=(t,e,n)=>(xf(t,e,"read from private field"),n?n.call(t):e.get(t)),ae=(t,e,n)=>e.has(t)?h0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ee=(t,e,n,r)=>(xf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ge=(t,e,n)=>(xf(t,e,"access private method"),n);var Yu=(t,e,n,r)=>({set _(s){ee(t,e,s,n)},get _(){return j(t,e,r)}});function OP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function L_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F_={exports:{}},rh={},$_={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),jP=Symbol.for("react.portal"),MP=Symbol.for("react.fragment"),VP=Symbol.for("react.strict_mode"),LP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),UP=Symbol.for("react.forward_ref"),BP=Symbol.for("react.suspense"),zP=Symbol.for("react.memo"),HP=Symbol.for("react.lazy"),f0=Symbol.iterator;function WP(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var U_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,z_={};function ma(t,e,n){this.props=t,this.context=e,this.refs=z_,this.updater=n||U_}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H_(){}H_.prototype=ma.prototype;function mg(t,e,n){this.props=t,this.context=e,this.refs=z_,this.updater=n||U_}var gg=mg.prototype=new H_;gg.constructor=mg;B_(gg,ma.prototype);gg.isPureReactComponent=!0;var p0=Array.isArray,W_=Object.prototype.hasOwnProperty,vg={current:null},q_={key:!0,ref:!0,__self:!0,__source:!0};function K_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)W_.call(e,r)&&!q_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:mu,type:t,key:i,ref:o,props:s,_owner:vg.current}}function qP(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function KP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function _f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KP(""+t.key):e.toString(36)}function Rc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mu:case jP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_f(o,0):r,p0(s)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),Rc(s,e,n,"",function(c){return c})):s!=null&&(yg(s)&&(s=qP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(m0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",p0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+_f(i,a);o+=Rc(i,e,n,u,s)}else if(u=WP(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+_f(i,a++),o+=Rc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],s=0;return Rc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Ac={transition:null},GP={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:vg};function Q_(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=ma;we.Fragment=MP;we.Profiler=LP;we.PureComponent=mg;we.StrictMode=VP;we.Suspense=BP;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GP;we.act=Q_;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)W_.call(e,u)&&!q_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:mu,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:$P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FP,_context:t},t.Consumer=t};we.createElement=K_;we.createFactory=function(t){var e=K_.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:UP,render:t}};we.isValidElement=yg;we.lazy=function(t){return{$$typeof:HP,_payload:{_status:-1,_result:t},_init:QP}};we.memo=function(t,e){return{$$typeof:zP,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};we.unstable_act=Q_;we.useCallback=function(t,e){return Zt.current.useCallback(t,e)};we.useContext=function(t){return Zt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Zt.current.useEffect(t,e)};we.useId=function(){return Zt.current.useId()};we.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Zt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};we.useRef=function(t){return Zt.current.useRef(t)};we.useState=function(t){return Zt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Zt.current.useTransition()};we.version="18.3.1";$_.exports=we;var v=$_.exports;const Y=L_(v),G_=OP({__proto__:null,default:Y},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=v,XP=Symbol.for("react.element"),JP=Symbol.for("react.fragment"),ZP=Object.prototype.hasOwnProperty,eR=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tR={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZP.call(e,r)&&!tR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:XP,type:t,key:i,ref:o,props:s,_owner:eR.current}}rh.Fragment=JP;rh.jsx=Y_;rh.jsxs=Y_;F_.exports=rh;var d=F_.exports,X_={exports:{}},Sn={},J_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var K=M.length;M.push(U);e:for(;0<K;){var H=K-1>>>1,Q=M[H];if(0<s(Q,U))M[H]=U,M[K]=Q,K=H;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],K=M.pop();if(K!==U){M[0]=K;e:for(var H=0,Q=M.length,X=Q>>>1;H<X;){var fe=2*(H+1)-1,be=M[fe],le=fe+1,se=M[le];if(0>s(be,K))le<Q&&0>s(se,be)?(M[H]=se,M[le]=K,H=le):(M[H]=be,M[fe]=K,H=fe);else if(le<Q&&0>s(se,K))M[H]=se,M[le]=K,H=le;else break e}}return U}function s(M,U){var K=M.sortIndex-U.sortIndex;return K!==0?K:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,f=3,w=!1,T=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=M)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function A(M){if(y=!1,b(M),!T)if(n(u)!==null)T=!0,J(O);else{var U=n(c);U!==null&&F(A,U.startTime-M)}}function O(M,U){T=!1,y&&(y=!1,_(C),C=-1),w=!0;var K=f;try{for(b(U),p=n(u);p!==null&&(!(p.expirationTime>U)||M&&!k());){var H=p.callback;if(typeof H=="function"){p.callback=null,f=p.priorityLevel;var Q=H(p.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(u)&&r(u),b(U)}else r(u);p=n(u)}if(p!==null)var X=!0;else{var fe=n(c);fe!==null&&F(A,fe.startTime-U),X=!1}return X}finally{p=null,f=K,w=!1}}var V=!1,I=null,C=-1,R=5,S=-1;function k(){return!(t.unstable_now()-S<R)}function D(){if(I!==null){var M=t.unstable_now();S=M;var U=!0;try{U=I(!0,M)}finally{U?N():(V=!1,I=null)}}else V=!1}var N;if(typeof g=="function")N=function(){g(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=D,N=function(){ie.postMessage(null)}}else N=function(){E(D,0)};function J(M){I=M,V||(V=!0,N())}function F(M,U){C=E(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,J(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var K=f;f=U;try{return M()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=f;f=M;try{return U()}finally{f=K}},t.unstable_scheduleCallback=function(M,U,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,M={id:h++,callback:U,priorityLevel:M,startTime:K,expirationTime:Q,sortIndex:-1},K>H?(M.sortIndex=K,e(c,M),n(u)===null&&M===n(c)&&(y?(_(C),C=-1):y=!0,F(A,K-H))):(M.sortIndex=Q,e(u,M),T||w||(T=!0,J(O))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var U=f;return function(){var K=f;f=U;try{return M.apply(this,arguments)}finally{f=K}}}})(Z_);J_.exports=Z_;var nR=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR=v,Tn=nR;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e1=new Set,Pl={};function qi(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(Pl[t]=e,t=0;t<e.length;t++)e1.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=Object.prototype.hasOwnProperty,sR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},v0={};function iR(t){return wp.call(v0,t)?!0:wp.call(g0,t)?!1:sR.test(t)?v0[t]=!0:(g0[t]=!0,!1)}function oR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aR(t,e,n,r){if(e===null||typeof e>"u"||oR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var wg=/[\-:]([a-z])/g;function xg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wg,xg);kt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wg,xg);kt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wg,xg);kt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function _g(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aR(e,n,s,r)&&(n=null),r||s===null?iR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=rR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),_p=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),r1=Symbol.for("react.offscreen"),y0=Symbol.iterator;function Qa(t){return t===null||typeof t!="object"?null:(t=y0&&t[y0]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Ef;function sl(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var Tf=!1;function bf(t,e){if(!t||Tf)return"";Tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sl(t):""}function lR(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case xp:return"Profiler";case Eg:return"StrictMode";case _p:return"Suspense";case Ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n1:return(t.displayName||"Context")+".Consumer";case t1:return(t._context.displayName||"Context")+".Provider";case Tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bg:return e=t.displayName||null,e!==null?e:Tp(t.type)||"Memo";case ls:e=t._payload,t=t._init;try{return Tp(t(e))}catch{}}return null}function uR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tp(e);case 8:return e===Eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cR(t){var e=s1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=cR(t))}function i1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bp(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o1(t,e){e=e.checked,e!=null&&_g(t,"checked",e,!1)}function Sp(t,e){o1(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cp(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cp(t,e,n){(e!=="number"||nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var il=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(il(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function a1(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,u1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dR=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(t){dR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fl[e]=fl[t]})});function c1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fl.hasOwnProperty(t)&&fl[t]?(""+e).trim():e+"px"}function d1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hR=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(t,e){if(e){if(hR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kp=null,Co=null,Io=null;function T0(t){if(t=yu(t)){if(typeof kp!="function")throw Error(q(280));var e=t.stateNode;e&&(e=lh(e),kp(t.stateNode,t.type,e))}}function h1(t){Co?Io?Io.push(t):Io=[t]:Co=t}function f1(){if(Co){var t=Co,e=Io;if(Io=Co=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function p1(t,e){return t(e)}function m1(){}var Sf=!1;function g1(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return p1(t,e,n)}finally{Sf=!1,(Co!==null||Io!==null)&&(m1(),f1())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Dp=!1;if(Fr)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Dp=!1}function fR(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var pl=!1,rd=null,sd=!1,Op=null,pR={onError:function(t){pl=!0,rd=t}};function mR(t,e,n,r,s,i,o,a,u){pl=!1,rd=null,fR.apply(pR,arguments)}function gR(t,e,n,r,s,i,o,a,u){if(mR.apply(this,arguments),pl){if(pl){var c=rd;pl=!1,rd=null}else throw Error(q(198));sd||(sd=!0,Op=c)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b0(t){if(Ki(t)!==t)throw Error(q(188))}function vR(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return b0(s),t;if(i===r)return b0(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function y1(t){return t=vR(t),t!==null?w1(t):null}function w1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w1(t);if(e!==null)return e;t=t.sibling}return null}var x1=Tn.unstable_scheduleCallback,S0=Tn.unstable_cancelCallback,yR=Tn.unstable_shouldYield,wR=Tn.unstable_requestPaint,ut=Tn.unstable_now,xR=Tn.unstable_getCurrentPriorityLevel,Cg=Tn.unstable_ImmediatePriority,_1=Tn.unstable_UserBlockingPriority,id=Tn.unstable_NormalPriority,_R=Tn.unstable_LowPriority,E1=Tn.unstable_IdlePriority,sh=null,mr=null;function ER(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(sh,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:SR,TR=Math.log,bR=Math.LN2;function SR(t){return t>>>=0,t===0?32:31-(TR(t)/bR|0)|0}var tc=64,nc=4194304;function ol(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ol(a):(i&=o,i!==0&&(r=ol(i)))}else o=n&~s,o!==0?r=ol(o):i!==0&&(r=ol(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),s=1<<n,r|=t[n],e&=~s;return r}function CR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=CR(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function jp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T1(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function PR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function b1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S1,Pg,C1,I1,P1,Mp=!1,rc=[],Cs=null,Is=null,Ps=null,Nl=new Map,kl=new Map,cs=[],RR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function Ya(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yu(e),e!==null&&Pg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function AR(t,e,n,r,s){switch(e){case"focusin":return Cs=Ya(Cs,t,e,n,r,s),!0;case"dragenter":return Is=Ya(Is,t,e,n,r,s),!0;case"mouseover":return Ps=Ya(Ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nl.set(i,Ya(Nl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kl.set(i,Ya(kl.get(i)||null,t,e,n,r,s)),!0}return!1}function R1(t){var e=vi(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=v1(n),e!==null){t.blockedOn=e,P1(t.priority,function(){C1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Np=r,n.target.dispatchEvent(r),Np=null}else return e=yu(n),e!==null&&Pg(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){Nc(t)&&n.delete(e)}function NR(){Mp=!1,Cs!==null&&Nc(Cs)&&(Cs=null),Is!==null&&Nc(Is)&&(Is=null),Ps!==null&&Nc(Ps)&&(Ps=null),Nl.forEach(I0),kl.forEach(I0)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,Mp||(Mp=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,NR)))}function Dl(t){function e(s){return Xa(s,t)}if(0<rc.length){Xa(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cs!==null&&Xa(Cs,t),Is!==null&&Xa(Is,t),Ps!==null&&Xa(Ps,t),Nl.forEach(e),kl.forEach(e),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)R1(n),n.blockedOn===null&&cs.shift()}var Po=Gr.ReactCurrentBatchConfig,ad=!0;function kR(t,e,n,r){var s=Oe,i=Po.transition;Po.transition=null;try{Oe=1,Rg(t,e,n,r)}finally{Oe=s,Po.transition=i}}function DR(t,e,n,r){var s=Oe,i=Po.transition;Po.transition=null;try{Oe=4,Rg(t,e,n,r)}finally{Oe=s,Po.transition=i}}function Rg(t,e,n,r){if(ad){var s=Vp(t,e,n,r);if(s===null)Mf(t,e,r,ld,n),C0(t,r);else if(AR(s,t,e,n,r))r.stopPropagation();else if(C0(t,r),e&4&&-1<RR.indexOf(t)){for(;s!==null;){var i=yu(s);if(i!==null&&S1(i),i=Vp(t,e,n,r),i===null&&Mf(t,e,r,ld,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var ld=null;function Vp(t,e,n,r){if(ld=null,t=Sg(r),t=vi(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=v1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function A1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xR()){case Cg:return 1;case _1:return 4;case id:case _R:return 16;case E1:return 536870912;default:return 16}default:return 16}}var Es=null,Ag=null,kc=null;function N1(){if(kc)return kc;var t,e=Ag,n=e.length,r,s="value"in Es?Es.value:Es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return kc=s.slice(t,1<r?1-r:void 0)}function Dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function P0(){return!1}function Cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sc:P0,this.isPropagationStopped=P0,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ng=Cn(ga),vu=Ze({},ga,{view:0,detail:0}),OR=Cn(vu),If,Pf,Ja,ih=Ze({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(If=t.screenX-Ja.screenX,Pf=t.screenY-Ja.screenY):Pf=If=0,Ja=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Pf}}),R0=Cn(ih),jR=Ze({},ih,{dataTransfer:0}),MR=Cn(jR),VR=Ze({},vu,{relatedTarget:0}),Rf=Cn(VR),LR=Ze({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),FR=Cn(LR),$R=Ze({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UR=Cn($R),BR=Ze({},ga,{data:0}),A0=Cn(BR),zR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WR[t])?!!e[t]:!1}function kg(){return qR}var KR=Ze({},vu,{key:function(t){if(t.key){var e=zR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(t){return t.type==="keypress"?Dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QR=Cn(KR),GR=Ze({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=Cn(GR),YR=Ze({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),XR=Cn(YR),JR=Ze({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZR=Cn(JR),eA=Ze({},ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=Cn(eA),nA=[9,13,27,32],Dg=Fr&&"CompositionEvent"in window,ml=null;Fr&&"documentMode"in document&&(ml=document.documentMode);var rA=Fr&&"TextEvent"in window&&!ml,k1=Fr&&(!Dg||ml&&8<ml&&11>=ml),k0=" ",D0=!1;function D1(t,e){switch(t){case"keyup":return nA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mo=!1;function sA(t,e){switch(t){case"compositionend":return O1(e);case"keypress":return e.which!==32?null:(D0=!0,k0);case"textInput":return t=e.data,t===k0&&D0?null:t;default:return null}}function iA(t,e){if(mo)return t==="compositionend"||!Dg&&D1(t,e)?(t=N1(),kc=Ag=Es=null,mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k1&&e.locale!=="ko"?null:e.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oA[t.type]:e==="textarea"}function j1(t,e,n,r){h1(r),e=ud(e,"onChange"),0<e.length&&(n=new Ng("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gl=null,Ol=null;function aA(t){q1(t,0)}function oh(t){var e=yo(t);if(i1(e))return t}function lA(t,e){if(t==="change")return e}var M1=!1;if(Fr){var Af;if(Fr){var Nf="oninput"in document;if(!Nf){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),Nf=typeof j0.oninput=="function"}Af=Nf}else Af=!1;M1=Af&&(!document.documentMode||9<document.documentMode)}function M0(){gl&&(gl.detachEvent("onpropertychange",V1),Ol=gl=null)}function V1(t){if(t.propertyName==="value"&&oh(Ol)){var e=[];j1(e,Ol,t,Sg(t)),g1(aA,e)}}function uA(t,e,n){t==="focusin"?(M0(),gl=e,Ol=n,gl.attachEvent("onpropertychange",V1)):t==="focusout"&&M0()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oh(Ol)}function dA(t,e){if(t==="click")return oh(e)}function hA(t,e){if(t==="input"||t==="change")return oh(e)}function fA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:fA;function jl(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wp.call(e,s)||!Xn(t[s],e[s]))return!1}return!0}function V0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L0(t,e){var n=V0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function L1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function F1(){for(var t=window,e=nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nd(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pA(t){var e=F1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L1(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=L0(n,i);var o=L0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mA=Fr&&"documentMode"in document&&11>=document.documentMode,go=null,Lp=null,vl=null,Fp=!1;function F0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||go==null||go!==nd(r)||(r=go,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&jl(vl,r)||(vl=r,r=ud(Lp,"onSelect"),0<r.length&&(e=new Ng("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},kf={},$1={};Fr&&($1=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ah(t){if(kf[t])return kf[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $1)return kf[t]=e[n];return t}var U1=ah("animationend"),B1=ah("animationiteration"),z1=ah("animationstart"),H1=ah("transitionend"),W1=new Map,$0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){W1.set(t,e),qi(e,[t])}for(var Df=0;Df<$0.length;Df++){var Of=$0[Df],gA=Of.toLowerCase(),vA=Of[0].toUpperCase()+Of.slice(1);ei(gA,"on"+vA)}ei(U1,"onAnimationEnd");ei(B1,"onAnimationIteration");ei(z1,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(H1,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function U0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gR(r,e,void 0,t),t.currentTarget=null}function q1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;U0(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;U0(s,a,c),i=u}}}if(sd)throw t=Op,sd=!1,Op=null,t}function ze(t,e){var n=e[Hp];n===void 0&&(n=e[Hp]=new Set);var r=t+"__bubble";n.has(r)||(K1(e,t,2,!1),n.add(r))}function jf(t,e,n){var r=0;e&&(r|=4),K1(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[oc]){t[oc]=!0,e1.forEach(function(n){n!=="selectionchange"&&(yA.has(n)||jf(n,!1,t),jf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,jf("selectionchange",!1,e))}}function K1(t,e,n,r){switch(A1(e)){case 1:var s=kR;break;case 4:s=DR;break;default:s=Rg}n=s.bind(null,e,n,t),s=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vi(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}g1(function(){var c=i,h=Sg(n),p=[];e:{var f=W1.get(t);if(f!==void 0){var w=Ng,T=t;switch(t){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":w=QR;break;case"focusin":T="focus",w=Rf;break;case"focusout":T="blur",w=Rf;break;case"beforeblur":case"afterblur":w=Rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=XR;break;case U1:case B1:case z1:w=FR;break;case H1:w=ZR;break;case"scroll":w=OR;break;case"wheel":w=tA;break;case"copy":case"cut":case"paste":w=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=N0}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var g=c,b;g!==null;){b=g;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,_!==null&&(A=Al(g,_),A!=null&&y.push(Vl(g,A,b)))),E)break;g=g.return}0<y.length&&(f=new w(f,T,null,n,h),p.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&n!==Np&&(T=n.relatedTarget||n.fromElement)&&(vi(T)||T[$r]))break e;if((w||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=c,T=T?vi(T):null,T!==null&&(E=Ki(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=c),w!==T)){if(y=R0,A="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=N0,A="onPointerLeave",_="onPointerEnter",g="pointer"),E=w==null?f:yo(w),b=T==null?f:yo(T),f=new y(A,g+"leave",w,n,h),f.target=E,f.relatedTarget=b,A=null,vi(h)===c&&(y=new y(_,g+"enter",T,n,h),y.target=b,y.relatedTarget=E,A=y),E=A,w&&T)t:{for(y=w,_=T,g=0,b=y;b;b=so(b))g++;for(b=0,A=_;A;A=so(A))b++;for(;0<g-b;)y=so(y),g--;for(;0<b-g;)_=so(_),b--;for(;g--;){if(y===_||_!==null&&y===_.alternate)break t;y=so(y),_=so(_)}y=null}else y=null;w!==null&&B0(p,f,w,y,!1),T!==null&&E!==null&&B0(p,E,T,y,!0)}}e:{if(f=c?yo(c):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var O=lA;else if(O0(f))if(M1)O=hA;else{O=cA;var V=uA}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=dA);if(O&&(O=O(t,c))){j1(p,O,n,h);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Cp(f,"number",f.value)}switch(V=c?yo(c):window,t){case"focusin":(O0(V)||V.contentEditable==="true")&&(go=V,Lp=c,vl=null);break;case"focusout":vl=Lp=go=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,F0(p,n,h);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":F0(p,n,h)}var I;if(Dg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else mo?D1(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(k1&&n.locale!=="ko"&&(mo||C!=="onCompositionStart"?C==="onCompositionEnd"&&mo&&(I=N1()):(Es=h,Ag="value"in Es?Es.value:Es.textContent,mo=!0)),V=ud(c,C),0<V.length&&(C=new A0(C,t,null,n,h),p.push({event:C,listeners:V}),I?C.data=I:(I=O1(n),I!==null&&(C.data=I)))),(I=rA?sA(t,n):iA(t,n))&&(c=ud(c,"onBeforeInput"),0<c.length&&(h=new A0("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=I))}q1(p,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Al(t,n),i!=null&&r.unshift(Vl(t,i,s)),i=Al(t,e),i!=null&&r.push(Vl(t,i,s))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Al(n,i),u!=null&&o.unshift(Vl(n,u,a))):s||(u=Al(n,i),u!=null&&o.push(Vl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(wA,`
`).replace(xA,"")}function ac(t,e,n){if(e=z0(e),z0(t)!==e&&n)throw Error(q(425))}function cd(){}var $p=null,Up=null;function Bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zp=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(TA)}:zp;function TA(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dl(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),cr="__reactFiber$"+va,Ll="__reactProps$"+va,$r="__reactContainer$"+va,Hp="__reactEvents$"+va,bA="__reactListeners$"+va,SA="__reactHandles$"+va;function vi(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[cr])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function yu(t){return t=t[cr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function lh(t){return t[Ll]||null}var Wp=[],wo=-1;function ti(t){return{current:t}}function He(t){0>wo||(t.current=Wp[wo],Wp[wo]=null,wo--)}function $e(t,e){wo++,Wp[wo]=t.current,t.current=e}var Bs={},Ht=ti(Bs),cn=ti(!1),Di=Bs;function Xo(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function dd(){He(cn),He(Ht)}function q0(t,e,n){if(Ht.current!==Bs)throw Error(q(168));$e(Ht,e),$e(cn,n)}function Q1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,uR(t)||"Unknown",s));return Ze({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Di=Ht.current,$e(Ht,t),$e(cn,cn.current),!0}function K0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Q1(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,He(cn),He(Ht),$e(Ht,t)):He(cn),$e(cn,n)}var kr=null,uh=!1,Lf=!1;function G1(t){kr===null?kr=[t]:kr.push(t)}function CA(t){uh=!0,G1(t)}function ni(){if(!Lf&&kr!==null){Lf=!0;var t=0,e=Oe;try{var n=kr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,uh=!1}catch(s){throw kr!==null&&(kr=kr.slice(t+1)),x1(Cg,ni),s}finally{Oe=e,Lf=!1}}return null}var xo=[],_o=0,fd=null,pd=0,Rn=[],An=0,Oi=null,jr=1,Mr="";function fi(t,e){xo[_o++]=pd,xo[_o++]=fd,fd=t,pd=e}function Y1(t,e,n){Rn[An++]=jr,Rn[An++]=Mr,Rn[An++]=Oi,Oi=t;var r=jr;t=Mr;var s=32-Qn(r)-1;r&=~(1<<s),n+=1;var i=32-Qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jr=1<<32-Qn(e)+s|n<<s|r,Mr=i+t}else jr=1<<i|n<<s|r,Mr=t}function jg(t){t.return!==null&&(fi(t,1),Y1(t,1,0))}function Mg(t){for(;t===fd;)fd=xo[--_o],xo[_o]=null,pd=xo[--_o],xo[_o]=null;for(;t===Oi;)Oi=Rn[--An],Rn[An]=null,Mr=Rn[--An],Rn[An]=null,jr=Rn[--An],Rn[An]=null}var _n=null,wn=null,Ge=!1,Wn=null;function X1(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,wn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:jr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,wn=null,!0):!1;default:return!1}}function qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(Ge){var e=wn;if(e){var n=e;if(!Q0(t,e)){if(qp(t))throw Error(q(418));e=Rs(n.nextSibling);var r=_n;e&&Q0(t,e)?X1(r,n):(t.flags=t.flags&-4097|2,Ge=!1,_n=t)}}else{if(qp(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ge=!1,_n=t}}}function G0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function lc(t){if(t!==_n)return!1;if(!Ge)return G0(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bp(t.type,t.memoizedProps)),e&&(e=wn)){if(qp(t))throw J1(),Error(q(418));for(;e;)X1(t,e),e=Rs(e.nextSibling)}if(G0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=_n?Rs(t.stateNode.nextSibling):null;return!0}function J1(){for(var t=wn;t;)t=Rs(t.nextSibling)}function Jo(){wn=_n=null,Ge=!1}function Vg(t){Wn===null?Wn=[t]:Wn.push(t)}var IA=Gr.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function uc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function Z1(t){function e(_,g){if(t){var b=_.deletions;b===null?(_.deletions=[g],_.flags|=16):b.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function s(_,g){return _=Ds(_,g),_.index=0,_.sibling=null,_}function i(_,g,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<g?(_.flags|=2,g):b):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,b,A){return g===null||g.tag!==6?(g=Wf(b,_.mode,A),g.return=_,g):(g=s(g,b),g.return=_,g)}function u(_,g,b,A){var O=b.type;return O===po?h(_,g,b.props.children,A,b.key):g!==null&&(g.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ls&&Y0(O)===g.type)?(A=s(g,b.props),A.ref=Za(_,g,b),A.return=_,A):(A=$c(b.type,b.key,b.props,null,_.mode,A),A.ref=Za(_,g,b),A.return=_,A)}function c(_,g,b,A){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=qf(b,_.mode,A),g.return=_,g):(g=s(g,b.children||[]),g.return=_,g)}function h(_,g,b,A,O){return g===null||g.tag!==7?(g=Ni(b,_.mode,A,O),g.return=_,g):(g=s(g,b),g.return=_,g)}function p(_,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Wf(""+g,_.mode,b),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ju:return b=$c(g.type,g.key,g.props,null,_.mode,b),b.ref=Za(_,null,g),b.return=_,b;case fo:return g=qf(g,_.mode,b),g.return=_,g;case ls:var A=g._init;return p(_,A(g._payload),b)}if(il(g)||Qa(g))return g=Ni(g,_.mode,b,null),g.return=_,g;uc(_,g)}return null}function f(_,g,b,A){var O=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(_,g,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:return b.key===O?u(_,g,b,A):null;case fo:return b.key===O?c(_,g,b,A):null;case ls:return O=b._init,f(_,g,O(b._payload),A)}if(il(b)||Qa(b))return O!==null?null:h(_,g,b,A,null);uc(_,b)}return null}function w(_,g,b,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(b)||null,a(g,_,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ju:return _=_.get(A.key===null?b:A.key)||null,u(g,_,A,O);case fo:return _=_.get(A.key===null?b:A.key)||null,c(g,_,A,O);case ls:var V=A._init;return w(_,g,b,V(A._payload),O)}if(il(A)||Qa(A))return _=_.get(b)||null,h(g,_,A,O,null);uc(g,A)}return null}function T(_,g,b,A){for(var O=null,V=null,I=g,C=g=0,R=null;I!==null&&C<b.length;C++){I.index>C?(R=I,I=null):R=I.sibling;var S=f(_,I,b[C],A);if(S===null){I===null&&(I=R);break}t&&I&&S.alternate===null&&e(_,I),g=i(S,g,C),V===null?O=S:V.sibling=S,V=S,I=R}if(C===b.length)return n(_,I),Ge&&fi(_,C),O;if(I===null){for(;C<b.length;C++)I=p(_,b[C],A),I!==null&&(g=i(I,g,C),V===null?O=I:V.sibling=I,V=I);return Ge&&fi(_,C),O}for(I=r(_,I);C<b.length;C++)R=w(I,_,C,b[C],A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?C:R.key),g=i(R,g,C),V===null?O=R:V.sibling=R,V=R);return t&&I.forEach(function(k){return e(_,k)}),Ge&&fi(_,C),O}function y(_,g,b,A){var O=Qa(b);if(typeof O!="function")throw Error(q(150));if(b=O.call(b),b==null)throw Error(q(151));for(var V=O=null,I=g,C=g=0,R=null,S=b.next();I!==null&&!S.done;C++,S=b.next()){I.index>C?(R=I,I=null):R=I.sibling;var k=f(_,I,S.value,A);if(k===null){I===null&&(I=R);break}t&&I&&k.alternate===null&&e(_,I),g=i(k,g,C),V===null?O=k:V.sibling=k,V=k,I=R}if(S.done)return n(_,I),Ge&&fi(_,C),O;if(I===null){for(;!S.done;C++,S=b.next())S=p(_,S.value,A),S!==null&&(g=i(S,g,C),V===null?O=S:V.sibling=S,V=S);return Ge&&fi(_,C),O}for(I=r(_,I);!S.done;C++,S=b.next())S=w(I,_,C,S.value,A),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?C:S.key),g=i(S,g,C),V===null?O=S:V.sibling=S,V=S);return t&&I.forEach(function(D){return e(_,D)}),Ge&&fi(_,C),O}function E(_,g,b,A){if(typeof b=="object"&&b!==null&&b.type===po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:e:{for(var O=b.key,V=g;V!==null;){if(V.key===O){if(O=b.type,O===po){if(V.tag===7){n(_,V.sibling),g=s(V,b.props.children),g.return=_,_=g;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ls&&Y0(O)===V.type){n(_,V.sibling),g=s(V,b.props),g.ref=Za(_,V,b),g.return=_,_=g;break e}n(_,V);break}else e(_,V);V=V.sibling}b.type===po?(g=Ni(b.props.children,_.mode,A,b.key),g.return=_,_=g):(A=$c(b.type,b.key,b.props,null,_.mode,A),A.ref=Za(_,g,b),A.return=_,_=A)}return o(_);case fo:e:{for(V=b.key;g!==null;){if(g.key===V)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(_,g.sibling),g=s(g,b.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=qf(b,_.mode,A),g.return=_,_=g}return o(_);case ls:return V=b._init,E(_,g,V(b._payload),A)}if(il(b))return T(_,g,b,A);if(Qa(b))return y(_,g,b,A);uc(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(_,g.sibling),g=s(g,b),g.return=_,_=g):(n(_,g),g=Wf(b,_.mode,A),g.return=_,_=g),o(_)):n(_,g)}return E}var Zo=Z1(!0),eE=Z1(!1),md=ti(null),gd=null,Eo=null,Lg=null;function Fg(){Lg=Eo=gd=null}function $g(t){var e=md.current;He(md),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){gd=t,Lg=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Lg!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(gd===null)throw Error(q(308));Eo=t,gd.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var yi=null;function Ug(t){yi===null?yi=[t]:yi.push(t)}function tE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ug(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function Bg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,Ug(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ig(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var s=t.updateQueue;us=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,h=c=u=null,a=i;do{var f=a.lane,w=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,y=a;switch(f=e,w=n,y.tag){case 1:if(T=y.payload,typeof T=="function"){p=T.call(w,p,f);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=y.payload,f=typeof T=="function"?T.call(w,p,f):T,f==null)break e;p=Ze({},p,f);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else w={eventTime:w,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=w,u=p):h=h.next=w,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=p}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var wu={},gr=ti(wu),Fl=ti(wu),$l=ti(wu);function wi(t){if(t===wu)throw Error(q(174));return t}function zg(t,e){switch($e($l,e),$e(Fl,t),$e(gr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pp(e,t)}He(gr),$e(gr,e)}function ea(){He(gr),He(Fl),He($l)}function rE(t){wi($l.current);var e=wi(gr.current),n=Pp(e,t.type);e!==n&&($e(Fl,t),$e(gr,n))}function Hg(t){Fl.current===t&&(He(gr),He(Fl))}var Xe=ti(0);function yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ff=[];function Wg(){for(var t=0;t<Ff.length;t++)Ff[t]._workInProgressVersionPrimary=null;Ff.length=0}var jc=Gr.ReactCurrentDispatcher,$f=Gr.ReactCurrentBatchConfig,ji=0,Je=null,yt=null,bt=null,wd=!1,yl=!1,Ul=0,PA=0;function Vt(){throw Error(q(321))}function qg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function Kg(t,e,n,r,s,i){if(ji=i,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?kA:DA,t=n(r,s),yl){i=0;do{if(yl=!1,Ul=0,25<=i)throw Error(q(301));i+=1,bt=yt=null,e.updateQueue=null,jc.current=OA,t=n(r,s)}while(yl)}if(jc.current=xd,e=yt!==null&&yt.next!==null,ji=0,bt=yt=Je=null,wd=!1,e)throw Error(q(300));return t}function Qg(){var t=Ul!==0;return Ul=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Je.memoizedState=bt=t:bt=bt.next=t,bt}function Mn(){if(yt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=bt===null?Je.memoizedState:bt.next;if(e!==null)bt=e,yt=t;else{if(t===null)throw Error(q(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},bt===null?Je.memoizedState=bt=t:bt=bt.next=t}return bt}function Bl(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=Mn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((ji&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Je.lanes|=h,Mi|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Xn(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Je.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Mn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xn(i,e.memoizedState)||(un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sE(){}function iE(t,e){var n=Je,r=Mn(),s=e(),i=!Xn(r.memoizedState,s);if(i&&(r.memoizedState=s,un=!0),r=r.queue,Gg(lE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,zl(9,aE.bind(null,n,r,s,e),void 0,null),St===null)throw Error(q(349));ji&30||oE(n,e,s)}return s}function oE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aE(t,e,n,r){e.value=n,e.getSnapshot=r,uE(e)&&cE(t)}function lE(t,e,n){return n(function(){uE(e)&&cE(t)})}function uE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function cE(t){var e=Ur(t,1);e!==null&&Gn(e,t,1,-1)}function Z0(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=NA.bind(null,Je,t),[e.memoizedState,t]}function zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dE(){return Mn().memoizedState}function Mc(t,e,n,r){var s=ir();Je.flags|=t,s.memoizedState=zl(1|e,n,void 0,r===void 0?null:r)}function ch(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&qg(r,o.deps)){s.memoizedState=zl(e,n,i,r);return}}Je.flags|=t,s.memoizedState=zl(1|e,n,i,r)}function ew(t,e){return Mc(8390656,8,t,e)}function Gg(t,e){return ch(2048,8,t,e)}function hE(t,e){return ch(4,2,t,e)}function fE(t,e){return ch(4,4,t,e)}function pE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mE(t,e,n){return n=n!=null?n.concat([t]):null,ch(4,4,pE.bind(null,e,t),n)}function Yg(){}function gE(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vE(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yE(t,e,n){return ji&21?(Xn(n,e)||(n=T1(),Je.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function RA(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=$f.transition;$f.transition={};try{t(!1),e()}finally{Oe=n,$f.transition=r}}function wE(){return Mn().memoizedState}function AA(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xE(t))_E(e,n);else if(n=tE(t,e,n,r),n!==null){var s=Jt();Gn(n,t,r,s),EE(n,e,r)}}function NA(t,e,n){var r=ks(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xE(t))_E(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Xn(a,o)){var u=e.interleaved;u===null?(s.next=s,Ug(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=tE(t,e,s,r),n!==null&&(s=Jt(),Gn(n,t,r,s),EE(n,e,r))}}function xE(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function _E(t,e){yl=wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ig(t,n)}}var xd={readContext:jn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},kA={readContext:jn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,pE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AA.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:Yg,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=RA.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,s=ir();if(Ge){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),St===null)throw Error(q(349));ji&30||oE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ew(lE.bind(null,r,i,t),[t]),r.flags|=2048,zl(9,aE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ir(),e=St.identifierPrefix;if(Ge){var n=Mr,r=jr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DA={readContext:jn,useCallback:gE,useContext:jn,useEffect:Gg,useImperativeHandle:mE,useInsertionEffect:hE,useLayoutEffect:fE,useMemo:vE,useReducer:Uf,useRef:dE,useState:function(){return Uf(Bl)},useDebugValue:Yg,useDeferredValue:function(t){var e=Mn();return yE(e,yt.memoizedState,t)},useTransition:function(){var t=Uf(Bl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:sE,useSyncExternalStore:iE,useId:wE,unstable_isNewReconciler:!1},OA={readContext:jn,useCallback:gE,useContext:jn,useEffect:Gg,useImperativeHandle:mE,useInsertionEffect:hE,useLayoutEffect:fE,useMemo:vE,useReducer:Bf,useRef:dE,useState:function(){return Bf(Bl)},useDebugValue:Yg,useDeferredValue:function(t){var e=Mn();return yt===null?e.memoizedState=t:yE(e,yt.memoizedState,t)},useTransition:function(){var t=Bf(Bl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:sE,useSyncExternalStore:iE,useId:wE,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dh={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ks(t),i=Vr(r,s);i.payload=e,n!=null&&(i.callback=n),e=As(t,i,s),e!==null&&(Gn(e,t,s,r),Oc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ks(t),i=Vr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=As(t,i,s),e!==null&&(Gn(e,t,s,r),Oc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ks(t),s=Vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=As(t,s,r),e!==null&&(Gn(e,t,r,n),Oc(e,t,r))}};function tw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(s,i):!0}function TE(t,e,n){var r=!1,s=Bs,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=dn(e)?Di:Ht.current,r=e.contextTypes,i=(r=r!=null)?Xo(t,s):Bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dh.enqueueReplaceState(e,e.state,null)}function Yp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Bg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=dn(e)?Di:Ht.current,s.context=Xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dh.enqueueReplaceState(s,s.state,null),vd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ta(t,e){try{var n="",r=e;do n+=lR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jA=typeof WeakMap=="function"?WeakMap:Map;function bE(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ed||(Ed=!0,am=r),Xp(t,e)},n}function SE(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xp(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=GA.bind(null,t,e,n),e.then(t,t))}function sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var MA=Gr.ReactCurrentOwner,un=!1;function Yt(t,e,n,r){e.child=t===null?eE(e,null,n,r):Zo(e,t.child,n,r)}function ow(t,e,n,r,s){n=n.render;var i=e.ref;return Ro(e,s),r=Kg(t,e,n,r,i,s),n=Qg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(Ge&&n&&jg(e),e.flags|=1,Yt(t,e,r,s),e.child)}function aw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!sv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,CE(t,e,i,r,s)):(t=$c(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(o,r)&&t.ref===e.ref)return Br(t,e,s)}return e.flags|=1,t=Ds(i,r),t.ref=e.ref,t.return=e,e.child=t}function CE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jl(i,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Br(t,e,s)}return Jp(t,e,n,r,s)}function IE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(bo,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(bo,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(bo,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(bo,mn),mn|=r;return Yt(t,e,s,n),e.child}function PE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,n,r,s){var i=dn(n)?Di:Ht.current;return i=Xo(e,i),Ro(e,s),n=Kg(t,e,n,r,i,s),r=Qg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(Ge&&r&&jg(e),e.flags|=1,Yt(t,e,n,s),e.child)}function lw(t,e,n,r,s){if(dn(n)){var i=!0;hd(e)}else i=!1;if(Ro(e,s),e.stateNode===null)Vc(t,e),TE(e,n,r),Yp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=dn(n)?Di:Ht.current,c=Xo(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&nw(e,o,r,c),us=!1;var f=e.memoizedState;o.state=f,vd(e,r,o,s),u=e.memoizedState,a!==r||f!==u||cn.current||us?(typeof h=="function"&&(Gp(e,n,h,r),u=e.memoizedState),(a=us||tw(e,n,a,r,f,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Un(e.type,a),o.props=c,p=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=jn(u):(u=dn(n)?Di:Ht.current,u=Xo(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==u)&&nw(e,o,r,u),us=!1,f=e.memoizedState,o.state=f,vd(e,r,o,s);var T=e.memoizedState;a!==p||f!==T||cn.current||us?(typeof w=="function"&&(Gp(e,n,w,r),T=e.memoizedState),(c=us||tw(e,n,c,r,f,T,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zp(t,e,n,r,i,s)}function Zp(t,e,n,r,s,i){PE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&K0(e,n,!1),Br(t,e,i);r=e.stateNode,MA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zo(e,t.child,null,i),e.child=Zo(e,null,a,i)):Yt(t,e,a,i),e.memoizedState=r.state,s&&K0(e,n,!0),e.child}function RE(t){var e=t.stateNode;e.pendingContext?q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q0(t,e.context,!1),zg(t,e.containerInfo)}function uw(t,e,n,r,s){return Jo(),Vg(s),e.flags|=256,Yt(t,e,n,r),e.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function AE(t,e,n){var r=e.pendingProps,s=Xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(Xe,s&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ph(o,r,0,null),t=Ni(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tm(n),e.memoizedState=em,t):Xg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ds(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ds(a,i):(i=Ni(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=em,r}return i=t.child,t=i.sibling,r=Ds(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xg(t,e){return e=ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&Vg(r),Zo(e,t.child,null,n),t=Xg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error(q(422))),cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ph({mode:"visible",children:r.children},s,0,null),i=Ni(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zo(e,t.child,null,o),e.child.memoizedState=tm(o),e.memoizedState=em,i);if(!(e.mode&1))return cc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=zf(i,r,void 0),cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,un||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(t,s),Gn(r,t,s,-1))}return rv(),r=zf(Error(q(421))),cc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=Rs(s.nextSibling),_n=e,Ge=!0,Wn=null,t!==null&&(Rn[An++]=jr,Rn[An++]=Mr,Rn[An++]=Oi,jr=t.id,Mr=t.overflow,Oi=e),e=Xg(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function Hf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hf(e,!0,n,null,i);break;case"together":Hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LA(t,e,n){switch(e.tag){case 3:RE(e),Jo();break;case 5:rE(e);break;case 1:dn(e.type)&&hd(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(md,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?AE(t,e,n):($e(Xe,Xe.current&1),t=Br(t,e,n),t!==null?t.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,IE(t,e,n)}return Br(t,e,n)}var kE,nm,DE,OE;kE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nm=function(){};DE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wi(gr.current);var i=null;switch(n){case"input":s=bp(t,s),r=bp(t,r),i=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),i=[];break;case"textarea":s=Ip(t,s),r=Ip(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cd)}Rp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ze("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};OE=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FA(t,e,n){var r=e.pendingProps;switch(Mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return dn(e.type)&&dd(),Lt(e),null;case 3:return r=e.stateNode,ea(),He(cn),He(Ht),Wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wn!==null&&(cm(Wn),Wn=null))),nm(t,e),Lt(e),null;case 5:Hg(e);var s=wi($l.current);if(n=e.type,t!==null&&e.stateNode!=null)DE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Lt(e),null}if(t=wi(gr.current),lc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cr]=e,r[Ll]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)ze(al[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":w0(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":_0(r,i),ze("invalid",r)}Rp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),s=["children",""+a]):Pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Zu(r),x0(r,i,!0);break;case"textarea":Zu(r),E0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[Ll]=r,kE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ap(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<al.length;s++)ze(al[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":w0(t,r),s=bp(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),ze("invalid",t);break;case"textarea":_0(t,r),s=Ip(t,r),ze("invalid",t);break;default:s=r}Rp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?d1(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&u1(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Rl(t,u):typeof u=="number"&&Rl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ze("scroll",t):u!=null&&_g(t,i,u,o))}switch(n){case"input":Zu(t),x0(t,r,!1);break;case"textarea":Zu(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)OE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=wi($l.current),wi(gr.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(i=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Lt(e),null;case 13:if(He(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&wn!==null&&e.mode&1&&!(e.flags&128))J1(),Jo(),e.flags|=98560,i=!1;else if(i=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[cr]=e}else Jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else Wn!==null&&(cm(Wn),Wn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?xt===0&&(xt=3):rv())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return ea(),nm(t,e),t===null&&Ml(e.stateNode.containerInfo),Lt(e),null;case 10:return $g(e.type._context),Lt(e),null;case 17:return dn(e.type)&&dd(),Lt(e),null;case 19:if(He(Xe),i=e.memoizedState,i===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)el(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yd(t),o!==null){for(e.flags|=128,el(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>na&&(e.flags|=128,r=!0,el(i,!1),e.lanes=4194304)}else{if(!r)if(t=yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Lt(e),null}else 2*ut()-i.renderingStartTime>na&&n!==1073741824&&(e.flags|=128,r=!0,el(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function $A(t,e){switch(Mg(e),e.tag){case 1:return dn(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ea(),He(cn),He(Ht),Wg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hg(e),null;case 13:if(He(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Xe),null;case 4:return ea(),null;case 10:return $g(e.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var dc=!1,Bt=!1,UA=typeof WeakSet=="function"?WeakSet:Set,re=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function rm(t,e,n){try{n()}catch(r){st(t,e,r)}}var dw=!1;function BA(t,e){if($p=ad,t=F1(),Og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,p=t,f=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)f=p,p=w;for(;;){if(p===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(u=o),(w=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:t,selectionRange:n},ad=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var y=T.memoizedProps,E=T.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Un(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(A){st(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return T=dw,dw=!1,T}function wl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rm(e,n,i)}s=s.next}while(s!==r)}}function hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jE(t){var e=t.alternate;e!==null&&(t.alternate=null,jE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Ll],delete e[Hp],delete e[bA],delete e[SA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ME(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ME(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cd));else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}function om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(om(t,e,n),t=t.sibling;t!==null;)om(t,e,n),t=t.sibling}var Pt=null,Hn=!1;function ns(t,e,n){for(n=n.child;n!==null;)VE(t,e,n),n=n.sibling}function VE(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:Bt||To(n,e);case 6:var r=Pt,s=Hn;Pt=null,ns(t,e,n),Pt=r,Hn=s,Pt!==null&&(Hn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Hn?(t=Pt,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),Dl(t)):Vf(Pt,n.stateNode));break;case 4:r=Pt,s=Hn,Pt=n.stateNode.containerInfo,Hn=!0,ns(t,e,n),Pt=r,Hn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rm(n,e,o),s=s.next}while(s!==r)}ns(t,e,n);break;case 1:if(!Bt&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ns(t,e,n),Bt=r):ns(t,e,n);break;default:ns(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UA),e.forEach(function(r){var s=XA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Hn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Hn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(Pt===null)throw Error(q(160));VE(i,o,s),Pt=null,Hn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){st(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LE(e,t),e=e.sibling}function LE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),sr(t),r&4){try{wl(3,t,t.return),hh(3,t)}catch(y){st(t,t.return,y)}try{wl(5,t,t.return)}catch(y){st(t,t.return,y)}}break;case 1:Fn(e,t),sr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Fn(e,t),sr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Rl(s,"")}catch(y){st(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&o1(s,i),Ap(a,o);var c=Ap(a,i);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?d1(s,p):h==="dangerouslySetInnerHTML"?u1(s,p):h==="children"?Rl(s,p):_g(s,h,p,c)}switch(a){case"input":Sp(s,i);break;case"textarea":a1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?So(s,!!i.multiple,w,!1):f!==!!i.multiple&&(i.defaultValue!=null?So(s,!!i.multiple,i.defaultValue,!0):So(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ll]=i}catch(y){st(t,t.return,y)}}break;case 6:if(Fn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){st(t,t.return,y)}}break;case 3:if(Fn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(y){st(t,t.return,y)}break;case 4:Fn(e,t),sr(t);break;case 13:Fn(e,t),sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ev=ut())),r&4&&fw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(c=Bt)||h,Fn(e,t),Bt=c):Fn(e,t),sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(p=re=h;re!==null;){switch(f=re,w=f.child,f.tag){case 0:case 11:case 14:case 15:wl(4,f,f.return);break;case 1:To(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(y){st(r,n,y)}}break;case 5:To(f,f.return);break;case 22:if(f.memoizedState!==null){mw(p);continue}}w!==null?(w.return=f,re=w):mw(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=c1("display",o))}catch(y){st(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(y){st(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Fn(e,t),sr(t),r&4&&fw(t);break;case 21:break;default:Fn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ME(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rl(s,""),r.flags&=-33);var i=hw(t);om(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hw(t);im(t,a,o);break;default:throw Error(q(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zA(t,e,n){re=t,FE(t)}function FE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dc;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Bt;a=dc;var c=Bt;if(dc=o,(Bt=u)&&!c)for(re=s;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?gw(s):u!==null?(u.return=o,re=u):gw(s);for(;i!==null;)re=i,FE(i),i=i.sibling;re=s,dc=a,Bt=c}pw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):pw(t)}}function pw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&J0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Dl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Bt||e.flags&512&&sm(e)}catch(f){st(e,e.return,f)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function mw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function gw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hh(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){st(e,s,u)}}var i=e.return;try{sm(e)}catch(u){st(e,i,u)}break;case 5:var o=e.return;try{sm(e)}catch(u){st(e,o,u)}}}catch(u){st(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var HA=Math.ceil,_d=Gr.ReactCurrentDispatcher,Jg=Gr.ReactCurrentOwner,On=Gr.ReactCurrentBatchConfig,Re=0,St=null,pt=null,Nt=0,mn=0,bo=ti(0),xt=0,Hl=null,Mi=0,fh=0,Zg=0,xl=null,on=null,ev=0,na=1/0,Nr=null,Ed=!1,am=null,Ns=null,hc=!1,Ts=null,Td=0,_l=0,lm=null,Lc=-1,Fc=0;function Jt(){return Re&6?ut():Lc!==-1?Lc:Lc=ut()}function ks(t){return t.mode&1?Re&2&&Nt!==0?Nt&-Nt:IA.transition!==null?(Fc===0&&(Fc=T1()),Fc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:A1(t.type)),t):1}function Gn(t,e,n,r){if(50<_l)throw _l=0,lm=null,Error(q(185));gu(t,n,r),(!(Re&2)||t!==St)&&(t===St&&(!(Re&2)&&(fh|=n),xt===4&&ds(t,Nt)),hn(t,r),n===1&&Re===0&&!(e.mode&1)&&(na=ut()+500,uh&&ni()))}function hn(t,e){var n=t.callbackNode;IR(t,e);var r=od(t,t===St?Nt:0);if(r===0)n!==null&&S0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&S0(n),e===1)t.tag===0?CA(vw.bind(null,t)):G1(vw.bind(null,t)),EA(function(){!(Re&6)&&ni()}),n=null;else{switch(b1(r)){case 1:n=Cg;break;case 4:n=_1;break;case 16:n=id;break;case 536870912:n=E1;break;default:n=id}n=KE(n,$E.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $E(t,e){if(Lc=-1,Fc=0,Re&6)throw Error(q(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=od(t,t===St?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bd(t,r);else{e=r;var s=Re;Re|=2;var i=BE();(St!==t||Nt!==e)&&(Nr=null,na=ut()+500,Ai(t,e));do try{KA();break}catch(a){UE(t,a)}while(!0);Fg(),_d.current=i,Re=s,pt!==null?e=0:(St=null,Nt=0,e=xt)}if(e!==0){if(e===2&&(s=jp(t),s!==0&&(r=s,e=um(t,s))),e===1)throw n=Hl,Ai(t,0),ds(t,r),hn(t,ut()),n;if(e===6)ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!WA(s)&&(e=bd(t,r),e===2&&(i=jp(t),i!==0&&(r=i,e=um(t,i))),e===1))throw n=Hl,Ai(t,0),ds(t,r),hn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:pi(t,on,Nr);break;case 3:if(ds(t,r),(r&130023424)===r&&(e=ev+500-ut(),10<e)){if(od(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zp(pi.bind(null,t,on,Nr),e);break}pi(t,on,Nr);break;case 4:if(ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HA(r/1960))-r,10<r){t.timeoutHandle=zp(pi.bind(null,t,on,Nr),r);break}pi(t,on,Nr);break;case 5:pi(t,on,Nr);break;default:throw Error(q(329))}}}return hn(t,ut()),t.callbackNode===n?$E.bind(null,t):null}function um(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=bd(t,e),t!==2&&(e=on,on=n,e!==null&&cm(e)),t}function cm(t){on===null?on=t:on.push.apply(on,t)}function WA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ds(t,e){for(e&=~Zg,e&=~fh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function vw(t){if(Re&6)throw Error(q(327));Ao();var e=od(t,0);if(!(e&1))return hn(t,ut()),null;var n=bd(t,e);if(t.tag!==0&&n===2){var r=jp(t);r!==0&&(e=r,n=um(t,r))}if(n===1)throw n=Hl,Ai(t,0),ds(t,e),hn(t,ut()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,on,Nr),hn(t,ut()),null}function tv(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(na=ut()+500,uh&&ni())}}function Vi(t){Ts!==null&&Ts.tag===0&&!(Re&6)&&Ao();var e=Re;Re|=1;var n=On.transition,r=Oe;try{if(On.transition=null,Oe=1,t)return t()}finally{Oe=r,On.transition=n,Re=e,!(Re&6)&&ni()}}function nv(){mn=bo.current,He(bo)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_A(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dd();break;case 3:ea(),He(cn),He(Ht),Wg();break;case 5:Hg(r);break;case 4:ea();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:$g(r.type._context);break;case 22:case 23:nv()}n=n.return}if(St=t,pt=t=Ds(t.current,null),Nt=mn=e,xt=0,Hl=null,Zg=fh=Mi=0,on=xl=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yi=null}return t}function UE(t,e){do{var n=pt;try{if(Fg(),jc.current=xd,wd){for(var r=Je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wd=!1}if(ji=0,bt=yt=Je=null,yl=!1,Ul=0,Jg.current=null,n===null||n.return===null){xt=1,Hl=e,pt=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Nt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=sw(o);if(w!==null){w.flags&=-257,iw(w,o,a,i,e),w.mode&1&&rw(i,c,e),e=w,u=c;var T=e.updateQueue;if(T===null){var y=new Set;y.add(u),e.updateQueue=y}else T.add(u);break e}else{if(!(e&1)){rw(i,c,e),rv();break e}u=Error(q(426))}}else if(Ge&&a.mode&1){var E=sw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),iw(E,o,a,i,e),Vg(ta(u,a));break e}}i=u=ta(u,a),xt!==4&&(xt=2),xl===null?xl=[i]:xl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=bE(i,u,e);X0(i,_);break e;case 1:a=u;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ns===null||!Ns.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=SE(i,a,e);X0(i,A);break e}}i=i.return}while(i!==null)}HE(n)}catch(O){e=O,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function BE(){var t=_d.current;return _d.current=xd,t===null?xd:t}function rv(){(xt===0||xt===3||xt===2)&&(xt=4),St===null||!(Mi&268435455)&&!(fh&268435455)||ds(St,Nt)}function bd(t,e){var n=Re;Re|=2;var r=BE();(St!==t||Nt!==e)&&(Nr=null,Ai(t,e));do try{qA();break}catch(s){UE(t,s)}while(!0);if(Fg(),Re=n,_d.current=r,pt!==null)throw Error(q(261));return St=null,Nt=0,xt}function qA(){for(;pt!==null;)zE(pt)}function KA(){for(;pt!==null&&!yR();)zE(pt)}function zE(t){var e=qE(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?HE(t):pt=e,Jg.current=null}function HE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$A(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,pt=null;return}}else if(n=FA(n,e,mn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);xt===0&&(xt=5)}function pi(t,e,n){var r=Oe,s=On.transition;try{On.transition=null,Oe=1,QA(t,e,n,r)}finally{On.transition=s,Oe=r}return null}function QA(t,e,n,r){do Ao();while(Ts!==null);if(Re&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PR(t,i),t===St&&(pt=St=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,KE(id,function(){return Ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=On.transition,On.transition=null;var o=Oe;Oe=1;var a=Re;Re|=4,Jg.current=null,BA(t,n),LE(n,t),pA(Up),ad=!!$p,Up=$p=null,t.current=n,zA(n),wR(),Re=a,Oe=o,On.transition=i}else t.current=n;if(hc&&(hc=!1,Ts=t,Td=s),i=t.pendingLanes,i===0&&(Ns=null),ER(n.stateNode),hn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ed)throw Ed=!1,t=am,am=null,t;return Td&1&&t.tag!==0&&Ao(),i=t.pendingLanes,i&1?t===lm?_l++:(_l=0,lm=t):_l=0,ni(),null}function Ao(){if(Ts!==null){var t=b1(Td),e=On.transition,n=Oe;try{if(On.transition=null,Oe=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Td=0,Re&6)throw Error(q(331));var s=Re;for(Re|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:wl(8,h,i)}var p=h.child;if(p!==null)p.return=h,re=p;else for(;re!==null;){h=re;var f=h.sibling,w=h.return;if(jE(h),h===c){re=null;break}if(f!==null){f.return=w,re=f;break}re=w}}}var T=i.alternate;if(T!==null){var y=T.child;if(y!==null){T.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,re=_;break e}re=i.return}}var g=t.current;for(re=g;re!==null;){o=re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,re=b;else e:for(o=g;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hh(9,a)}}catch(O){st(a,a.return,O)}if(a===o){re=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,re=A;break e}re=a.return}}if(Re=s,ni(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(sh,t)}catch{}r=!0}return r}finally{Oe=n,On.transition=e}}return!1}function yw(t,e,n){e=ta(n,e),e=bE(t,e,1),t=As(t,e,1),e=Jt(),t!==null&&(gu(t,1,e),hn(t,e))}function st(t,e,n){if(t.tag===3)yw(t,t,n);else for(;e!==null;){if(e.tag===3){yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=ta(n,t),t=SE(e,t,1),e=As(e,t,1),t=Jt(),e!==null&&(gu(e,1,t),hn(e,t));break}}e=e.return}}function GA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Nt&n)===n&&(xt===4||xt===3&&(Nt&130023424)===Nt&&500>ut()-ev?Ai(t,0):Zg|=n),hn(t,e)}function WE(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=Jt();t=Ur(t,e),t!==null&&(gu(t,e,n),hn(t,n))}function YA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WE(t,n)}function XA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),WE(t,n)}var qE;qE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,LA(t,e,n);un=!!(t.flags&131072)}else un=!1,Ge&&e.flags&1048576&&Y1(e,pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vc(t,e),t=e.pendingProps;var s=Xo(e,Ht.current);Ro(e,n),s=Kg(null,e,r,t,s,n);var i=Qg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,hd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bg(e),s.updater=dh,e.stateNode=s,s._reactInternals=e,Yp(e,r,t,n),e=Zp(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&jg(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZA(r),t=Un(r,t),s){case 0:e=Jp(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=ow(null,e,r,t,n);break e;case 14:e=aw(null,e,r,Un(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),Jp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),lw(t,e,r,s,n);case 3:e:{if(RE(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nE(t,e),vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ta(Error(q(423)),e),e=uw(t,e,r,n,s);break e}else if(r!==s){s=ta(Error(q(424)),e),e=uw(t,e,r,n,s);break e}else for(wn=Rs(e.stateNode.containerInfo.firstChild),_n=e,Ge=!0,Wn=null,n=eE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),r===s){e=Br(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return rE(e),t===null&&Kp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bp(r,s)?o=null:i!==null&&Bp(r,i)&&(e.flags|=32),PE(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&Kp(e),null;case 13:return AE(t,e,n);case 4:return zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zo(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),ow(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$e(md,r._currentValue),r._currentValue=o,i!==null)if(Xn(i.value,o)){if(i.children===s.children&&!cn.current){e=Br(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Vr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Qp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ro(e,n),s=jn(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=Un(r,e.pendingProps),s=Un(r.type,s),aw(t,e,r,s,n);case 15:return CE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),Vc(t,e),e.tag=1,dn(r)?(t=!0,hd(e)):t=!1,Ro(e,n),TE(e,r,s),Yp(e,r,s,n),Zp(null,e,r,!0,t,n);case 19:return NE(t,e,n);case 22:return IE(t,e,n)}throw Error(q(156,e.tag))};function KE(t,e){return x1(t,e)}function JA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new JA(t,e,n,r)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZA(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tg)return 11;if(t===bg)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $c(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Ni(n.children,s,i,e);case Eg:o=8,s|=8;break;case xp:return t=Dn(12,n,e,s|2),t.elementType=xp,t.lanes=i,t;case _p:return t=Dn(13,n,e,s),t.elementType=_p,t.lanes=i,t;case Ep:return t=Dn(19,n,e,s),t.elementType=Ep,t.lanes=i,t;case r1:return ph(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t1:o=10;break e;case n1:o=9;break e;case Tg:o=11;break e;case bg:o=14;break e;case ls:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ni(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function ph(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=r1,t.lanes=n,t.stateNode={isHidden:!1},t}function Wf(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function qf(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iv(t,e,n,r,s,i,o,a,u){return t=new e2(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bg(i),t}function t2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QE(t){if(!t)return Bs;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(dn(n))return Q1(t,n,e)}return e}function GE(t,e,n,r,s,i,o,a,u){return t=iv(n,r,!0,t,s,i,o,a,u),t.context=QE(null),n=t.current,r=Jt(),s=ks(n),i=Vr(r,s),i.callback=e??null,As(n,i,s),t.current.lanes=s,gu(t,s,r),hn(t,r),t}function mh(t,e,n,r){var s=e.current,i=Jt(),o=ks(s);return n=QE(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(s,e,o),t!==null&&(Gn(t,s,o,i),Oc(t,s,o)),o}function Sd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ov(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function n2(){return null}var YE=typeof reportError=="function"?reportError:function(t){console.error(t)};function av(t){this._internalRoot=t}gh.prototype.render=av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));mh(t,e,null,null)};gh.prototype.unmount=av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){mh(null,t,null,null)}),e[$r]=null}};function gh(t){this._internalRoot=t}gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=I1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cs.length&&e!==0&&e<cs[n].priority;n++);cs.splice(n,0,t),n===0&&R1(t)}};function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xw(){}function r2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Sd(o);i.call(c)}}var o=GE(e,r,t,0,null,!1,!1,"",xw);return t._reactRootContainer=o,t[$r]=o.current,Ml(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Sd(u);a.call(c)}}var u=iv(t,0,!1,null,null,!1,!1,"",xw);return t._reactRootContainer=u,t[$r]=u.current,Ml(t.nodeType===8?t.parentNode:t),Vi(function(){mh(e,u,n,r)}),u}function yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Sd(o);a.call(u)}}mh(e,o,t,s)}else o=r2(n,e,t,s,r);return Sd(o)}S1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ol(e.pendingLanes);n!==0&&(Ig(e,n|1),hn(e,ut()),!(Re&6)&&(na=ut()+500,ni()))}break;case 13:Vi(function(){var r=Ur(t,1);if(r!==null){var s=Jt();Gn(r,t,1,s)}}),ov(t,1)}};Pg=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Jt();Gn(e,t,134217728,n)}ov(t,134217728)}};C1=function(t){if(t.tag===13){var e=ks(t),n=Ur(t,e);if(n!==null){var r=Jt();Gn(n,t,e,r)}ov(t,e)}};I1=function(){return Oe};P1=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};kp=function(t,e,n){switch(e){case"input":if(Sp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lh(r);if(!s)throw Error(q(90));i1(r),Sp(r,s)}}}break;case"textarea":a1(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};p1=tv;m1=Vi;var s2={usingClientEntryPoint:!1,Events:[yu,yo,lh,h1,f1,tv]},tl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i2={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y1(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||n2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{sh=fc.inject(i2),mr=fc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(e))throw Error(q(200));return t2(t,e,null,n)};Sn.createRoot=function(t,e){if(!lv(t))throw Error(q(299));var n=!1,r="",s=YE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=iv(t,1,!1,null,null,n,!1,r,s),t[$r]=e.current,Ml(t.nodeType===8?t.parentNode:t),new av(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=y1(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Vi(t)};Sn.hydrate=function(t,e,n){if(!vh(e))throw Error(q(200));return yh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!lv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=YE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GE(e,null,t,1,n??null,s,!1,i,o),t[$r]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gh(e)};Sn.render=function(t,e,n){if(!vh(e))throw Error(q(200));return yh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!vh(t))throw Error(q(40));return t._reactRootContainer?(Vi(function(){yh(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};Sn.unstable_batchedUpdates=tv;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return yh(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function XE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XE)}catch(t){console.error(t)}}XE(),X_.exports=Sn;var Qi=X_.exports;const JE=L_(Qi);var ZE,_w=Qi;ZE=_w.createRoot,_w.hydrateRoot;const o2=1,a2=1e6;let Kf=0;function l2(){return Kf=(Kf+1)%Number.MAX_SAFE_INTEGER,Kf.toString()}const Qf=new Map,Ew=t=>{if(Qf.has(t))return;const e=setTimeout(()=>{Qf.delete(t),El({type:"REMOVE_TOAST",toastId:t})},a2);Qf.set(t,e)},u2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,o2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ew(n):t.toasts.forEach(r=>{Ew(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Uc=[];let Bc={toasts:[]};function El(t){Bc=u2(Bc,t),Uc.forEach(e=>{e(Bc)})}function c2({...t}){const e=l2(),n=s=>El({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>El({type:"DISMISS_TOAST",toastId:e});return El({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function eT(){const[t,e]=v.useState(Bc);return v.useEffect(()=>(Uc.push(e),()=>{const n=Uc.indexOf(e);n>-1&&Uc.splice(n,1)}),[t]),{...t,toast:c2,dismiss:n=>El({type:"DISMISS_TOAST",toastId:n})}}function me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function d2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function tT(...t){return e=>t.forEach(n=>d2(n,e))}function We(...t){return v.useCallback(tT(...t),t)}function h2(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:f,children:w,...T}=p,y=(f==null?void 0:f[t][u])||a,E=v.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:E,children:w})}function h(p,f){const w=(f==null?void 0:f[t][u])||a,T=v.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,f2(s,...e)]}function f2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Vn=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(p2);if(i){const o=i.props.children,a=s.map(u=>u===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:u);return d.jsx(dm,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return d.jsx(dm,{...r,ref:e,children:n})});Vn.displayName="Slot";var dm=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=g2(n);return v.cloneElement(n,{...m2(r,n.props),ref:e?tT(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});dm.displayName="SlotClone";var nT=({children:t})=>d.jsx(d.Fragment,{children:t});function p2(t){return v.isValidElement(t)&&t.type===nT}function m2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function g2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rT(t){const e=t+"CollectionProvider",[n,r]=h2(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:T,children:y}=w,E=Y.useRef(null),_=Y.useRef(new Map).current;return d.jsx(s,{scope:T,itemMap:_,collectionRef:E,children:y})};o.displayName=e;const a=t+"CollectionSlot",u=Y.forwardRef((w,T)=>{const{scope:y,children:E}=w,_=i(a,y),g=We(T,_.collectionRef);return d.jsx(Vn,{ref:g,children:E})});u.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",p=Y.forwardRef((w,T)=>{const{scope:y,children:E,..._}=w,g=Y.useRef(null),b=We(T,g),A=i(c,y);return Y.useEffect(()=>(A.itemMap.set(g,{ref:g,..._}),()=>void A.itemMap.delete(g))),d.jsx(Vn,{[h]:"",ref:b,children:E})});p.displayName=c;function f(w){const T=i(t+"CollectionConsumer",w);return Y.useCallback(()=>{const E=T.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((A,O)=>_.indexOf(A.ref.current)-_.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},f,r]}function v2(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,u=v.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function wh(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),u=n.length;n=[...n,o];const c=p=>{var _;const{scope:f,children:w,...T}=p,y=((_=f==null?void 0:f[t])==null?void 0:_[u])||a,E=v.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:E,children:w})};c.displayName=i+"Provider";function h(p,f){var y;const w=((y=f==null?void 0:f[t])==null?void 0:y[u])||a,T=v.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,y2(s,...e)]}function y2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var w2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=w2.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Vn:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sT(t,e){t&&Qi.flushSync(()=>t.dispatchEvent(e))}function bn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function x2(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _2="DismissableLayer",hm="dismissableLayer.update",E2="dismissableLayer.pointerDownOutside",T2="dismissableLayer.focusOutside",Tw,iT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=v.useContext(iT),[h,p]=v.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=v.useState({}),T=We(e,I=>p(I)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),g=h?y.indexOf(h):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=g>=_,O=S2(I=>{const C=I.target,R=[...c.branches].some(S=>S.contains(C));!A||R||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),V=C2(I=>{const C=I.target;[...c.branches].some(S=>S.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return x2(I=>{g===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),v.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Tw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),bw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Tw)}},[h,f,n,c]),v.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),bw())},[h,c]),v.useEffect(()=>{const I=()=>w({});return document.addEventListener(hm,I),()=>document.removeEventListener(hm,I)},[]),d.jsx(Ie.div,{...u,ref:T,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,V.onFocusCapture),onBlurCapture:me(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,O.onPointerDownCapture)})});xu.displayName=_2;var b2="DismissableLayerBranch",oT=v.forwardRef((t,e)=>{const n=v.useContext(iT),r=v.useRef(null),s=We(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ie.div,{...t,ref:s})});oT.displayName=b2;function S2(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){aT(E2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function C2(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&aT(T2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bw(){const t=new CustomEvent(hm);document.dispatchEvent(t)}function aT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sT(s,i):s.dispatchEvent(i)}var I2=xu,P2=oT,Wt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},R2="Portal",xh=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Wt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?JE.createPortal(d.jsx(Ie.div,{...r,ref:e}),o):null});xh.displayName=R2;function A2(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var ya=t=>{const{present:e,children:n}=t,r=N2(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=We(r.ref,k2(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};ya.displayName="Presence";function N2(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,u]=A2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=pc(r.current);i.current=a==="mounted"?c:"none"},[a]),Wt(()=>{const c=r.current,h=s.current;if(h!==t){const f=i.current,w=pc(c);t?u("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&f!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Wt(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=w=>{const y=pc(r.current).includes(w.animationName);if(w.target===e&&y&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=w=>{w.target===e&&(i.current=pc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function pc(t){return(t==null?void 0:t.animationName)||"none"}function k2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=D2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=bn(n),u=v.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,u]}function D2({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=bn(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var O2="VisuallyHidden",_u=v.forwardRef((t,e)=>d.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));_u.displayName=O2;var j2=_u,uv="ToastProvider",[cv,M2,V2]=rT("Toast"),[lT,v6]=wh("Toast",[V2]),[L2,_h]=lT(uv),uT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=v.useState(null),[c,h]=v.useState(0),p=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uv}\`. Expected non-empty \`string\`.`),d.jsx(cv.Provider,{scope:e,children:d.jsx(L2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:v.useCallback(()=>h(w=>w+1),[]),onToastRemove:v.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};uT.displayName=uv;var cT="ToastViewport",F2=["F8"],fm="toast.viewportPause",pm="toast.viewportResume",dT=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=F2,label:s="Notifications ({hotkey})",...i}=t,o=_h(cT,n),a=M2(n),u=v.useRef(null),c=v.useRef(null),h=v.useRef(null),p=v.useRef(null),f=We(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;v.useEffect(()=>{const E=_=>{var b;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((b=p.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),v.useEffect(()=>{const E=u.current,_=p.current;if(T&&E&&_){const g=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(fm);_.dispatchEvent(V),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(pm);_.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!E.contains(V.relatedTarget)&&b()},O=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",g),E.addEventListener("focusout",A),E.addEventListener("pointermove",g),E.addEventListener("pointerleave",O),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",g),E.removeEventListener("focusout",A),E.removeEventListener("pointermove",g),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[T,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:E})=>{const g=a().map(b=>{const A=b.ref.current,O=[A,...J2(A)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?g.reverse():g).flat()},[a]);return v.useEffect(()=>{const E=p.current;if(E){const _=g=>{var O,V,I;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const C=document.activeElement,R=g.shiftKey;if(g.target===E&&R){(O=c.current)==null||O.focus();return}const D=y({tabbingDirection:R?"backwards":"forwards"}),N=D.findIndex(W=>W===C);Gf(D.slice(N+1))?g.preventDefault():R?(V=c.current)==null||V.focus():(I=h.current)==null||I.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,y]),d.jsxs(P2,{ref:u,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&d.jsx(mm,{ref:c,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});Gf(E)}}),d.jsx(cv.Slot,{scope:n,children:d.jsx(Ie.ol,{tabIndex:-1,...i,ref:f})}),T&&d.jsx(mm,{ref:h,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});Gf(E)}})]})});dT.displayName=cT;var hT="ToastFocusProxy",mm=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=_h(hT,n);return d.jsx(_u,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});mm.displayName=hT;var Eh="Toast",$2="toast.swipeStart",U2="toast.swipeMove",B2="toast.swipeCancel",z2="toast.swipeEnd",fT=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=Wl({prop:r,defaultProp:s,onChange:i});return d.jsx(ya,{present:n||a,children:d.jsx(q2,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:bn(t.onPause),onResume:bn(t.onResume),onSwipeStart:me(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:me(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});fT.displayName=Eh;var[H2,W2]=lT(Eh,{onClose(){}}),q2=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:w,...T}=t,y=_h(Eh,n),[E,_]=v.useState(null),g=We(e,W=>_(W)),b=v.useRef(null),A=v.useRef(null),O=s||y.duration,V=v.useRef(0),I=v.useRef(O),C=v.useRef(0),{onToastAdd:R,onToastRemove:S}=y,k=bn(()=>{var ie;(E==null?void 0:E.contains(document.activeElement))&&((ie=y.viewport)==null||ie.focus()),o()}),D=v.useCallback(W=>{!W||W===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(k,W))},[k]);v.useEffect(()=>{const W=y.viewport;if(W){const ie=()=>{D(I.current),c==null||c()},J=()=>{const F=new Date().getTime()-V.current;I.current=I.current-F,window.clearTimeout(C.current),u==null||u()};return W.addEventListener(fm,J),W.addEventListener(pm,ie),()=>{W.removeEventListener(fm,J),W.removeEventListener(pm,ie)}}},[y.viewport,O,u,c,D]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(O)},[i,O,y.isClosePausedRef,D]),v.useEffect(()=>(R(),()=>S()),[R,S]);const N=v.useMemo(()=>E?xT(E):null,[E]);return y.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(K2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(H2,{scope:n,onClose:k,children:Qi.createPortal(d.jsx(cv.ItemSlot,{scope:n,children:d.jsx(I2,{asChild:!0,onEscapeKeyDown:me(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...T,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:me(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:me(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:me(t.onPointerMove,W=>{if(!b.current)return;const ie=W.clientX-b.current.x,J=W.clientY-b.current.y,F=!!A.current,M=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=M?U(0,ie):0,H=M?0:U(0,J),Q=W.pointerType==="touch"?10:2,X={x:K,y:H},fe={originalEvent:W,delta:X};F?(A.current=X,mc(U2,p,fe,{discrete:!1})):Sw(X,y.swipeDirection,Q)?(A.current=X,mc($2,h,fe,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>Q||Math.abs(J)>Q)&&(b.current=null)}),onPointerUp:me(t.onPointerUp,W=>{const ie=A.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),A.current=null,b.current=null,ie){const F=W.currentTarget,M={originalEvent:W,delta:ie};Sw(ie,y.swipeDirection,y.swipeThreshold)?mc(z2,w,M,{discrete:!0}):mc(B2,f,M,{discrete:!0}),F.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),K2=t=>{const{__scopeToast:e,children:n,...r}=t,s=_h(Eh,e),[i,o]=v.useState(!1),[a,u]=v.useState(!1);return Y2(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(xh,{asChild:!0,children:d.jsx(_u,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},Q2="ToastTitle",pT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ie.div,{...r,ref:e})});pT.displayName=Q2;var G2="ToastDescription",mT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ie.div,{...r,ref:e})});mT.displayName=G2;var gT="ToastAction",vT=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(wT,{altText:n,asChild:!0,children:d.jsx(dv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gT}\`. Expected non-empty \`string\`.`),null)});vT.displayName=gT;var yT="ToastClose",dv=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=W2(yT,n);return d.jsx(wT,{asChild:!0,children:d.jsx(Ie.button,{type:"button",...r,ref:e,onClick:me(t.onClick,s.onClose)})})});dv.displayName=yT;var wT=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function xT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),X2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...xT(r))}}),e}function mc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sT(s,i):s.dispatchEvent(i)}var Sw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Y2(t=()=>{}){const e=bn(t);Wt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function X2(t){return t.nodeType===t.ELEMENT_NODE}function J2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Z2=uT,_T=dT,ET=fT,TT=pT,bT=mT,ST=vT,CT=dv;function IT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=IT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function PT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=IT(t))&&(r&&(r+=" "),r+=e);return r}const Cw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Iw=PT,wa=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Iw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],p=i==null?void 0:i[c];if(h===null)return null;const f=Cw(h)||Cw(p);return s[c][f]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,f]=h;return f===void 0||(c[p]=f),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:f,...w}=h;return Object.entries(w).every(T=>{let[y,E]=T;return Array.isArray(E)?E.includes({...i,...a}[y]):{...i,...a}[y]===E})?[...c,p,f]:c},[]);return Iw(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>v.createElement("svg",{ref:u,...tN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:RT("lucide",s),...a},[...o.map(([c,h])=>v.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(nN,{ref:i,iconNode:e,className:RT(`lucide-${eN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ct("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ct("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ct("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gv="-",pN=t=>{const e=gN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(gv);return a[0]===""&&a.length!==1&&a.shift(),DT(a,e)||mN(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},DT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?DT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(gv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Rw=/^\[(.+)\]$/,mN=t=>{if(Rw.test(t)){const e=Rw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yN(Object.entries(t.classGroups),n).forEach(([i,o])=>{gm(o,r,i,e)}),r},gm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Aw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(vN(s)){gm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{gm(o,Aw(e,i),n,r)})})},Aw=(t,e)=>{let n=t;return e.split(gv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vN=t=>t.isThemeGetter,yN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,wN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},OT="!",xN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,h=0,p;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+i)===e)){u.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){p=E;continue}}_==="["?c++:_==="]"&&c--}const f=u.length===0?a:a.substring(h),w=f.startsWith(OT),T=w?f.substring(1):f,y=p&&p>h?p-h:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},_N=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},EN=t=>({cache:wN(t.cacheSize),parseClassName:xN(t),...pN(t)}),TN=/\s+/,bN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(TN);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:w}=n(c);let T=!!w,y=r(T?f.substring(0,w):f);if(!y){if(!T){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}T=!1}const E=_N(h).join(":"),_=p?E+OT:E,g=_+y;if(i.includes(g))continue;i.push(g);const b=s(y,T);for(let A=0;A<b.length;++A){const O=b[A];i.push(_+O)}a=c+(a.length>0?" "+a:a)}return a};function SN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jT(e))&&(r&&(r+=" "),r+=n);return r}const jT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jT(t[r]))&&(n&&(n+=" "),n+=e);return n};function CN(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((h,p)=>p(h),t());return n=EN(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=bN(u,n);return s(u,h),h}return function(){return i(SN.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MT=/^\[(?:([a-z-]+):)?(.+)\]$/i,IN=/^\d+\/\d+$/,PN=new Set(["px","full","screen"]),RN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rr=t=>No(t)||PN.has(t)||IN.test(t),rs=t=>xa(t,"length",UN),No=t=>!!t&&!Number.isNaN(Number(t)),Yf=t=>xa(t,"number",No),nl=t=>!!t&&Number.isInteger(Number(t)),ON=t=>t.endsWith("%")&&No(t.slice(0,-1)),pe=t=>MT.test(t),ss=t=>RN.test(t),jN=new Set(["length","size","percentage"]),MN=t=>xa(t,jN,VT),VN=t=>xa(t,"position",VT),LN=new Set(["image","url"]),FN=t=>xa(t,LN,zN),$N=t=>xa(t,"",BN),rl=()=>!0,xa=(t,e,n)=>{const r=MT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UN=t=>AN.test(t)&&!NN.test(t),VT=()=>!1,BN=t=>kN.test(t),zN=t=>DN.test(t),HN=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),s=Be("borderColor"),i=Be("borderRadius"),o=Be("borderSpacing"),a=Be("borderWidth"),u=Be("contrast"),c=Be("grayscale"),h=Be("hueRotate"),p=Be("invert"),f=Be("gap"),w=Be("gradientColorStops"),T=Be("gradientColorStopPositions"),y=Be("inset"),E=Be("margin"),_=Be("opacity"),g=Be("padding"),b=Be("saturate"),A=Be("scale"),O=Be("sepia"),V=Be("skew"),I=Be("space"),C=Be("translate"),R=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pe,e],D=()=>[pe,e],N=()=>["",Rr,rs],W=()=>["auto",No,pe],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",pe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[No,pe];return{cacheSize:500,separator:":",theme:{colors:[rl],spacing:[Rr,rs],blur:["none","",ss,pe],brightness:H(),borderColor:[t],borderRadius:["none","","full",ss,pe],borderSpacing:D(),borderWidth:N(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[ON,rs],inset:k(),margin:k(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),pe]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nl,pe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",nl,pe]}],"grid-cols":[{"grid-cols":[rl]}],"col-start-end":[{col:["auto",{span:["full",nl,pe]},pe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[rl]}],"row-start-end":[{row:["auto",{span:[nl,pe]},pe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yf]}],"font-family":[{font:[rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",No,Yf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rr,rs]}],"underline-offset":[{"underline-offset":["auto",Rr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),VN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Rr,pe]}],"outline-w":[{outline:[Rr,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Rr,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ss,$N]}],"shadow-color":[{shadow:[rl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ss,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[nl,pe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rr,rs,Yf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WN=CN(HN);function te(...t){return WN(PT(t))}const qN=Z2,LT=v.forwardRef(({className:t,...e},n)=>d.jsx(_T,{ref:n,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));LT.displayName=_T.displayName;const KN=wa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FT=v.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(ET,{ref:r,className:te(KN({variant:e}),t),...n}));FT.displayName=ET.displayName;const QN=v.forwardRef(({className:t,...e},n)=>d.jsx(ST,{ref:n,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));QN.displayName=ST.displayName;const $T=v.forwardRef(({className:t,...e},n)=>d.jsx(CT,{ref:n,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(mv,{className:"h-4 w-4"})}));$T.displayName=CT.displayName;const UT=v.forwardRef(({className:t,...e},n)=>d.jsx(TT,{ref:n,className:te("text-sm font-semibold",t),...e}));UT.displayName=TT.displayName;const BT=v.forwardRef(({className:t,...e},n)=>d.jsx(bT,{ref:n,className:te("text-sm opacity-90",t),...e}));BT.displayName=bT.displayName;function GN(){const{toasts:t}=eT();return d.jsxs(qN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(FT,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(UT,{children:n}),r&&d.jsx(BT,{children:r})]}),s,d.jsx($T,{})]},e)}),d.jsx(LT,{})]})}var Nw=["light","dark"],YN="(prefers-color-scheme: dark)",XN=v.createContext(void 0),JN={setTheme:t=>{},themes:[]},ZN=()=>{var t;return(t=v.useContext(XN))!=null?t:JN};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?Nw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(T,y=!1,E=!0)=>{let _=o?o[T]:T,g=y?T+"|| ''":`'${_}'`,b="";return s&&E&&!y&&Nw.includes(T)&&(b+=`d.style.colorScheme = '${T}';`),n==="class"?y||_?b+=`c.add(${g})`:b+="null":_&&(b+=`d[s](n,${g})`),b},w=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${YN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:w}})});var ek=t=>{switch(t){case"success":return rk;case"info":return ik;case"warning":return sk;case"error":return ok;default:return null}},tk=Array(12).fill(0),nk=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},tk.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ik=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ok=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ak=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},vm=1,lk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:vm++,o=this.toasts.find(u=>u.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:a,title:r}):u):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(ck(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,u=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:u})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:u})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:u})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||vm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},pn=new lk,uk=(t,e)=>{let n=(e==null?void 0:e.id)||vm++;return pn.addToast({title:t,...e,id:n}),n},ck=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dk=uk,hk=()=>pn.toasts;Object.assign(dk,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:hk});function fk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}fk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gc(t){return t.label!==void 0}var pk=3,mk="32px",gk=4e3,vk=356,yk=14,wk=20,xk=200;function _k(...t){return t.filter(Boolean).join(" ")}var Ek=t=>{var e,n,r,s,i,o,a,u,c,h;let{invert:p,toast:f,unstyled:w,interacting:T,setHeights:y,visibleToasts:E,heights:_,index:g,toasts:b,expanded:A,removeToast:O,defaultRichColors:V,closeButton:I,style:C,cancelButtonStyle:R,actionButtonStyle:S,className:k="",descriptionClassName:D="",duration:N,position:W,gap:ie,loadingIcon:J,expandByDefault:F,classNames:M,icons:U,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:H,cn:Q}=t,[X,fe]=Y.useState(!1),[be,le]=Y.useState(!1),[se,Pe]=Y.useState(!1),[qe,ye]=Y.useState(!1),[Ee,xe]=Y.useState(0),[vt,Ct]=Y.useState(0),In=Y.useRef(null),qt=Y.useRef(null),br=g===0,ka=g+1<=E,dt=f.type,nr=f.dismissible!==!1,Du=f.className||"",sf=f.descriptionClassName||"",Yr=Y.useMemo(()=>_.findIndex(ce=>ce.toastId===f.id)||0,[_,f.id]),Da=Y.useMemo(()=>{var ce;return(ce=f.closeButton)!=null?ce:I},[f.closeButton,I]),Oa=Y.useMemo(()=>f.duration||N||gk,[f.duration,N]),ht=Y.useRef(0),tt=Y.useRef(0),li=Y.useRef(0),Sr=Y.useRef(null),[ja,of]=W.split("-"),Xr=Y.useMemo(()=>_.reduce((ce,je,De)=>De>=Yr?ce:ce+je.height,0),[_,Yr]),Ma=ak(),Ou=f.invert||p,ui=dt==="loading";tt.current=Y.useMemo(()=>Yr*ie+Xr,[Yr,Xr]),Y.useEffect(()=>{fe(!0)},[]),Y.useLayoutEffect(()=>{if(!X)return;let ce=qt.current,je=ce.style.height;ce.style.height="auto";let De=ce.getBoundingClientRect().height;ce.style.height=je,Ct(De),y(Ot=>Ot.find(tn=>tn.toastId===f.id)?Ot.map(tn=>tn.toastId===f.id?{...tn,height:De}:tn):[{toastId:f.id,height:De,position:f.position},...Ot])},[X,f.title,f.description,y,f.id]);let rr=Y.useCallback(()=>{le(!0),xe(tt.current),y(ce=>ce.filter(je=>je.toastId!==f.id)),setTimeout(()=>{O(f)},xk)},[f,O,y,tt]);Y.useEffect(()=>{if(f.promise&&dt==="loading"||f.duration===1/0||f.type==="loading")return;let ce,je=Oa;return A||T||H&&Ma?(()=>{if(li.current<ht.current){let De=new Date().getTime()-ht.current;je=je-De}li.current=new Date().getTime()})():je!==1/0&&(ht.current=new Date().getTime(),ce=setTimeout(()=>{var De;(De=f.onAutoClose)==null||De.call(f,f),rr()},je)),()=>clearTimeout(ce)},[A,T,F,f,Oa,rr,f.promise,dt,H,Ma]),Y.useEffect(()=>{let ce=qt.current;if(ce){let je=ce.getBoundingClientRect().height;return Ct(je),y(De=>[{toastId:f.id,height:je,position:f.position},...De]),()=>y(De=>De.filter(Ot=>Ot.toastId!==f.id))}},[y,f.id]),Y.useEffect(()=>{f.delete&&rr()},[rr,f.delete]);function af(){return U!=null&&U.loading?Y.createElement("div",{className:"sonner-loader","data-visible":dt==="loading"},U.loading):J?Y.createElement("div",{className:"sonner-loader","data-visible":dt==="loading"},J):Y.createElement(nk,{visible:dt==="loading"})}return Y.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:qt,className:Q(k,Du,M==null?void 0:M.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[dt],(n=f==null?void 0:f.classNames)==null?void 0:n[dt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:V,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":X,"data-promise":!!f.promise,"data-removed":be,"data-visible":ka,"data-y-position":ja,"data-x-position":of,"data-index":g,"data-front":br,"data-swiping":se,"data-dismissible":nr,"data-type":dt,"data-invert":Ou,"data-swipe-out":qe,"data-expanded":!!(A||F&&X),style:{"--index":g,"--toasts-before":g,"--z-index":b.length-g,"--offset":`${be?Ee:tt.current}px`,"--initial-height":F?"auto":`${vt}px`,...C,...f.style},onPointerDown:ce=>{ui||!nr||(In.current=new Date,xe(tt.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Pe(!0),Sr.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,je,De,Ot;if(qe||!nr)return;Sr.current=null;let tn=Number(((ce=qt.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Jr=new Date().getTime()-((je=In.current)==null?void 0:je.getTime()),Cr=Math.abs(tn)/Jr;if(Math.abs(tn)>=wk||Cr>.11){xe(tt.current),(De=f.onDismiss)==null||De.call(f,f),rr(),ye(!0);return}(Ot=qt.current)==null||Ot.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:ce=>{var je;if(!Sr.current||!nr)return;let De=ce.clientY-Sr.current.y,Ot=ce.clientX-Sr.current.x,tn=(ja==="top"?Math.min:Math.max)(0,De),Jr=ce.pointerType==="touch"?10:2;Math.abs(tn)>Jr?(je=qt.current)==null||je.style.setProperty("--swipe-amount",`${De}px`):Math.abs(Ot)>Jr&&(Sr.current=null)}},Da&&!f.jsx?Y.createElement("button",{"aria-label":K,"data-disabled":ui,"data-close-button":!0,onClick:ui||!nr?()=>{}:()=>{var ce;rr(),(ce=f.onDismiss)==null||ce.call(f,f)},className:Q(M==null?void 0:M.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Y.isValidElement(f.title)?f.jsx||f.title:Y.createElement(Y.Fragment,null,dt||f.icon||f.promise?Y.createElement("div",{"data-icon":"",className:Q(M==null?void 0:M.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||af():null,f.type!=="loading"?f.icon||(U==null?void 0:U[dt])||ek(dt):null):null,Y.createElement("div",{"data-content":"",className:Q(M==null?void 0:M.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:Q(M==null?void 0:M.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?Y.createElement("div",{"data-description":"",className:Q(D,sf,M==null?void 0:M.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},f.description):null),Y.isValidElement(f.cancel)?f.cancel:f.cancel&&gc(f.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:ce=>{var je,De;gc(f.cancel)&&nr&&((De=(je=f.cancel).onClick)==null||De.call(je,ce),rr())},className:Q(M==null?void 0:M.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,Y.isValidElement(f.action)?f.action:f.action&&gc(f.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||S,onClick:ce=>{var je,De;gc(f.action)&&(ce.defaultPrevented||((De=(je=f.action).onClick)==null||De.call(je,ce),rr()))},className:Q(M==null?void 0:M.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function kw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Tk=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:u="light",richColors:c,duration:h,style:p,visibleToasts:f=pk,toastOptions:w,dir:T=kw(),gap:y=yk,loadingIcon:E,icons:_,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:b,cn:A=_k}=t,[O,V]=Y.useState([]),I=Y.useMemo(()=>Array.from(new Set([n].concat(O.filter(H=>H.position).map(H=>H.position)))),[O,n]),[C,R]=Y.useState([]),[S,k]=Y.useState(!1),[D,N]=Y.useState(!1),[W,ie]=Y.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Y.useRef(null),F=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Y.useRef(null),U=Y.useRef(!1),K=Y.useCallback(H=>{var Q;(Q=O.find(X=>X.id===H.id))!=null&&Q.delete||pn.dismiss(H.id),V(X=>X.filter(({id:fe})=>fe!==H.id))},[O]);return Y.useEffect(()=>pn.subscribe(H=>{if(H.dismiss){V(Q=>Q.map(X=>X.id===H.id?{...X,delete:!0}:X));return}setTimeout(()=>{JE.flushSync(()=>{V(Q=>{let X=Q.findIndex(fe=>fe.id===H.id);return X!==-1?[...Q.slice(0,X),{...Q[X],...H},...Q.slice(X+1)]:[H,...Q]})})})}),[]),Y.useEffect(()=>{if(u!=="system"){ie(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{ie(H?"dark":"light")})},[u]),Y.useEffect(()=>{O.length<=1&&k(!1)},[O]),Y.useEffect(()=>{let H=Q=>{var X,fe;r.every(be=>Q[be]||Q.code===be)&&(k(!0),(X=J.current)==null||X.focus()),Q.code==="Escape"&&(document.activeElement===J.current||(fe=J.current)!=null&&fe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),Y.useEffect(()=>{if(J.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,U.current=!1)}},[J.current]),O.length?Y.createElement("section",{"aria-label":`${g} ${F}`,tabIndex:-1},I.map((H,Q)=>{var X;let[fe,be]=H.split("-");return Y.createElement("ol",{key:H,dir:T==="auto"?kw():T,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":fe,"data-x-position":be,style:{"--front-toast-height":`${((X=C[0])==null?void 0:X.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||mk,"--width":`${vk}px`,"--gap":`${y}px`,...p},onBlur:le=>{U.current&&!le.currentTarget.contains(le.relatedTarget)&&(U.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||U.current||(U.current=!0,M.current=le.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},O.filter(le=>!le.position&&Q===0||le.position===H).map((le,se)=>{var Pe,qe;return Y.createElement(Ek,{key:le.id,icons:_,index:se,toast:le,defaultRichColors:c,duration:(Pe=w==null?void 0:w.duration)!=null?Pe:h,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:e,visibleToasts:f,closeButton:(qe=w==null?void 0:w.closeButton)!=null?qe:i,interacting:D,position:H,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:K,toasts:O.filter(ye=>ye.position==le.position),heights:C.filter(ye=>ye.position==le.position),setHeights:R,expandByDefault:s,gap:y,loadingIcon:E,expanded:S,pauseWhenPageIsHidden:b,cn:A})}))})):null};const bk=({...t})=>{const{theme:e="system"}=ZN();return d.jsx(Tk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Sk=G_.useId||(()=>{}),Ck=0;function ki(t){const[e,n]=v.useState(Sk());return Wt(()=>{n(r=>r??String(Ck++))},[t]),e?`radix-${e}`:""}const Ik=["top","right","bottom","left"],zs=Math.min,gn=Math.max,Id=Math.round,vc=Math.floor,Hs=t=>({x:t,y:t}),Pk={left:"right",right:"left",bottom:"top",top:"bottom"},Rk={start:"end",end:"start"};function ym(t,e,n){return gn(t,zs(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Hr(t){return t.split("-")[0]}function _a(t){return t.split("-")[1]}function vv(t){return t==="x"?"y":"x"}function yv(t){return t==="y"?"height":"width"}function Ws(t){return["top","bottom"].includes(Hr(t))?"y":"x"}function wv(t){return vv(Ws(t))}function Ak(t,e,n){n===void 0&&(n=!1);const r=_a(t),s=wv(t),i=yv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Pd(o)),[o,Pd(o)]}function Nk(t){const e=Pd(t);return[wm(t),e,wm(e)]}function wm(t){return t.replace(/start|end/g,e=>Rk[e])}function kk(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Dk(t,e,n,r){const s=_a(t);let i=kk(Hr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(wm)))),i}function Pd(t){return t.replace(/left|right|bottom|top/g,e=>Pk[e])}function Ok(t){return{top:0,right:0,bottom:0,left:0,...t}}function zT(t){return typeof t!="number"?Ok(t):{top:t,right:t,bottom:t,left:t}}function Rd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Dw(t,e,n){let{reference:r,floating:s}=t;const i=Ws(e),o=wv(e),a=yv(o),u=Hr(e),c=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let w;switch(u){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-s.width,y:p};break;default:w={x:r.x,y:r.y}}switch(_a(e)){case"start":w[o]-=f*(n&&c?-1:1);break;case"end":w[o]+=f*(n&&c?-1:1);break}return w}const jk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=Dw(c,r,u),f=r,w={},T=0;for(let y=0;y<a.length;y++){const{name:E,fn:_}=a[y],{x:g,y:b,data:A,reset:O}=await _({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:w,rects:c,platform:o,elements:{reference:t,floating:e}});h=g??h,p=b??p,w={...w,[E]:{...w[E],...A}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:p}=Dw(c,f,u)),y=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:w}};async function Kl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:w=0}=zr(e,t),T=zT(w),E=a[f?p==="floating"?"reference":"floating":p],_=Rd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:u})),g=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},O=Rd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:b,strategy:u}):g);return{top:(_.top-O.top+T.top)/A.y,bottom:(O.bottom-_.bottom+T.bottom)/A.y,left:(_.left-O.left+T.left)/A.x,right:(O.right-_.right+T.right)/A.x}}const Mk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:h=0}=zr(t,e)||{};if(c==null)return{};const p=zT(h),f={x:n,y:r},w=wv(s),T=yv(w),y=await o.getDimensions(c),E=w==="y",_=E?"top":"left",g=E?"bottom":"right",b=E?"clientHeight":"clientWidth",A=i.reference[T]+i.reference[w]-f[w]-i.floating[T],O=f[w]-i.reference[w],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=V?V[b]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[b]||i.floating[T]);const C=A/2-O/2,R=I/2-y[T]/2-1,S=zs(p[_],R),k=zs(p[g],R),D=S,N=I-y[T]-k,W=I/2-y[T]/2+C,ie=ym(D,W,N),J=!u.arrow&&_a(s)!=null&&W!==ie&&i.reference[T]/2-(W<D?S:k)-y[T]/2<0,F=J?W<D?W-D:W-N:0;return{[w]:f[w]+F,data:{[w]:ie,centerOffset:W-ie-F,...J&&{alignmentOffset:F}},reset:J}}}),Vk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:y=!0,...E}=zr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Hr(s),g=Ws(a),b=Hr(a)===a,A=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=f||(b||!y?[Pd(a)]:Nk(a)),V=T!=="none";!f&&V&&O.push(...Dk(a,y,T,A));const I=[a,...O],C=await Kl(e,E),R=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&R.push(C[_]),p){const W=Ak(s,o,A);R.push(C[W[0]],C[W[1]])}if(S=[...S,{placement:s,overflows:R}],!R.every(W=>W<=0)){var k,D;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=I[W];if(ie)return{data:{index:W,overflows:S},reset:{placement:ie}};let J=(D=S.filter(F=>F.overflows[0]<=0).sort((F,M)=>F.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(w){case"bestFit":{var N;const F=(N=S.filter(M=>{if(V){const U=Ws(M.placement);return U===g||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:N[0];F&&(J=F);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function Ow(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jw(t){return Ik.some(e=>t[e]>=0)}const Lk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zr(t,e);switch(r){case"referenceHidden":{const i=await Kl(e,{...s,elementContext:"reference"}),o=Ow(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jw(o)}}}case"escaped":{const i=await Kl(e,{...s,altBoundary:!0}),o=Ow(i,n.floating);return{data:{escapedOffsets:o,escaped:jw(o)}}}default:return{}}}}};async function Fk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Hr(n),a=_a(n),u=Ws(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,p=zr(e,t);let{mainAxis:f,crossAxis:w,alignmentAxis:T}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof T=="number"&&(w=a==="end"?T*-1:T),u?{x:w*h,y:f*c}:{x:f*c,y:w*h}}const $k=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await Fk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},Uk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:g}=E;return{x:_,y:g}}},...u}=zr(t,e),c={x:n,y:r},h=await Kl(e,u),p=Ws(Hr(s)),f=vv(p);let w=c[f],T=c[p];if(i){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",g=w+h[E],b=w-h[_];w=ym(g,w,b)}if(o){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",g=T+h[E],b=T-h[_];T=ym(g,T,b)}const y=a.fn({...e,[f]:w,[p]:T});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[p]:o}}}}}},Bk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=zr(t,e),h={x:n,y:r},p=Ws(s),f=vv(p);let w=h[f],T=h[p];const y=zr(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const b=f==="y"?"height":"width",A=i.reference[f]-i.floating[b]+E.mainAxis,O=i.reference[f]+i.reference[b]-E.mainAxis;w<A?w=A:w>O&&(w=O)}if(c){var _,g;const b=f==="y"?"width":"height",A=["top","left"].includes(Hr(s)),O=i.reference[p]-i.floating[b]+(A&&((_=o.offset)==null?void 0:_[p])||0)+(A?0:E.crossAxis),V=i.reference[p]+i.reference[b]+(A?0:((g=o.offset)==null?void 0:g[p])||0)-(A?E.crossAxis:0);T<O?T=O:T>V&&(T=V)}return{[f]:w,[p]:T}}}},zk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=zr(t,e),h=await Kl(e,c),p=Hr(s),f=_a(s),w=Ws(s)==="y",{width:T,height:y}=i.floating;let E,_;p==="top"||p==="bottom"?(E=p,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=p,E=f==="end"?"top":"bottom");const g=y-h.top-h.bottom,b=T-h.left-h.right,A=zs(y-h[E],g),O=zs(T-h[_],b),V=!e.middlewareData.shift;let I=A,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=g),V&&!f){const S=gn(h.left,0),k=gn(h.right,0),D=gn(h.top,0),N=gn(h.bottom,0);w?C=T-2*(S!==0||k!==0?S+k:gn(h.left,h.right)):I=y-2*(D!==0||N!==0?D+N:gn(h.top,h.bottom))}await u({...e,availableWidth:C,availableHeight:I});const R=await o.getDimensions(a.floating);return T!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function Ea(t){return HT(t)?(t.nodeName||"").toLowerCase():"#document"}function En(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Tr(t){var e;return(e=(HT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HT(t){return Th()?t instanceof Node||t instanceof En(t).Node:!1}function Jn(t){return Th()?t instanceof Element||t instanceof En(t).Element:!1}function _r(t){return Th()?t instanceof HTMLElement||t instanceof En(t).HTMLElement:!1}function Mw(t){return!Th()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof En(t).ShadowRoot}function Eu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Hk(t){return["table","td","th"].includes(Ea(t))}function bh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xv(t){const e=_v(),n=Jn(t)?Zn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Wk(t){let e=qs(t);for(;_r(e)&&!ra(e);){if(xv(e))return e;if(bh(e))return null;e=qs(e)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ra(t){return["html","body","#document"].includes(Ea(t))}function Zn(t){return En(t).getComputedStyle(t)}function Sh(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qs(t){if(Ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mw(t)&&t.host||Tr(t);return Mw(e)?e.host:e}function WT(t){const e=qs(t);return ra(e)?t.ownerDocument?t.ownerDocument.body:t.body:_r(e)&&Eu(e)?e:WT(e)}function Ql(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=WT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=En(s);if(i){const a=xm(o);return e.concat(o,o.visualViewport||[],Eu(s)?s:[],a&&n?Ql(a):[])}return e.concat(s,Ql(s,[],n))}function xm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qT(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=_r(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Id(n)!==i||Id(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ev(t){return Jn(t)?t:t.contextElement}function ko(t){const e=Ev(t);if(!_r(e))return Hs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=qT(e);let o=(i?Id(n.width):n.width)/r,a=(i?Id(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qk=Hs(0);function KT(t){const e=En(t);return!_v()||!e.visualViewport?qk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==En(t)?!1:e}function Li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ev(t);let o=Hs(1);e&&(r?Jn(r)&&(o=ko(r)):o=ko(t));const a=Kk(i,n,r)?KT(i):Hs(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=En(i),w=r&&Jn(r)?En(r):r;let T=f,y=xm(T);for(;y&&r&&w!==T;){const E=ko(y),_=y.getBoundingClientRect(),g=Zn(y),b=_.left+(y.clientLeft+parseFloat(g.paddingLeft))*E.x,A=_.top+(y.clientTop+parseFloat(g.paddingTop))*E.y;u*=E.x,c*=E.y,h*=E.x,p*=E.y,u+=b,c+=A,T=En(y),y=xm(T)}}return Rd({width:h,height:p,x:u,y:c})}function Qk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Tr(r),a=e?bh(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Hs(1);const h=Hs(0),p=_r(r);if((p||!p&&!i)&&((Ea(r)!=="body"||Eu(o))&&(u=Sh(r)),_r(r))){const f=Li(r);c=ko(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x,y:n.y*c.y-u.scrollTop*c.y+h.y}}function Gk(t){return Array.from(t.getClientRects())}function _m(t,e){const n=Sh(t).scrollLeft;return e?e.left+n:Li(Tr(t)).left+n}function Yk(t){const e=Tr(t),n=Sh(t),r=t.ownerDocument.body,s=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_m(t);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=gn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Xk(t,e){const n=En(t),r=Tr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=_v();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function Jk(t,e){const n=Li(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=_r(t)?ko(t):Hs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function Vw(t,e,n){let r;if(e==="viewport")r=Xk(t,n);else if(e==="document")r=Yk(Tr(t));else if(Jn(e))r=Jk(e,n);else{const s=KT(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Rd(r)}function QT(t,e){const n=qs(t);return n===e||!Jn(n)||ra(n)?!1:Zn(n).position==="fixed"||QT(n,e)}function Zk(t,e){const n=e.get(t);if(n)return n;let r=Ql(t,[],!1).filter(a=>Jn(a)&&Ea(a)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?qs(t):t;for(;Jn(o)&&!ra(o);){const a=Zn(o),u=xv(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Eu(o)&&!u&&QT(t,o))?r=r.filter(h=>h!==o):s=a,o=qs(o)}return e.set(t,r),r}function eD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?bh(e)?[]:Zk(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,h)=>{const p=Vw(e,h,s);return c.top=gn(p.top,c.top),c.right=zs(p.right,c.right),c.bottom=zs(p.bottom,c.bottom),c.left=gn(p.left,c.left),c},Vw(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function tD(t){const{width:e,height:n}=qT(t);return{width:e,height:n}}function nD(t,e,n){const r=_r(e),s=Tr(e),i=n==="fixed",o=Li(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Hs(0);if(r||!r&&!i)if((Ea(e)!=="body"||Eu(s))&&(a=Sh(e)),r){const w=Li(e,!0,i,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else s&&(u.x=_m(s));let c=0,h=0;if(s&&!r&&!i){const w=s.getBoundingClientRect();h=w.top+a.scrollTop,c=w.left+a.scrollLeft-_m(s,w)}const p=o.left+a.scrollLeft-u.x-c,f=o.top+a.scrollTop-u.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Xf(t){return Zn(t).position==="static"}function Lw(t,e){if(!_r(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Tr(t)===n&&(n=n.ownerDocument.body),n}function GT(t,e){const n=En(t);if(bh(t))return n;if(!_r(t)){let s=qs(t);for(;s&&!ra(s);){if(Jn(s)&&!Xf(s))return s;s=qs(s)}return n}let r=Lw(t,e);for(;r&&Hk(r)&&Xf(r);)r=Lw(r,e);return r&&ra(r)&&Xf(r)&&!xv(r)?n:r||Wk(t)||n}const rD=async function(t){const e=this.getOffsetParent||GT,n=this.getDimensions,r=await n(t.floating);return{reference:nD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sD(t){return Zn(t).direction==="rtl"}const iD={convertOffsetParentRelativeRectToViewportRelativeRect:Qk,getDocumentElement:Tr,getClippingRect:eD,getOffsetParent:GT,getElementRects:rD,getClientRects:Gk,getDimensions:tD,getScale:ko,isElement:Jn,isRTL:sD};function oD(t,e){let n=null,r;const s=Tr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const{left:c,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const w=vc(h),T=vc(s.clientWidth-(c+p)),y=vc(s.clientHeight-(h+f)),E=vc(c),g={rootMargin:-w+"px "+-T+"px "+-y+"px "+-E+"px",threshold:gn(0,zs(1,u))||1};let b=!0;function A(O){const V=O[0].intersectionRatio;if(V!==u){if(!b)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(A,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,g)}n.observe(t)}return o(!0),i}function aD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Ev(t),h=s||i?[...c?Ql(c):[],...Ql(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const p=c&&a?oD(c,n):null;let f=-1,w=null;o&&(w=new ResizeObserver(_=>{let[g]=_;g&&g.target===c&&w&&(w.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=w)==null||b.observe(e)})),n()}),c&&!u&&w.observe(c),w.observe(e));let T,y=u?Li(t):null;u&&E();function E(){const _=Li(t);y&&(_.x!==y.x||_.y!==y.y||_.width!==y.width||_.height!==y.height)&&n(),y=_,T=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),p==null||p(),(_=w)==null||_.disconnect(),w=null,u&&cancelAnimationFrame(T)}}const lD=$k,uD=Uk,cD=Vk,dD=zk,hD=Lk,Fw=Mk,fD=Bk,pD=(t,e,n)=>{const r=new Map,s={platform:iD,...n},i={...s.platform,_c:r};return jk(t,e,{...s,platform:i})};var zc=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Ad(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ad(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ad(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function YT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $w(t,e){const n=YT(t);return Math.round(e*n)/n}function Jf(t){const e=v.useRef(t);return zc(()=>{e.current=t}),e}function mD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[h,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,w]=v.useState(r);Ad(f,r)||w(r);const[T,y]=v.useState(null),[E,_]=v.useState(null),g=v.useCallback(M=>{M!==V.current&&(V.current=M,y(M))},[]),b=v.useCallback(M=>{M!==I.current&&(I.current=M,_(M))},[]),A=i||T,O=o||E,V=v.useRef(null),I=v.useRef(null),C=v.useRef(h),R=u!=null,S=Jf(u),k=Jf(s),D=Jf(c),N=v.useCallback(()=>{if(!V.current||!I.current)return;const M={placement:e,strategy:n,middleware:f};k.current&&(M.platform=k.current),pD(V.current,I.current,M).then(U=>{const K={...U,isPositioned:D.current!==!1};W.current&&!Ad(C.current,K)&&(C.current=K,Qi.flushSync(()=>{p(K)}))})},[f,e,n,k,D]);zc(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[c]);const W=v.useRef(!1);zc(()=>(W.current=!0,()=>{W.current=!1}),[]),zc(()=>{if(A&&(V.current=A),O&&(I.current=O),A&&O){if(S.current)return S.current(A,O,N);N()}},[A,O,N,S,R]);const ie=v.useMemo(()=>({reference:V,floating:I,setReference:g,setFloating:b}),[g,b]),J=v.useMemo(()=>({reference:A,floating:O}),[A,O]),F=v.useMemo(()=>{const M={position:n,left:0,top:0};if(!J.floating)return M;const U=$w(J.floating,h.x),K=$w(J.floating,h.y);return a?{...M,transform:"translate("+U+"px, "+K+"px)",...YT(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:K}},[n,a,J.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:N,refs:ie,elements:J,floatingStyles:F}),[h,N,ie,J,F])}const gD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Fw({element:r.current,padding:s}).fn(n):{}:r?Fw({element:r,padding:s}).fn(n):{}}}},vD=(t,e)=>({...lD(t),options:[t,e]}),yD=(t,e)=>({...uD(t),options:[t,e]}),wD=(t,e)=>({...fD(t),options:[t,e]}),xD=(t,e)=>({...cD(t),options:[t,e]}),_D=(t,e)=>({...dD(t),options:[t,e]}),ED=(t,e)=>({...hD(t),options:[t,e]}),TD=(t,e)=>({...gD(t),options:[t,e]});var bD="Arrow",XT=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});XT.displayName=bD;var SD=XT;function CD(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:f,children:w,...T}=p,y=(f==null?void 0:f[t][u])||a,E=v.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:E,children:w})}function h(p,f){const w=(f==null?void 0:f[t][u])||a,T=v.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,ID(s,...e)]}function ID(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function PD(t){const[e,n]=v.useState(void 0);return Wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Tv="Popper",[JT,Ch]=CD(Tv),[RD,ZT]=JT(Tv),eb=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return d.jsx(RD,{scope:e,anchor:r,onAnchorChange:s,children:n})};eb.displayName=Tv;var tb="PopperAnchor",nb=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ZT(tb,n),o=v.useRef(null),a=We(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ie.div,{...s,ref:a})});nb.displayName=tb;var bv="PopperContent",[AD,ND]=JT(bv),rb=v.forwardRef((t,e)=>{var se,Pe,qe,ye,Ee,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:w="optimized",onPlaced:T,...y}=t,E=ZT(bv,n),[_,g]=v.useState(null),b=We(e,vt=>g(vt)),[A,O]=v.useState(null),V=PD(A),I=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,R=r+(i!=="center"?"-"+i:""),S=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],D=k.length>0,N={padding:S,boundary:k.filter(DD),altBoundary:D},{refs:W,floatingStyles:ie,placement:J,isPositioned:F,middlewareData:M}=mD({strategy:"fixed",placement:R,whileElementsMounted:(...vt)=>aD(...vt,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[vD({mainAxis:s+C,alignmentAxis:o}),u&&yD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?wD():void 0,...N}),u&&xD({...N}),_D({...N,apply:({elements:vt,rects:Ct,availableWidth:In,availableHeight:qt})=>{const{width:br,height:ka}=Ct.reference,dt=vt.floating.style;dt.setProperty("--radix-popper-available-width",`${In}px`),dt.setProperty("--radix-popper-available-height",`${qt}px`),dt.setProperty("--radix-popper-anchor-width",`${br}px`),dt.setProperty("--radix-popper-anchor-height",`${ka}px`)}}),A&&TD({element:A,padding:a}),OD({arrowWidth:I,arrowHeight:C}),f&&ED({strategy:"referenceHidden",...N})]}),[U,K]=ob(J),H=bn(T);Wt(()=>{F&&(H==null||H())},[F,H]);const Q=(se=M.arrow)==null?void 0:se.x,X=(Pe=M.arrow)==null?void 0:Pe.y,fe=((qe=M.arrow)==null?void 0:qe.centerOffset)!==0,[be,le]=v.useState();return Wt(()=>{_&&le(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:F?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(ye=M.transformOrigin)==null?void 0:ye.x,(Ee=M.transformOrigin)==null?void 0:Ee.y].join(" "),...((xe=M.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(AD,{scope:n,placedSide:U,onArrowChange:O,arrowX:Q,arrowY:X,shouldHideArrow:fe,children:d.jsx(Ie.div,{"data-side":U,"data-align":K,...y,ref:b,style:{...y.style,animation:F?void 0:"none"}})})})});rb.displayName=bv;var sb="PopperArrow",kD={top:"bottom",right:"left",bottom:"top",left:"right"},ib=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=ND(sb,r),o=kD[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(SD,{...s,ref:n,style:{...s.style,display:"block"}})})});ib.displayName=sb;function DD(t){return t!==null}var OD=t=>({name:"transformOrigin",options:t,fn(e){var E,_,g;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,h]=ob(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,w=(((g=s.arrow)==null?void 0:g.y)??0)+u/2;let T="",y="";return c==="bottom"?(T=o?p:`${f}px`,y=`${-u}px`):c==="top"?(T=o?p:`${f}px`,y=`${r.floating.height+u}px`):c==="right"?(T=`${-u}px`,y=o?p:`${w}px`):c==="left"&&(T=`${r.floating.width+u}px`,y=o?p:`${w}px`),{data:{x:T,y}}}});function ob(t){const[e,n="center"]=t.split("-");return[e,n]}var ab=eb,lb=nb,ub=rb,cb=ib,[Ih,w6]=wh("Tooltip",[Ch]),Ph=Ch(),db="TooltipProvider",jD=700,Em="tooltip.open",[MD,Sv]=Ih(db),hb=t=>{const{__scopeTooltip:e,delayDuration:n=jD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),u=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),d.jsx(MD,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:v.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:i})};hb.displayName=db;var Rh="Tooltip",[VD,Ah]=Ih(Rh),fb=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,u=Sv(Rh,t.__scopeTooltip),c=Ph(e),[h,p]=v.useState(null),f=ki(),w=v.useRef(0),T=o??u.disableHoverableContent,y=a??u.delayDuration,E=v.useRef(!1),[_=!1,g]=Wl({prop:r,defaultProp:s,onChange:I=>{I?(u.onOpen(),document.dispatchEvent(new CustomEvent(Em))):u.onClose(),i==null||i(I)}}),b=v.useMemo(()=>_?E.current?"delayed-open":"instant-open":"closed",[_]),A=v.useCallback(()=>{window.clearTimeout(w.current),w.current=0,E.current=!1,g(!0)},[g]),O=v.useCallback(()=>{window.clearTimeout(w.current),w.current=0,g(!1)},[g]),V=v.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{E.current=!0,g(!0),w.current=0},y)},[y,g]);return v.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),d.jsx(ab,{...c,children:d.jsx(VD,{scope:e,contentId:f,open:_,stateAttribute:b,trigger:h,onTriggerChange:p,onTriggerEnter:v.useCallback(()=>{u.isOpenDelayed?V():A()},[u.isOpenDelayed,V,A]),onTriggerLeave:v.useCallback(()=>{T?O():(window.clearTimeout(w.current),w.current=0)},[O,T]),onOpen:A,onClose:O,disableHoverableContent:T,children:n})})};fb.displayName=Rh;var Tm="TooltipTrigger",pb=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ah(Tm,n),i=Sv(Tm,n),o=Ph(n),a=v.useRef(null),u=We(e,a,s.onTriggerChange),c=v.useRef(!1),h=v.useRef(!1),p=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(lb,{asChild:!0,...o,children:d.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:me(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:me(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:me(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:me(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:me(t.onBlur,s.onClose),onClick:me(t.onClick,s.onClose)})})});pb.displayName=Tm;var LD="TooltipPortal",[x6,FD]=Ih(LD,{forceMount:void 0}),sa="TooltipContent",mb=v.forwardRef((t,e)=>{const n=FD(sa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ah(sa,t.__scopeTooltip);return d.jsx(ya,{present:r||o.open,children:o.disableHoverableContent?d.jsx(gb,{side:s,...i,ref:e}):d.jsx($D,{side:s,...i,ref:e})})}),$D=v.forwardRef((t,e)=>{const n=Ah(sa,t.__scopeTooltip),r=Sv(sa,t.__scopeTooltip),s=v.useRef(null),i=We(e,s),[o,a]=v.useState(null),{trigger:u,onClose:c}=n,h=s.current,{onPointerInTransitChange:p}=r,f=v.useCallback(()=>{a(null),p(!1)},[p]),w=v.useCallback((T,y)=>{const E=T.currentTarget,_={x:T.clientX,y:T.clientY},g=HD(_,E.getBoundingClientRect()),b=WD(_,g),A=qD(y.getBoundingClientRect()),O=QD([...b,...A]);a(O),p(!0)},[p]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(u&&h){const T=E=>w(E,h),y=E=>w(E,u);return u.addEventListener("pointerleave",T),h.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",y)}}},[u,h,w,f]),v.useEffect(()=>{if(o){const T=y=>{const E=y.target,_={x:y.clientX,y:y.clientY},g=(u==null?void 0:u.contains(E))||(h==null?void 0:h.contains(E)),b=!KD(_,o);g?f():b&&(f(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,h,o,c,f]),d.jsx(gb,{...t,ref:i})}),[UD,BD]=Ih(Rh,{isInside:!1}),gb=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Ah(sa,n),c=Ph(n),{onClose:h}=u;return v.useEffect(()=>(document.addEventListener(Em,h),()=>document.removeEventListener(Em,h)),[h]),v.useEffect(()=>{if(u.trigger){const p=f=>{const w=f.target;w!=null&&w.contains(u.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,h]),d.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:d.jsxs(ub,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(nT,{children:r}),d.jsx(UD,{scope:n,isInside:!0,children:d.jsx(j2,{id:u.contentId,role:"tooltip",children:s||r})})]})})});mb.displayName=sa;var vb="TooltipArrow",zD=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ph(n);return BD(vb,n).isInside?null:d.jsx(cb,{...s,...r,ref:e})});zD.displayName=vb;function HD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function WD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function KD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,h=e[o].y;u>r!=h>r&&n<(c-a)*(r-u)/(h-u)+a&&(s=!s)}return s}function QD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),GD(e)}function GD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var YD=hb,XD=fb,JD=pb,yb=mb;const wb=YD,ZD=XD,eO=JD,xb=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(yb,{ref:r,sideOffset:e,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));xb.displayName=yb.displayName;var Ta=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fi=typeof window>"u"||"Deno"in globalThis;function Xt(){}function tO(t,e){return typeof t=="function"?t(e):t}function bm(t){return typeof t=="number"&&t>=0&&t!==1/0}function _b(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Os(t,e){return typeof t=="function"?t(e):t}function qn(t,e){return typeof t=="function"?t(e):t}function Uw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Cv(o,e.options))return!1}else if(!Gl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Bw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($i(e.options.mutationKey)!==$i(i))return!1}else if(!Gl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Cv(t,e){return((e==null?void 0:e.queryKeyHashFn)||$i)(t)}function $i(t){return JSON.stringify(t,(e,n)=>Sm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gl(t[n],e[n])):!1}function Eb(t,e){if(t===e)return t;const n=zw(t)&&zw(e);if(n||Sm(t)&&Sm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<o;h++){const p=n?h:i[h];(!n&&u.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,c++):(a[p]=Eb(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Nd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sm(t){if(!Hw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Hw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Hw(t){return Object.prototype.toString.call(t)==="[object Object]"}function nO(t){return new Promise(e=>{setTimeout(e,t)})}function Cm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Eb(t,e):e}function rO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Iv=Symbol();function Tb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Iv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bb(t,e){return typeof t=="function"?t(...e):!!t}var _i,hs,Lo,P_,iO=(P_=class extends Ta{constructor(){super();ae(this,_i);ae(this,hs);ae(this,Lo);ee(this,Lo,e=>{if(!Fi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,hs)||this.setEventListener(j(this,Lo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,hs))==null||e.call(this),ee(this,hs,void 0))}setEventListener(e){var n;ee(this,Lo,e),(n=j(this,hs))==null||n.call(this),ee(this,hs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,_i)!==e&&(ee(this,_i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,_i)=="boolean"?j(this,_i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_i=new WeakMap,hs=new WeakMap,Lo=new WeakMap,P_),Pv=new iO,Fo,fs,$o,R_,oO=(R_=class extends Ta{constructor(){super();ae(this,Fo,!0);ae(this,fs);ae(this,$o);ee(this,$o,e=>{if(!Fi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,fs)||this.setEventListener(j(this,$o))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,fs))==null||e.call(this),ee(this,fs,void 0))}setEventListener(e){var n;ee(this,$o,e),(n=j(this,fs))==null||n.call(this),ee(this,fs,e(this.setOnline.bind(this)))}setOnline(e){j(this,Fo)!==e&&(ee(this,Fo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,Fo)}},Fo=new WeakMap,fs=new WeakMap,$o=new WeakMap,R_),kd=new oO;function Im(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function aO(t){return Math.min(1e3*2**t,3e4)}function Sb(t){return(t??"online")==="online"?kd.isOnline():!0}var Cb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zf(t){return t instanceof Cb}function Ib(t){let e=!1,n=0,r=!1,s;const i=Im(),o=y=>{var E;r||(f(new Cb(y)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Pv.isFocused()&&(t.networkMode==="always"||kd.isOnline())&&t.canRun(),h=()=>Sb(t.networkMode)&&t.canRun(),p=y=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,y),s==null||s(),i.reject(y))},w=()=>new Promise(y=>{var E;s=_=>{(r||c())&&y(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),T=()=>{if(r)return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(p).catch(_=>{var V;if(r)return;const g=t.retry??(Fi?0:3),b=t.retryDelay??aO,A=typeof b=="function"?b(n,_):b,O=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,_);if(e||!O){f(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),nO(A).then(()=>c()?void 0:w()).then(()=>{e?f(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?T():w().then(T),i)}}var lO=t=>setTimeout(t,0);function uO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=lO;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var wt=uO(),Ei,A_,Pb=(A_=class{constructor(){ae(this,Ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bm(this.gcTime)&&ee(this,Ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fi?1/0:5*60*1e3))}clearGcTimeout(){j(this,Ei)&&(clearTimeout(j(this,Ei)),ee(this,Ei,void 0))}},Ei=new WeakMap,A_),Uo,Ti,Pn,bi,$t,du,Si,Bn,Ar,N_,cO=(N_=class extends Pb{constructor(n){super();ae(this,Bn);ae(this,Uo);ae(this,Ti);ae(this,Pn);ae(this,bi);ae(this,$t);ae(this,du);ae(this,Si);ee(this,Si,!1),ee(this,du,n.defaultOptions),this.setOptions(n.options),this.observers=[],ee(this,bi,n.client),ee(this,Pn,j(this,bi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ee(this,Uo,dO(this.options)),this.state=n.state??j(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,$t))==null?void 0:n.promise}setOptions(n){this.options={...j(this,du),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Pn).remove(this)}setData(n,r){const s=Cm(this.state.data,n,this.options);return ge(this,Bn,Ar).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){ge(this,Bn,Ar).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=j(this,$t))==null?void 0:s.promise;return(i=j(this,$t))==null||i.cancel(n),r?r.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Uo))}isActive(){return this.observers.some(n=>qn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Os(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!_b(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,$t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,$t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,Pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(j(this,$t)&&(j(this,Si)?j(this,$t).cancel({revert:!0}):j(this,$t).cancelRetry()),this.scheduleGc()),j(this,Pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,Bn,Ar).call(this,{type:"invalidate"})}fetch(n,r){var h,p,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,$t))return j(this,$t).continueRetry(),j(this,$t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(T=>T.options.queryFn);w&&this.setOptions(w.options)}const s=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ee(this,Si,!0),s.signal)})},o=()=>{const w=Tb(this.options,r),y=(()=>{const E={client:j(this,bi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ee(this,Si,!1),this.options.persister?this.options.persister(w,y,this):w(y)},u=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:j(this,bi),state:this.state,fetchFn:o};return i(w),w})();(h=this.options.behavior)==null||h.onFetch(u,this),ee(this,Ti,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&ge(this,Bn,Ar).call(this,{type:"fetch",meta:(f=u.fetchOptions)==null?void 0:f.meta});const c=w=>{var T,y,E,_;Zf(w)&&w.silent||ge(this,Bn,Ar).call(this,{type:"error",error:w}),Zf(w)||((y=(T=j(this,Pn).config).onError)==null||y.call(T,w,this),(_=(E=j(this,Pn).config).onSettled)==null||_.call(E,this.state.data,w,this)),this.scheduleGc()};return ee(this,$t,Ib({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:w=>{var T,y,E,_;if(w===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(g){c(g);return}(y=(T=j(this,Pn).config).onSuccess)==null||y.call(T,w,this),(_=(E=j(this,Pn).config).onSettled)==null||_.call(E,w,this.state.error,this),this.scheduleGc()},onError:c,onFail:(w,T)=>{ge(this,Bn,Ar).call(this,{type:"failed",failureCount:w,error:T})},onPause:()=>{ge(this,Bn,Ar).call(this,{type:"pause"})},onContinue:()=>{ge(this,Bn,Ar).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),j(this,$t).start()}},Uo=new WeakMap,Ti=new WeakMap,Pn=new WeakMap,bi=new WeakMap,$t=new WeakMap,du=new WeakMap,Si=new WeakMap,Bn=new WeakSet,Ar=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Rb(s.data,this.options),fetchMeta:n.meta??null};case"success":return ee(this,Ti,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Zf(i)&&i.revert&&j(this,Ti)?{...j(this,Ti),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),wt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),j(this,Pn).notify({query:this,type:"updated",action:n})})},N_);function Rb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ar,k_,hO=(k_=class extends Ta{constructor(e={}){super();ae(this,ar);this.config=e,ee(this,ar,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Cv(s,n);let o=this.get(i);return o||(o=new cO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,ar).has(e.queryHash)||(j(this,ar).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,ar).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,ar).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,ar).get(e)}getAll(){return[...j(this,ar).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Uw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Uw(e,r)):n}notify(e){wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ar=new WeakMap,k_),lr,Qt,Ci,ur,is,D_,fO=(D_=class extends Pb{constructor(n){super();ae(this,ur);ae(this,lr);ae(this,Qt);ae(this,Ci);this.mutationId=n.mutationId,ee(this,Qt,n.mutationCache),ee(this,lr,[]),this.state=n.state||Ab(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,lr).includes(n)||(j(this,lr).push(n),this.clearGcTimeout(),j(this,Qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ee(this,lr,j(this,lr).filter(r=>r!==n)),this.scheduleGc(),j(this,Qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,lr).length||(this.state.status==="pending"?this.scheduleGc():j(this,Qt).remove(this))}continue(){var n;return((n=j(this,Ci))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,u,c,h,p,f,w,T,y,E,_,g,b,A,O,V,I,C,R;const r=()=>{ge(this,ur,is).call(this,{type:"continue"})};ee(this,Ci,Ib({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{ge(this,ur,is).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{ge(this,ur,is).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Qt).canRun(this)}));const s=this.state.status==="pending",i=!j(this,Ci).canStart();try{if(s)r();else{ge(this,ur,is).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=j(this,Qt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));k!==this.state.context&&ge(this,ur,is).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const S=await j(this,Ci).start();return await((p=(h=j(this,Qt).config).onSuccess)==null?void 0:p.call(h,S,n,this.state.context,this)),await((w=(f=this.options).onSuccess)==null?void 0:w.call(f,S,n,this.state.context)),await((y=(T=j(this,Qt).config).onSettled)==null?void 0:y.call(T,S,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,S,null,n,this.state.context)),ge(this,ur,is).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(g=j(this,Qt).config).onError)==null?void 0:b.call(g,S,n,this.state.context,this)),await((O=(A=this.options).onError)==null?void 0:O.call(A,S,n,this.state.context)),await((I=(V=j(this,Qt).config).onSettled)==null?void 0:I.call(V,void 0,S,this.state.variables,this.state.context,this)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,S,n,this.state.context)),S}finally{ge(this,ur,is).call(this,{type:"error",error:S})}}finally{j(this,Qt).runNext(this)}}},lr=new WeakMap,Qt=new WeakMap,Ci=new WeakMap,ur=new WeakSet,is=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),wt.batch(()=>{j(this,lr).forEach(s=>{s.onMutationUpdate(n)}),j(this,Qt).notify({mutation:this,type:"updated",action:n})})},D_);function Ab(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dr,zn,hu,O_,pO=(O_=class extends Ta{constructor(e={}){super();ae(this,Dr);ae(this,zn);ae(this,hu);this.config=e,ee(this,Dr,new Set),ee(this,zn,new Map),ee(this,hu,0)}build(e,n,r){const s=new fO({mutationCache:this,mutationId:++Yu(this,hu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){j(this,Dr).add(e);const n=yc(e);if(typeof n=="string"){const r=j(this,zn).get(n);r?r.push(e):j(this,zn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,Dr).delete(e)){const n=yc(e);if(typeof n=="string"){const r=j(this,zn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,zn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yc(e);if(typeof n=="string"){const r=j(this,zn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=yc(e);if(typeof n=="string"){const s=(r=j(this,zn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wt.batch(()=>{j(this,Dr).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,Dr).clear(),j(this,zn).clear()})}getAll(){return Array.from(j(this,Dr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bw(n,r))}findAll(e={}){return this.getAll().filter(n=>Bw(e,n))}notify(e){wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xt))))}},Dr=new WeakMap,zn=new WeakMap,hu=new WeakMap,O_);function yc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ww(t){return{onFetch:(e,n)=>{var h,p,f,w,T;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const E=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=Tb(e.options,e.fetchOptions),g=async(b,A,O)=>{if(y)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const I=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};return E(k),k})(),C=await _(I),{maxPages:R}=e.options,S=O?sO:rO;return{pages:S(b.pages,C,R),pageParams:S(b.pageParams,A,R)}};if(s&&i.length){const b=s==="backward",A=b?mO:qw,O={pages:i,pageParams:o},V=A(r,O);a=await g(O,V,b)}else{const b=t??i.length;do{const A=u===0?o[0]??r.initialPageParam:qw(r,a);if(u>0&&A==null)break;a=await g(a,A),u++}while(u<b)}return a};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function qw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rt,ps,ms,Bo,zo,gs,Ho,Wo,j_,gO=(j_=class{constructor(t={}){ae(this,rt);ae(this,ps);ae(this,ms);ae(this,Bo);ae(this,zo);ae(this,gs);ae(this,Ho);ae(this,Wo);ee(this,rt,t.queryCache||new hO),ee(this,ps,t.mutationCache||new pO),ee(this,ms,t.defaultOptions||{}),ee(this,Bo,new Map),ee(this,zo,new Map),ee(this,gs,0)}mount(){Yu(this,gs)._++,j(this,gs)===1&&(ee(this,Ho,Pv.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,rt).onFocus())})),ee(this,Wo,kd.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,rt).onOnline())})))}unmount(){var t,e;Yu(this,gs)._--,j(this,gs)===0&&((t=j(this,Ho))==null||t.call(this),ee(this,Ho,void 0),(e=j(this,Wo))==null||e.call(this),ee(this,Wo,void 0))}isFetching(t){return j(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,ps).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,rt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,rt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Os(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,rt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=j(this,rt).get(r.queryHash),i=s==null?void 0:s.state.data,o=tO(e,i);if(o!==void 0)return j(this,rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wt.batch(()=>j(this,rt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,rt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,rt);wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,rt);return wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=wt.batch(()=>j(this,rt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xt).catch(Xt)}invalidateQueries(t,e={}){return wt.batch(()=>(j(this,rt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=wt.batch(()=>j(this,rt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,rt).build(this,e);return n.isStaleByTime(Os(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xt).catch(Xt)}fetchInfiniteQuery(t){return t.behavior=Ww(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xt).catch(Xt)}ensureInfiniteQueryData(t){return t.behavior=Ww(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kd.isOnline()?j(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,rt)}getMutationCache(){return j(this,ps)}getDefaultOptions(){return j(this,ms)}setDefaultOptions(t){ee(this,ms,t)}setQueryDefaults(t,e){j(this,Bo).set($i(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,Bo).values()],n={};return e.forEach(r=>{Gl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,zo).set($i(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,zo).values()],n={};return e.forEach(r=>{Gl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Cv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,rt).clear(),j(this,ps).clear()}},rt=new WeakMap,ps=new WeakMap,ms=new WeakMap,Bo=new WeakMap,zo=new WeakMap,gs=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,j_),nn,Te,fu,Gt,Ii,qo,vs,ys,pu,Ko,Qo,Pi,Ri,ws,Go,Ne,ll,Pm,Rm,Am,Nm,km,Dm,Om,Nb,M_,vO=(M_=class extends Ta{constructor(e,n){super();ae(this,Ne);ae(this,nn);ae(this,Te);ae(this,fu);ae(this,Gt);ae(this,Ii);ae(this,qo);ae(this,vs);ae(this,ys);ae(this,pu);ae(this,Ko);ae(this,Qo);ae(this,Pi);ae(this,Ri);ae(this,ws);ae(this,Go,new Set);this.options=n,ee(this,nn,e),ee(this,ys,null),ee(this,vs,Im()),this.options.experimental_prefetchInRender||j(this,vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,Te).addObserver(this),Kw(j(this,Te),this.options)?ge(this,Ne,ll).call(this):this.updateResult(),ge(this,Ne,Nm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jm(j(this,Te),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jm(j(this,Te),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,Ne,km).call(this),ge(this,Ne,Dm).call(this),j(this,Te).removeObserver(this)}setOptions(e){const n=this.options,r=j(this,Te);if(this.options=j(this,nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qn(this.options.enabled,j(this,Te))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,Ne,Om).call(this),j(this,Te).setOptions(this.options),n._defaulted&&!Nd(this.options,n)&&j(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,Te),observer:this});const s=this.hasListeners();s&&Qw(j(this,Te),r,this.options,n)&&ge(this,Ne,ll).call(this),this.updateResult(),s&&(j(this,Te)!==r||qn(this.options.enabled,j(this,Te))!==qn(n.enabled,j(this,Te))||Os(this.options.staleTime,j(this,Te))!==Os(n.staleTime,j(this,Te)))&&ge(this,Ne,Pm).call(this);const i=ge(this,Ne,Rm).call(this);s&&(j(this,Te)!==r||qn(this.options.enabled,j(this,Te))!==qn(n.enabled,j(this,Te))||i!==j(this,ws))&&ge(this,Ne,Am).call(this,i)}getOptimisticResult(e){const n=j(this,nn).getQueryCache().build(j(this,nn),e),r=this.createResult(n,e);return wO(this,r)&&(ee(this,Gt,r),ee(this,qo,this.options),ee(this,Ii,j(this,Te).state)),r}getCurrentResult(){return j(this,Gt)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){j(this,Go).add(e)}getCurrentQuery(){return j(this,Te)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=j(this,nn).defaultQueryOptions(e),r=j(this,nn).getQueryCache().build(j(this,nn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ge(this,Ne,ll).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Gt)))}createResult(e,n){var R;const r=j(this,Te),s=this.options,i=j(this,Gt),o=j(this,Ii),a=j(this,qo),c=e!==r?e.state:j(this,fu),{state:h}=e;let p={...h},f=!1,w;if(n._optimisticResults){const S=this.hasListeners(),k=!S&&Kw(e,n),D=S&&Qw(e,r,n,s);(k||D)&&(p={...p,...Rb(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:T,errorUpdatedAt:y,status:E}=p;w=p.data;let _=!1;if(n.placeholderData!==void 0&&w===void 0&&E==="pending"){let S;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(S=i.data,_=!0):S=typeof n.placeholderData=="function"?n.placeholderData((R=j(this,Qo))==null?void 0:R.state.data,j(this,Qo)):n.placeholderData,S!==void 0&&(E="success",w=Cm(i==null?void 0:i.data,S,n),f=!0)}if(n.select&&w!==void 0&&!_)if(i&&w===(o==null?void 0:o.data)&&n.select===j(this,pu))w=j(this,Ko);else try{ee(this,pu,n.select),w=n.select(w),w=Cm(i==null?void 0:i.data,w,n),ee(this,Ko,w),ee(this,ys,null)}catch(S){ee(this,ys,S)}j(this,ys)&&(T=j(this,ys),w=j(this,Ko),y=Date.now(),E="error");const g=p.fetchStatus==="fetching",b=E==="pending",A=E==="error",O=b&&g,V=w!==void 0,C={status:E,fetchStatus:p.fetchStatus,isPending:b,isSuccess:E==="success",isError:A,isInitialLoading:O,isLoading:O,data:w,dataUpdatedAt:p.dataUpdatedAt,error:T,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:A&&!V,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:A&&V,isStale:Rv(e,n),refetch:this.refetch,promise:j(this,vs)};if(this.options.experimental_prefetchInRender){const S=N=>{C.status==="error"?N.reject(C.error):C.data!==void 0&&N.resolve(C.data)},k=()=>{const N=ee(this,vs,C.promise=Im());S(N)},D=j(this,vs);switch(D.status){case"pending":e.queryHash===r.queryHash&&S(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&k();break}}return C}updateResult(){const e=j(this,Gt),n=this.createResult(j(this,Te),this.options);if(ee(this,Ii,j(this,Te).state),ee(this,qo,this.options),j(this,Ii).data!==void 0&&ee(this,Qo,j(this,Te)),Nd(n,e))return;ee(this,Gt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!j(this,Go).size)return!0;const o=new Set(i??j(this,Go));return this.options.throwOnError&&o.add("error"),Object.keys(j(this,Gt)).some(a=>{const u=a;return j(this,Gt)[u]!==e[u]&&o.has(u)})};ge(this,Ne,Nb).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,Ne,Nm).call(this)}},nn=new WeakMap,Te=new WeakMap,fu=new WeakMap,Gt=new WeakMap,Ii=new WeakMap,qo=new WeakMap,vs=new WeakMap,ys=new WeakMap,pu=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,Pi=new WeakMap,Ri=new WeakMap,ws=new WeakMap,Go=new WeakMap,Ne=new WeakSet,ll=function(e){ge(this,Ne,Om).call(this);let n=j(this,Te).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xt)),n},Pm=function(){ge(this,Ne,km).call(this);const e=Os(this.options.staleTime,j(this,Te));if(Fi||j(this,Gt).isStale||!bm(e))return;const r=_b(j(this,Gt).dataUpdatedAt,e)+1;ee(this,Pi,setTimeout(()=>{j(this,Gt).isStale||this.updateResult()},r))},Rm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,Te)):this.options.refetchInterval)??!1},Am=function(e){ge(this,Ne,Dm).call(this),ee(this,ws,e),!(Fi||qn(this.options.enabled,j(this,Te))===!1||!bm(j(this,ws))||j(this,ws)===0)&&ee(this,Ri,setInterval(()=>{(this.options.refetchIntervalInBackground||Pv.isFocused())&&ge(this,Ne,ll).call(this)},j(this,ws)))},Nm=function(){ge(this,Ne,Pm).call(this),ge(this,Ne,Am).call(this,ge(this,Ne,Rm).call(this))},km=function(){j(this,Pi)&&(clearTimeout(j(this,Pi)),ee(this,Pi,void 0))},Dm=function(){j(this,Ri)&&(clearInterval(j(this,Ri)),ee(this,Ri,void 0))},Om=function(){const e=j(this,nn).getQueryCache().build(j(this,nn),this.options);if(e===j(this,Te))return;const n=j(this,Te);ee(this,Te,e),ee(this,fu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Nb=function(e){wt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(j(this,Gt))}),j(this,nn).getQueryCache().notify({query:j(this,Te),type:"observerResultsUpdated"})})},M_);function yO(t,e){return qn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kw(t,e){return yO(t,e)||t.state.data!==void 0&&jm(t,e,e.refetchOnMount)}function jm(t,e,n){if(qn(e.enabled,t)!==!1&&Os(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Rv(t,e)}return!1}function Qw(t,e,n,r){return(t!==e||qn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rv(t,n)}function Rv(t,e){return qn(e.enabled,t)!==!1&&t.isStaleByTime(Os(e.staleTime,t))}function wO(t,e){return!Nd(t.getCurrentResult(),e)}var xs,_s,rn,Or,Lr,Hc,Mm,V_,xO=(V_=class extends Ta{constructor(n,r){super();ae(this,Lr);ae(this,xs);ae(this,_s);ae(this,rn);ae(this,Or);ee(this,xs,n),this.setOptions(r),this.bindMethods(),ge(this,Lr,Hc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=j(this,xs).defaultMutationOptions(n),Nd(this.options,r)||j(this,xs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,rn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$i(r.mutationKey)!==$i(this.options.mutationKey)?this.reset():((s=j(this,rn))==null?void 0:s.state.status)==="pending"&&j(this,rn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=j(this,rn))==null||n.removeObserver(this)}onMutationUpdate(n){ge(this,Lr,Hc).call(this),ge(this,Lr,Mm).call(this,n)}getCurrentResult(){return j(this,_s)}reset(){var n;(n=j(this,rn))==null||n.removeObserver(this),ee(this,rn,void 0),ge(this,Lr,Hc).call(this),ge(this,Lr,Mm).call(this)}mutate(n,r){var s;return ee(this,Or,r),(s=j(this,rn))==null||s.removeObserver(this),ee(this,rn,j(this,xs).getMutationCache().build(j(this,xs),this.options)),j(this,rn).addObserver(this),j(this,rn).execute(n)}},xs=new WeakMap,_s=new WeakMap,rn=new WeakMap,Or=new WeakMap,Lr=new WeakSet,Hc=function(){var r;const n=((r=j(this,rn))==null?void 0:r.state)??Ab();ee(this,_s,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Mm=function(n){wt.batch(()=>{var r,s,i,o,a,u,c,h;if(j(this,Or)&&this.hasListeners()){const p=j(this,_s).variables,f=j(this,_s).context;(n==null?void 0:n.type)==="success"?((s=(r=j(this,Or)).onSuccess)==null||s.call(r,n.data,p,f),(o=(i=j(this,Or)).onSettled)==null||o.call(i,n.data,null,p,f)):(n==null?void 0:n.type)==="error"&&((u=(a=j(this,Or)).onError)==null||u.call(a,n.error,p,f),(h=(c=j(this,Or)).onSettled)==null||h.call(c,void 0,n.error,p,f))}this.listeners.forEach(p=>{p(j(this,_s))})})},V_),kb=v.createContext(void 0),Av=t=>{const e=v.useContext(kb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_O=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(kb.Provider,{value:t,children:e})),Db=v.createContext(!1),EO=()=>v.useContext(Db);Db.Provider;function TO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var bO=v.createContext(TO()),SO=()=>v.useContext(bO),CO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},IO=t=>{v.useEffect(()=>{t.clearReset()},[t])},PO=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||bb(n,[t.error,r])),RO=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},AO=(t,e)=>t.isLoading&&t.isFetching&&!e,NO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Gw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function kO(t,e,n){var p,f,w,T,y;const r=EO(),s=SO(),i=Av(),o=i.defaultQueryOptions(t);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,o),o._optimisticResults=r?"isRestoring":"optimistic",RO(o),CO(o,s),IO(s);const a=!i.getQueryCache().get(o.queryHash),[u]=v.useState(()=>new e(i,o)),c=u.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(E=>{const _=h?u.subscribe(wt.batchCalls(E)):Xt;return u.updateResult(),_},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(o)},[o,u]),NO(o,c))throw Gw(o,u,s);if(PO({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((T=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||T.call(w,o,c),o.experimental_prefetchInRender&&!Fi&&AO(c,r)){const E=a?Gw(o,u,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;E==null||E.catch(Xt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function DO(t,e){return kO(t,vO)}function Yw(t,e){const n=Av(),[r]=v.useState(()=>new xO(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const s=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(wt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=v.useCallback((o,a)=>{r.mutate(o,a).catch(Xt)},[r]);if(s.error&&bb(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const Xw="popstate";function OO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Vm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dd(s)}return MO(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ob(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substr(2,8)}function Jw(t,e){return{usr:t.state,key:t.key,idx:e}}function Vm(t,e,n,r){return n===void 0&&(n=null),Yl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:n,key:e&&e.key||r||jO()})}function Dd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bs.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Yl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=bs.Pop;let E=h(),_=E==null?null:E-c;c=E,u&&u({action:a,location:y.location,delta:_})}function f(E,_){a=bs.Push;let g=Vm(y.location,E,_);c=h()+1;let b=Jw(g,c),A=y.createHref(g);try{o.pushState(b,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}i&&u&&u({action:a,location:y.location,delta:1})}function w(E,_){a=bs.Replace;let g=Vm(y.location,E,_);c=h();let b=Jw(g,c),A=y.createHref(g);o.replaceState(b,"",A),i&&u&&u({action:a,location:y.location,delta:0})}function T(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof E=="string"?E:Dd(E);return g=g.replace(/ $/,"%20"),ot(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let y={get action(){return a},get location(){return t(s,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Xw,p),u=E,()=>{s.removeEventListener(Xw,p),u=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let _=T(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:w,go(E){return o.go(E)}};return y}var Zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zw||(Zw={}));function VO(t,e,n){return n===void 0&&(n="/"),LO(t,e,n,!1)}function LO(t,e,n,r){let s=typeof e=="string"?ba(e):e,i=ia(s.pathname||"/",n);if(i==null)return null;let o=jb(t);FO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=YO(i);a=QO(o[u],c,r)}return a}function jb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ot(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=js([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jb(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:qO(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Mb(i.path))s(i,o,u)}),e}function Mb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Mb(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function FO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $O=/^:[\w-]+$/,UO=3,BO=2,zO=1,HO=10,WO=-2,ex=t=>t==="*";function qO(t,e){let n=t.split("/"),r=n.length;return n.some(ex)&&(r+=WO),e&&(r+=BO),n.filter(s=>!ex(s)).reduce((s,i)=>s+($O.test(i)?UO:i===""?zO:HO),r)}function KO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function QO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=Od({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),f=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Od({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:js([i,p.pathname]),pathnameBase:ej(js([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=js([i,p.pathnameBase]))}return o}function Od(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:f,isOptional:w}=h;if(f==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const T=a[p];return w&&!T?c[f]=void 0:c[f]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function GO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ob(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ob(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:JO(n,e):e,search:tj(r),hash:nj(s)}}function JO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ep(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vb(t,e){let n=ZO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ba(t):(s=Yl({},t),ot(!s.pathname||!s.pathname.includes("?"),ep("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),ep("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),ep("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let u=XO(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const js=t=>t.join("/").replace(/\/\/+/g,"/"),ej=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fb=["post","put","patch","delete"];new Set(Fb);const sj=["get",...Fb];new Set(sj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}const Nh=v.createContext(null),$b=v.createContext(null),ri=v.createContext(null),kh=v.createContext(null),Gi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Ub=v.createContext(null);function ij(t,e){let{relative:n}=e===void 0?{}:e;Tu()||ot(!1);let{basename:r,navigator:s}=v.useContext(ri),{hash:i,pathname:o,search:a}=Dh(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:js([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Tu(){return v.useContext(kh)!=null}function Yi(){return Tu()||ot(!1),v.useContext(kh).location}function Bb(t){v.useContext(ri).static||v.useLayoutEffect(t)}function oj(){let{isDataRoute:t}=v.useContext(Gi);return t?wj():aj()}function aj(){Tu()||ot(!1);let t=v.useContext(Nh),{basename:e,future:n,navigator:r}=v.useContext(ri),{matches:s}=v.useContext(Gi),{pathname:i}=Yi(),o=JSON.stringify(Vb(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return Bb(()=>{a.current=!0}),v.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=Lb(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:js([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function Dh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(ri),{matches:s}=v.useContext(Gi),{pathname:i}=Yi(),o=JSON.stringify(Vb(s,r.v7_relativeSplatPath));return v.useMemo(()=>Lb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function lj(t,e){return uj(t,e)}function uj(t,e,n,r){Tu()||ot(!1);let{navigator:s}=v.useContext(ri),{matches:i}=v.useContext(Gi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Yi(),h;if(e){var p;let E=typeof e=="string"?ba(e):e;u==="/"||(p=E.pathname)!=null&&p.startsWith(u)||ot(!1),h=E}else h=c;let f=h.pathname||"/",w=f;if(u!=="/"){let E=u.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=VO(t,{pathname:w}),y=pj(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:js([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:js([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&y?v.createElement(kh.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bs.Pop}},y):y}function cj(){let t=yj(),e=rj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const dj=v.createElement(cj,null);class hj extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Gi.Provider,{value:this.props.routeContext},v.createElement(Ub.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fj(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Nh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gi.Provider,{value:e},r)}function pj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||ot(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:f,errors:w}=n,T=p.route.loader&&f[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||T){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let w,T=!1,y=null,E=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||dj,u&&(c<0&&f===0?(T=!0,E=null):c===f&&(T=!0,E=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),g=()=>{let b;return w?b=y:T?b=E:p.route.Component?b=v.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=h,v.createElement(fj,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?v.createElement(hj,{location:n.location,revalidation:n.revalidation,component:y,error:w,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):g()},null)}var zb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zb||{}),jd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jd||{});function mj(t){let e=v.useContext(Nh);return e||ot(!1),e}function gj(t){let e=v.useContext($b);return e||ot(!1),e}function vj(t){let e=v.useContext(Gi);return e||ot(!1),e}function Hb(t){let e=vj(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function yj(){var t;let e=v.useContext(Ub),n=gj(jd.UseRouteError),r=Hb(jd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wj(){let{router:t}=mj(zb.UseNavigateStable),e=Hb(jd.UseNavigateStable),n=v.useRef(!1);return Bb(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xl({fromRouteId:e},i)))},[t,e])}function os(t){ot(!1)}function xj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bs.Pop,navigator:i,static:o=!1,future:a}=t;Tu()&&ot(!1);let u=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:i,static:o,future:Xl({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=ba(r));let{pathname:h="/",search:p="",hash:f="",state:w=null,key:T="default"}=r,y=v.useMemo(()=>{let E=ia(h,u);return E==null?null:{location:{pathname:E,search:p,hash:f,state:w,key:T},navigationType:s}},[u,h,p,f,w,T,s]);return y==null?null:v.createElement(ri.Provider,{value:c},v.createElement(kh.Provider,{children:n,value:y}))}function _j(t){let{children:e,location:n}=t;return lj(Lm(e),n)}new Promise(()=>{});function Lm(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Lm(r.props.children,i));return}r.type!==os&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}function Wb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ej(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tj(t,e){return t.button===0&&(!e||e==="_self")&&!Ej(t)}const bj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Cj="6";try{window.__reactRouterVersion=Cj}catch{}const Ij=v.createContext({isTransitioning:!1}),Pj="startTransition",tx=G_[Pj];function Rj(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=OO({window:s,v5Compat:!0}));let o=i.current,[a,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=v.useCallback(p=>{c&&tx?tx(()=>u(p)):u(p)},[u,c]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.createElement(xj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Aj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kj=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p}=e,f=Wb(e,bj),{basename:w}=v.useContext(ri),T,y=!1;if(typeof c=="string"&&Nj.test(c)&&(T=c,Aj))try{let b=new URL(window.location.href),A=c.startsWith("//")?new URL(b.protocol+c):new URL(c),O=ia(A.pathname,w);A.origin===b.origin&&O!=null?c=O+A.search+A.hash:y=!0}catch{}let E=ij(c,{relative:s}),_=jj(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s,viewTransition:p});function g(b){r&&r(b),b.defaultPrevented||_(b)}return v.createElement("a",Md({},f,{href:T||E,onClick:y||i?r:g,ref:n,target:u}))}),Dj=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:c,children:h}=e,p=Wb(e,Sj),f=Dh(u,{relative:p.relative}),w=Yi(),T=v.useContext($b),{navigator:y,basename:E}=v.useContext(ri),_=T!=null&&Mj(f)&&c===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,b=w.pathname,A=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(b=b.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&E&&(A=ia(A,E)||A);const O=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let V=b===g||!o&&b.startsWith(g)&&b.charAt(O)==="/",I=A!=null&&(A===g||!o&&A.startsWith(g)&&A.charAt(g.length)==="/"),C={isActive:V,isPending:I,isTransitioning:_},R=V?r:void 0,S;typeof i=="function"?S=i(C):S=[i,V?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(C):a;return v.createElement(kj,Md({},p,{"aria-current":R,className:S,ref:n,style:k,to:u,viewTransition:c}),typeof h=="function"?h(C):h)});var Fm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fm||(Fm={}));var nx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nx||(nx={}));function Oj(t){let e=v.useContext(Nh);return e||ot(!1),e}function jj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=oj(),c=Yi(),h=Dh(t,{relative:o});return v.useCallback(p=>{if(Tj(p,n)){p.preventDefault();let f=r!==void 0?r:Dd(c)===Dd(h);u(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,h,r,s,n,t,i,o,a])}function Mj(t,e){e===void 0&&(e={});let n=v.useContext(Ij);n==null&&ot(!1);let{basename:r}=Oj(Fm.useViewTransitionState),s=Dh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Od(s.pathname,o)!=null||Od(s.pathname,i)!=null}const tp=768;function Vj(){const[t,e]=v.useState(void 0);return v.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tp-1}px)`),r=()=>{e(window.innerWidth<tp)};return n.addEventListener("change",r),e(window.innerWidth<tp),()=>n.removeEventListener("change",r)},[]),!!t}const Lj=wa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ve=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Vn:"button";return d.jsx(o,{className:te(Lj({variant:e,size:n,className:t})),ref:i,...s})});Ve.displayName="Button";const Ye=v.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ye.displayName="Input";var Fj="Separator",rx="horizontal",$j=["horizontal","vertical"],qb=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=rx,...s}=t,i=Uj(r)?r:rx,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Ie.div,{"data-orientation":i,...a,...s,ref:e})});qb.displayName=Fj;function Uj(t){return $j.includes(t)}var Kb=qb;const Qb=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(Kb,{ref:s,decorative:n,orientation:e,className:te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Qb.displayName=Kb.displayName;var np="focusScope.autoFocusOnMount",rp="focusScope.autoFocusOnUnmount",sx={bubbles:!1,cancelable:!0},Bj="FocusScope",Nv=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=v.useState(null),c=bn(s),h=bn(i),p=v.useRef(null),f=We(e,y=>u(y)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(b){if(w.paused||!a)return;const A=b.target;a.contains(A)?p.current=A:as(p.current,{select:!0})},E=function(b){if(w.paused||!a)return;const A=b.relatedTarget;A!==null&&(a.contains(A)||as(p.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const O of b)O.removedNodes.length>0&&as(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const g=new MutationObserver(_);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),g.disconnect()}}},[r,a,w.paused]),v.useEffect(()=>{if(a){ox.add(w);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(np,sx);a.addEventListener(np,c),a.dispatchEvent(_),_.defaultPrevented||(zj(Qj(Gb(a)),{select:!0}),document.activeElement===y&&as(a))}return()=>{a.removeEventListener(np,c),setTimeout(()=>{const _=new CustomEvent(rp,sx);a.addEventListener(rp,h),a.dispatchEvent(_),_.defaultPrevented||as(y??document.body,{select:!0}),a.removeEventListener(rp,h),ox.remove(w)},0)}}},[a,c,h,w]);const T=v.useCallback(y=>{if(!n&&!r||w.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(E&&_){const g=y.currentTarget,[b,A]=Hj(g);b&&A?!y.shiftKey&&_===A?(y.preventDefault(),n&&as(b,{select:!0})):y.shiftKey&&_===b&&(y.preventDefault(),n&&as(A,{select:!0})):_===g&&y.preventDefault()}},[n,r,w.paused]);return d.jsx(Ie.div,{tabIndex:-1,...o,ref:f,onKeyDown:T})});Nv.displayName=Bj;function zj(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(as(r,{select:e}),document.activeElement!==n)return}function Hj(t){const e=Gb(t),n=ix(e,t),r=ix(e.reverse(),t);return[n,r]}function Gb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ix(t,e){for(const n of t)if(!Wj(n,{upTo:e}))return n}function Wj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qj(t){return t instanceof HTMLInputElement&&"select"in t}function as(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qj(t)&&e&&t.select()}}var ox=Kj();function Kj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ax(t,e),t.unshift(e)},remove(e){var n;t=ax(t,e),(n=t[0])==null||n.resume()}}}function ax(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Qj(t){return t.filter(e=>e.tagName!=="A")}var sp=0;function Yb(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lx()),document.body.insertAdjacentElement("beforeend",t[1]??lx()),sp++,()=>{sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sp--}},[])}function lx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dr=function(){return dr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dr.apply(this,arguments)};function Xb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Gj(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Wc="right-scroll-bar-position",qc="width-before-scroll-bar",Yj="with-scroll-bars-hidden",Xj="--removed-body-scroll-bar-size";function ip(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Jj(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Zj=typeof window<"u"?v.useLayoutEffect:v.useEffect,ux=new WeakMap;function e4(t,e){var n=Jj(null,function(r){return t.forEach(function(s){return ip(s,r)})});return Zj(function(){var r=ux.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ip(a,null)}),i.forEach(function(a){s.has(a)||ip(a,o)})}ux.set(n,t)},[t]),n}function t4(t){return t}function n4(t,e){e===void 0&&(e=t4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function r4(t){t===void 0&&(t={});var e=n4(null);return e.options=dr({async:!0,ssr:!1},t),e}var Jb=function(t){var e=t.sideCar,n=Xb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,dr({},n))};Jb.isSideCarExport=!0;function s4(t,e){return t.useMedium(e),Jb}var Zb=r4(),op=function(){},Oh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:op,onWheelCapture:op,onTouchMoveCapture:op}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,w=t.noIsolation,T=t.inert,y=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,g=t.gapMode,b=Xb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,O=e4([n,e]),V=dr(dr({},b),s);return v.createElement(v.Fragment,null,h&&v.createElement(A,{sideCar:Zb,removeScrollBar:c,shards:p,noIsolation:w,inert:T,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:g}),o?v.cloneElement(v.Children.only(a),dr(dr({},V),{ref:O})):v.createElement(_,dr({},V,{className:u,ref:O}),a))});Oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oh.classNames={fullWidth:qc,zeroRight:Wc};var i4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=i4();return e&&t.setAttribute("nonce",e),t}function a4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function l4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var u4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=o4())&&(a4(e,n),l4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},c4=function(){var t=u4();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},eS=function(){var t=c4(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},d4={left:0,top:0,right:0,gap:0},ap=function(t){return parseInt(t||"",10)||0},h4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ap(n),ap(r),ap(s)]},f4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d4;var e=h4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},p4=eS(),Do="data-scroll-locked",m4=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Yj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qc," .").concat(qc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(Xj,": ").concat(a,`px;
  }
`)},cx=function(){var t=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(t)?t:0},g4=function(){v.useEffect(function(){return document.body.setAttribute(Do,(cx()+1).toString()),function(){var t=cx()-1;t<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,t.toString())}},[])},v4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;g4();var i=v.useMemo(function(){return f4(s)},[s]);return v.createElement(p4,{styles:m4(i,!e,s,n?"":"!important")})},$m=!1;if(typeof window<"u")try{var wc=Object.defineProperty({},"passive",{get:function(){return $m=!0,!0}});window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{$m=!1}var io=$m?{passive:!1}:!1,y4=function(t){return t.tagName==="TEXTAREA"},tS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!y4(t)&&n[e]==="visible")},w4=function(t){return tS(t,"overflowY")},x4=function(t){return tS(t,"overflowX")},dx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nS(t,r);if(s){var i=rS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},E4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nS=function(t,e){return t==="v"?w4(e):x4(e)},rS=function(t,e){return t==="v"?_4(e):E4(e)},T4=function(t,e){return t==="h"&&e==="rtl"?-1:1},b4=function(t,e,n,r,s){var i=T4(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,h=o>0,p=0,f=0;do{var w=rS(t,a),T=w[0],y=w[1],E=w[2],_=y-E-i*T;(T||_)&&nS(t,a)&&(p+=_,f+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(c=!0),c},xc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hx=function(t){return[t.deltaX,t.deltaY]},fx=function(t){return t&&"current"in t?t.current:t},S4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},C4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},I4=0,oo=[];function P4(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(I4++)[0],i=v.useState(eS)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=Gj([t.lockRef.current],(t.shards||[]).map(fx),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=xc(y),g=n.current,b="deltaX"in y?y.deltaX:g[0]-_[0],A="deltaY"in y?y.deltaY:g[1]-_[1],O,V=y.target,I=Math.abs(b)>Math.abs(A)?"h":"v";if("touches"in y&&I==="h"&&V.type==="range")return!1;var C=dx(I,V);if(!C)return!0;if(C?O=I:(O=I==="v"?"h":"v",C=dx(I,V)),!C)return!1;if(!r.current&&"changedTouches"in y&&(b||A)&&(r.current=O),!O)return!0;var R=r.current||O;return b4(R,E,y,R==="h"?b:A,!0)},[]),u=v.useCallback(function(y){var E=y;if(!(!oo.length||oo[oo.length-1]!==i)){var _="deltaY"in E?hx(E):xc(E),g=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&S4(O.delta,_)})[0];if(g&&g.should){E.cancelable&&E.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(fx).filter(Boolean).filter(function(O){return O.contains(E.target)}),A=b.length>0?a(E,b[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),c=v.useCallback(function(y,E,_,g){var b={name:y,delta:E,target:_,should:g,shadowParent:R4(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(A){return A!==b})},1)},[]),h=v.useCallback(function(y){n.current=xc(y),r.current=void 0},[]),p=v.useCallback(function(y){c(y.type,hx(y),y.target,a(y,t.lockRef.current))},[]),f=v.useCallback(function(y){c(y.type,xc(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return oo.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,io),document.addEventListener("touchmove",u,io),document.addEventListener("touchstart",h,io),function(){oo=oo.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,io),document.removeEventListener("touchmove",u,io),document.removeEventListener("touchstart",h,io)}},[]);var w=t.removeScrollBar,T=t.inert;return v.createElement(v.Fragment,null,T?v.createElement(i,{styles:C4(s)}):null,w?v.createElement(v4,{gapMode:t.gapMode}):null)}function R4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A4=s4(Zb,P4);var kv=v.forwardRef(function(t,e){return v.createElement(Oh,dr({},t,{ref:e,sideCar:A4}))});kv.classNames=Oh.classNames;var N4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ao=new WeakMap,_c=new WeakMap,Ec={},lp=0,sS=function(t){return t&&(t.host||sS(t.parentNode))},k4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},D4=function(t,e,n,r){var s=k4(e,Array.isArray(t)?t:[t]);Ec[n]||(Ec[n]=new WeakMap);var i=Ec[n],o=[],a=new Set,u=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var w=f.getAttribute(r),T=w!==null&&w!=="false",y=(ao.get(f)||0)+1,E=(i.get(f)||0)+1;ao.set(f,y),i.set(f,E),o.push(f),y===1&&T&&_c.set(f,!0),E===1&&f.setAttribute(n,"true"),T||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return h(e),a.clear(),lp++,function(){o.forEach(function(p){var f=ao.get(p)-1,w=i.get(p)-1;ao.set(p,f),i.set(p,w),f||(_c.has(p)||p.removeAttribute(r),_c.delete(p)),w||p.removeAttribute(n)}),lp--,lp||(ao=new WeakMap,ao=new WeakMap,_c=new WeakMap,Ec={})}},iS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=N4(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),D4(r,s,n,"aria-hidden")):function(){return null}},Dv="Dialog",[oS,b6]=wh(Dv),[O4,tr]=oS(Dv),aS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),u=v.useRef(null),[c=!1,h]=Wl({prop:r,defaultProp:s,onChange:i});return d.jsx(O4,{scope:e,triggerRef:a,contentRef:u,contentId:ki(),titleId:ki(),descriptionId:ki(),open:c,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};aS.displayName=Dv;var lS="DialogTrigger",uS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(lS,n),i=We(e,s.triggerRef);return d.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mv(s.open),...r,ref:i,onClick:me(t.onClick,s.onOpenToggle)})});uS.displayName=lS;var Ov="DialogPortal",[j4,cS]=oS(Ov,{forceMount:void 0}),dS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=tr(Ov,e);return d.jsx(j4,{scope:e,forceMount:n,children:v.Children.map(r,o=>d.jsx(ya,{present:n||i.open,children:d.jsx(xh,{asChild:!0,container:s,children:o})}))})};dS.displayName=Ov;var Vd="DialogOverlay",hS=v.forwardRef((t,e)=>{const n=cS(Vd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Vd,t.__scopeDialog);return i.modal?d.jsx(ya,{present:r||i.open,children:d.jsx(M4,{...s,ref:e})}):null});hS.displayName=Vd;var M4=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Vd,n);return d.jsx(kv,{as:Vn,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ie.div,{"data-state":Mv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ui="DialogContent",fS=v.forwardRef((t,e)=>{const n=cS(Ui,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Ui,t.__scopeDialog);return d.jsx(ya,{present:r||i.open,children:i.modal?d.jsx(V4,{...s,ref:e}):d.jsx(L4,{...s,ref:e})})});fS.displayName=Ui;var V4=v.forwardRef((t,e)=>{const n=tr(Ui,t.__scopeDialog),r=v.useRef(null),s=We(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return iS(i)},[]),d.jsx(pS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:me(t.onFocusOutside,i=>i.preventDefault())})}),L4=v.forwardRef((t,e)=>{const n=tr(Ui,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return d.jsx(pS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),pS=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=tr(Ui,n),u=v.useRef(null),c=We(e,u);return Yb(),d.jsxs(d.Fragment,{children:[d.jsx(Nv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(xu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(F4,{titleId:a.titleId}),d.jsx(U4,{contentRef:u,descriptionId:a.descriptionId})]})]})}),jv="DialogTitle",mS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(jv,n);return d.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});mS.displayName=jv;var gS="DialogDescription",vS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(gS,n);return d.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});vS.displayName=gS;var yS="DialogClose",wS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(yS,n);return d.jsx(Ie.button,{type:"button",...r,ref:e,onClick:me(t.onClick,()=>s.onOpenChange(!1))})});wS.displayName=yS;function Mv(t){return t?"open":"closed"}var xS="DialogTitleWarning",[S6,_S]=v2(xS,{contentName:Ui,titleName:jv,docsSlug:"dialog"}),F4=({titleId:t})=>{const e=_S(xS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$4="DialogDescriptionWarning",U4=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_S($4).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ES=aS,B4=uS,TS=dS,jh=hS,Mh=fS,Vh=mS,Lh=vS,bS=wS;const z4=ES,H4=TS,SS=v.forwardRef(({className:t,...e},n)=>d.jsx(jh,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));SS.displayName=jh.displayName;const W4=wa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),CS=v.forwardRef(({side:t="right",className:e,children:n,...r},s)=>d.jsxs(H4,{children:[d.jsx(SS,{}),d.jsxs(Mh,{ref:s,className:te(W4({side:t}),e),...r,children:[n,d.jsxs(bS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(mv,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));CS.displayName=Mh.displayName;const q4=v.forwardRef(({className:t,...e},n)=>d.jsx(Vh,{ref:n,className:te("text-lg font-semibold text-foreground",t),...e}));q4.displayName=Vh.displayName;const K4=v.forwardRef(({className:t,...e},n)=>d.jsx(Lh,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));K4.displayName=Lh.displayName;function px({className:t,...e}){return d.jsx("div",{className:te("animate-pulse rounded-md bg-muted",t),...e})}const Q4="sidebar:state",G4=60*60*24*7,Y4="16rem",X4="18rem",J4="3rem",Z4="b",IS=v.createContext(null);function bu(){const t=v.useContext(IS);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const PS=v.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const u=Vj(),[c,h]=v.useState(!1),[p,f]=v.useState(t),w=e??p,T=v.useCallback(g=>{const b=typeof g=="function"?g(w):g;n?n(b):f(b),document.cookie=`${Q4}=${b}; path=/; max-age=${G4}`},[n,w]),y=v.useCallback(()=>u?h(g=>!g):T(g=>!g),[u,T,h]);v.useEffect(()=>{const g=b=>{b.key===Z4&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),y())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[y]);const E=w?"expanded":"collapsed",_=v.useMemo(()=>({state:E,open:w,setOpen:T,isMobile:u,openMobile:c,setOpenMobile:h,toggleSidebar:y}),[E,w,T,u,c,h,y]);return d.jsx(IS.Provider,{value:_,children:d.jsx(wb,{delayDuration:0,children:d.jsx("div",{style:{"--sidebar-width":Y4,"--sidebar-width-icon":J4,...s},className:te("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});PS.displayName="SidebarProvider";const RS=v.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:u,openMobile:c,setOpenMobile:h}=bu();return n==="none"?d.jsx("div",{className:te("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?d.jsx(z4,{open:c,onOpenChange:h,...i,children:d.jsx(CS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":X4},side:t,children:d.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):d.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":e,"data-side":t,children:[d.jsx("div",{className:te("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),d.jsx("div",{className:te("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:d.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});RS.displayName="Sidebar";const AS=v.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=bu();return d.jsxs(Ve,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:te("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[d.jsx(cN,{}),d.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});AS.displayName="SidebarTrigger";const eM=v.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=bu();return d.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:te("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});eM.displayName="SidebarRail";const tM=v.forwardRef(({className:t,...e},n)=>d.jsx("main",{ref:n,className:te("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));tM.displayName="SidebarInset";const nM=v.forwardRef(({className:t,...e},n)=>d.jsx(Ye,{ref:n,"data-sidebar":"input",className:te("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));nM.displayName="SidebarInput";const rM=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"header",className:te("flex flex-col gap-2 p-2",t),...e}));rM.displayName="SidebarHeader";const sM=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"footer",className:te("flex flex-col gap-2 p-2",t),...e}));sM.displayName="SidebarFooter";const iM=v.forwardRef(({className:t,...e},n)=>d.jsx(Qb,{ref:n,"data-sidebar":"separator",className:te("mx-2 w-auto bg-sidebar-border",t),...e}));iM.displayName="SidebarSeparator";const NS=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"content",className:te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));NS.displayName="SidebarContent";const kS=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"group",className:te("relative flex w-full min-w-0 flex-col p-2",t),...e}));kS.displayName="SidebarGroup";const DS=v.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Vn:"div";return d.jsx(s,{ref:r,"data-sidebar":"group-label",className:te("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});DS.displayName="SidebarGroupLabel";const oM=v.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Vn:"button";return d.jsx(s,{ref:r,"data-sidebar":"group-action",className:te("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});oM.displayName="SidebarGroupAction";const OS=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"group-content",className:te("w-full text-sm",t),...e}));OS.displayName="SidebarGroupContent";const jS=v.forwardRef(({className:t,...e},n)=>d.jsx("ul",{ref:n,"data-sidebar":"menu",className:te("flex w-full min-w-0 flex-col gap-1",t),...e}));jS.displayName="SidebarMenu";const MS=v.forwardRef(({className:t,...e},n)=>d.jsx("li",{ref:n,"data-sidebar":"menu-item",className:te("group/menu-item relative",t),...e}));MS.displayName="SidebarMenuItem";const aM=wa("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),VS=v.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const u=t?Vn:"button",{isMobile:c,state:h}=bu(),p=d.jsx(u,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:te(aM({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),d.jsxs(ZD,{children:[d.jsx(eO,{asChild:!0,children:p}),d.jsx(xb,{side:"right",align:"center",hidden:h!=="collapsed"||c,...s})]})):p});VS.displayName="SidebarMenuButton";const lM=v.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?Vn:"button";return d.jsx(i,{ref:s,"data-sidebar":"menu-action",className:te("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});lM.displayName="SidebarMenuAction";const uM=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:te("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));uM.displayName="SidebarMenuBadge";const cM=v.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return d.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:te("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&d.jsx(px,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),d.jsx(px,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});cM.displayName="SidebarMenuSkeleton";const dM=v.forwardRef(({className:t,...e},n)=>d.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:te("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));dM.displayName="SidebarMenuSub";const hM=v.forwardRef(({...t},e)=>d.jsx("li",{ref:e,...t}));hM.displayName="SidebarMenuSubItem";const fM=v.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?Vn:"a";return d.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:te("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});fM.displayName="SidebarMenuSubButton";const pM=""+new URL("Logo-Mondini-DGbuvNVK.png",import.meta.url).href,mM=[{title:"Dashboard",url:"/",icon:uN},{title:"Clientes",url:"/clientes",icon:kT},{title:"Produtos",url:"/produtos",icon:hv},{title:"Estoque",url:"/estoque",icon:dN},{title:"Pedidos",url:"/pedidos",icon:Cd},{title:"Relatrios",url:"/relatorios",icon:sN,disabled:!0}];function gM(){const{state:t}=bu();Yi().pathname;const n=({isActive:r})=>r?"bg-primary text-primary-foreground font-medium hover:bg-primary/90":"hover:bg-accent hover:text-accent-foreground";return d.jsx(RS,{collapsible:"icon",children:d.jsxs(NS,{children:[d.jsxs("div",{className:"p-4 border-b",children:[d.jsx("div",{className:"flex items-center gap-3"}),t!=="collapsed"&&d.jsx("div",{children:d.jsx("img",{src:pM,alt:"Logo Mondini"})})]}),d.jsxs(kS,{children:[d.jsx(DS,{children:"Menu Principal"}),d.jsx(OS,{children:d.jsx(jS,{children:mM.map(r=>d.jsx(MS,{children:r.disabled?d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-muted-foreground cursor-not-allowed opacity-50",title:"Funcionalidade desativada",children:[d.jsx(r.icon,{className:"w-4 h-4"}),t!=="collapsed"&&d.jsx("span",{children:r.title})]}):d.jsx(VS,{asChild:!0,children:d.jsxs(Dj,{to:r.url,end:r.url==="/",className:({isActive:s})=>n({isActive:s}),children:[d.jsx(r.icon,{className:"w-4 h-4"}),t!=="collapsed"&&d.jsx("span",{children:r.title})]})})},r.title))})})]})]})})}function vM({children:t}){return d.jsx(PS,{children:d.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[d.jsx(gM,{}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("header",{className:"h-14 border-b bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-card/50 flex items-center px-4",children:[d.jsx(AS,{className:"-ml-1"}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Sistema de Controle e Pedidos"})]}),d.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})})}const vn=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));vn.displayName="Card";const Nn=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",t),...e}));Nn.displayName="CardHeader";const pr=v.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:te("text-2xl font-semibold leading-none tracking-tight",t),...e}));pr.displayName="CardTitle";const yM=v.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:te("text-sm text-muted-foreground",t),...e}));yM.displayName="CardDescription";const yn=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:te("p-6 pt-0",t),...e}));yn.displayName="CardContent";const wM=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",t),...e}));wM.displayName="CardFooter";function xM({title:t,value:e,description:n,icon:r,trend:s}){return d.jsxs(vn,{children:[d.jsxs(Nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(pr,{className:"text-sm font-medium",children:t}),d.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(yn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:e}),n&&d.jsx("p",{className:"text-xs text-muted-foreground",children:n}),s&&d.jsxs("div",{className:"flex items-center text-xs mt-1",children:[d.jsxs("span",{className:s.isPositive?"text-green-600":"text-red-600",children:[s.isPositive?"+":"",s.value,"%"]}),d.jsx("span",{className:"text-muted-foreground ml-1",children:"vs. ms anterior"})]})]})]})}function _M(){const t=[{title:"Total de Clientes",value:"1,234",description:"Clientes ativos",icon:kT,trend:{value:12,isPositive:!0}},{title:"Produtos em Estoque",value:"8,567",description:"Itens disponveis",icon:hv,trend:{value:-3,isPositive:!1}},{title:"Pedidos do Ms",value:"456",description:"Novos pedidos",icon:Cd,trend:{value:18,isPositive:!0}},{title:"Estoque Baixo",value:"23",description:"Produtos com estoque baixo",icon:Pw},{title:"Faturamento Mensal",value:"R$ 145.780",description:"Receita do ms atual",icon:aN,trend:{value:25,isPositive:!0}},{title:"Servios Prestados",value:"89",description:"Servios do ms",icon:hN,trend:{value:8,isPositive:!0}}],e=[{id:"PED-001",client:"Empresa ABC Ltda",value:"R$ 2.450,00",status:"Pendente",date:"2024-01-07"},{id:"PED-002",client:"Indstria XYZ S/A",value:"R$ 1.280,00",status:"Processando",date:"2024-01-07"},{id:"PED-003",client:"Comercial 123",value:"R$ 3.670,00",status:"Concludo",date:"2024-01-06"},{id:"PED-004",client:"Distribuidora DEF",value:"R$ 890,00",status:"Concludo",date:"2024-01-06"}],n=[{name:"Material Modo Tipo A",current:15,minimum:50,category:"Material Modo"},{name:"MCOLOR Verde",current:8,minimum:20,category:"MCOLOR"},{name:"Produto Final XYZ",current:32,minimum:100,category:"Produto Final"},{name:"Material Modo Tipo B",current:12,minimum:40,category:"Material Modo"}];return d.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),d.jsx("p",{className:"text-muted-foreground",children:"Viso geral do sistema MONDINI"})]})}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map((r,s)=>d.jsx(xM,{...r},s))}),d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(vn,{children:[d.jsx(Nn,{children:d.jsx(pr,{children:"Pedidos Recentes"})}),d.jsx(yn,{children:d.jsx("div",{className:"space-y-4",children:e.map(r=>d.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium",children:r.id}),d.jsx("p",{className:"text-sm text-muted-foreground",children:r.client}),d.jsx("p",{className:"text-xs text-muted-foreground",children:r.date})]}),d.jsxs("div",{className:"text-right space-y-1",children:[d.jsx("p",{className:"font-medium",children:r.value}),d.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r.status==="Concludo"?"bg-green-100 text-green-800":r.status==="Processando"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})]})]},r.id))})})]}),d.jsxs(vn,{children:[d.jsx(Nn,{children:d.jsxs(pr,{className:"flex items-center gap-2",children:[d.jsx(Pw,{className:"h-5 w-5 text-amber-500"}),"Estoque Baixo"]})}),d.jsx(yn,{children:d.jsx("div",{className:"space-y-4",children:n.map((r,s)=>d.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-amber-50",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:r.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:r.category})]}),d.jsxs("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:[r.current," / ",r.minimum]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:`${r.current/r.minimum*100}%`}})})]},s))})})]})]})]})}const EM=()=>{};var mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(f=64)),r.push(n[h],n[p],n[f],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new bM;const f=i<<2|a>>4;if(r.push(f),c!==64){const w=a<<4&240|c>>2;if(r.push(w),p!==64){const T=c<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SM=function(t){const e=LS(t);return FS.encodeByteArray(e,!0)},Ld=function(t){return SM(t).replace(/\./g,"")},CM=function(t){try{return FS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=()=>IM().__FIREBASE_DEFAULTS__,RM=()=>{if(typeof process>"u"||typeof mx>"u")return;const t=mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CM(t[1]);return e&&JSON.parse(e)},Vv=()=>{try{return EM()||PM()||RM()||AM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NM=t=>{var e,n;return(n=(e=Vv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kM=t=>{const e=NM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$S=()=>{var t;return(t=Vv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ld(JSON.stringify(n)),Ld(JSON.stringify(o)),""].join(".")}const Tl={};function MM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?t.emulator.push(e):t.prod.push(e);return t}function VM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gx=!1;function LM(t,e){if(typeof window>"u"||typeof document>"u"||!Lv(window.location.host)||Tl[t]===e||Tl[t]||gx)return;Tl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=MM().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function u(f,w){f.setAttribute("width","24"),f.setAttribute("id",w),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{gx=!0,o()},f}function h(f,w){f.setAttribute("id",w),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=VM(r),w=n("text"),T=document.getElementById(w)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),g=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;a(b),h(E,y);const A=c();u(g,_),b.append(g,T,E,A),document.body.appendChild(b)}i?(T.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $M(){var t;const e=(t=Vv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UM(){return!$M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BM(){try{return typeof indexedDB=="object"}catch{return!1}}function zM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="FirebaseError";class Sa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HM,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,US.prototype.create)}}class US{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?WM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Sa(s,a,r)}}function WM(t,e){return t.replace(qM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qM=/\{\$([^}]+)}/g;function Fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vx(i)&&vx(o)){if(!Fd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t&&t._delegate?t._delegate:t}class Jl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GM(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QM(t){return t===mi?void 0:t}function GM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const XM={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},JM=Ce.INFO,ZM={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},eV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class BS{constructor(e){this.name=e,this._logLevel=JM,this._logHandler=eV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const tV=(t,e)=>e.some(n=>t instanceof n);let yx,wx;function nV(){return yx||(yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rV(){return wx||(wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,Um=new WeakMap,HS=new WeakMap,up=new WeakMap,Fv=new WeakMap;function sV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zS.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function iV(t){if(Um.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Um.set(t,e)}let Bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oV(t){Bm=t(Bm)}function aV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return HS.set(r,e.sort?e.sort():[e]),Ms(r)}:rV().includes(t)?function(...e){return t.apply(cp(this),e),Ms(zS.get(this))}:function(...e){return Ms(t.apply(cp(this),e))}}function lV(t){return typeof t=="function"?aV(t):(t instanceof IDBTransaction&&iV(t),tV(t,nV())?new Proxy(t,Bm):t)}function Ms(t){if(t instanceof IDBRequest)return sV(t);if(up.has(t))return up.get(t);const e=lV(t);return e!==t&&(up.set(t,e),Fv.set(e,t)),e}const cp=t=>Fv.get(t);function uV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ms(o.result),u.oldVersion,u.newVersion,Ms(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cV=["get","getKey","getAll","getAllKeys","count"],dV=["put","add","delete","clear"],dp=new Map;function xx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cV.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return dp.set(e,i),i}oV(t=>({...t,get:(e,n,r)=>xx(e,n)||t.get(e,n,r),has:(e,n)=>!!xx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",_x="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new BS("@firebase/app"),pV="@firebase/app-compat",mV="@firebase/analytics-compat",gV="@firebase/analytics",vV="@firebase/app-check-compat",yV="@firebase/app-check",wV="@firebase/auth",xV="@firebase/auth-compat",_V="@firebase/database",EV="@firebase/data-connect",TV="@firebase/database-compat",bV="@firebase/functions",SV="@firebase/functions-compat",CV="@firebase/installations",IV="@firebase/installations-compat",PV="@firebase/messaging",RV="@firebase/messaging-compat",AV="@firebase/performance",NV="@firebase/performance-compat",kV="@firebase/remote-config",DV="@firebase/remote-config-compat",OV="@firebase/storage",jV="@firebase/storage-compat",MV="@firebase/firestore",VV="@firebase/ai",LV="@firebase/firestore-compat",FV="firebase",$V="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",UV={[zm]:"fire-core",[pV]:"fire-core-compat",[gV]:"fire-analytics",[mV]:"fire-analytics-compat",[yV]:"fire-app-check",[vV]:"fire-app-check-compat",[wV]:"fire-auth",[xV]:"fire-auth-compat",[_V]:"fire-rtdb",[EV]:"fire-data-connect",[TV]:"fire-rtdb-compat",[bV]:"fire-fn",[SV]:"fire-fn-compat",[CV]:"fire-iid",[IV]:"fire-iid-compat",[PV]:"fire-fcm",[RV]:"fire-fcm-compat",[AV]:"fire-perf",[NV]:"fire-perf-compat",[kV]:"fire-rc",[DV]:"fire-rc-compat",[OV]:"fire-gcs",[jV]:"fire-gcs-compat",[MV]:"fire-fst",[LV]:"fire-fst-compat",[VV]:"fire-vertex","fire-js":"fire-js",[FV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,BV=new Map,Wm=new Map;function Ex(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ud(t){const e=t.name;if(Wm.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,t);for(const n of $d.values())Ex(n,t);for(const n of BV.values())Ex(n,t);return!0}function zV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function HV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new US("app","Firebase",WV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=$V;function WS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hm,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Vs.create("bad-app-name",{appName:String(s)});if(n||(n=$S()),!n)throw Vs.create("no-options");const i=$d.get(s);if(i){if(Fd(n,i.options)&&Fd(r,i.config))return i;throw Vs.create("duplicate-app",{appName:s})}const o=new YM(s);for(const u of Wm.values())o.addComponent(u);const a=new qV(n,r,o);return $d.set(s,a),a}function QV(t=Hm){const e=$d.get(t);if(!e&&t===Hm&&$S())return WS();if(!e)throw Vs.create("no-app",{appName:t});return e}function Oo(t,e,n){var r;let s=(r=UV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}Ud(new Jl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firebase-heartbeat-database",YV=1,Zl="firebase-heartbeat-store";let hp=null;function qS(){return hp||(hp=uV(GV,YV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),hp}async function XV(t){try{const n=(await qS()).transaction(Zl),r=await n.objectStore(Zl).get(KS(t));return await n.done,r}catch(e){if(e instanceof Sa)qr.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function Tx(t,e){try{const r=(await qS()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,KS(t)),await r.done}catch(n){if(n instanceof Sa)qr.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function KS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=1024,ZV=30;class eL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ZV){const o=rL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bx(),{heartbeatsToSend:r,unsentEntries:s}=tL(this._heartbeatsCache.heartbeats),i=Ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qr.warn(n),""}}}function bx(){return new Date().toISOString().substring(0,10)}function tL(t,e=JV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BM()?zM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sx(t){return Ld(JSON.stringify({version:2,heartbeats:t})).length}function rL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){Ud(new Jl("platform-logger",e=>new hV(e),"PRIVATE")),Ud(new Jl("heartbeat",e=>new eL(e),"PRIVATE")),Oo(zm,_x,t),Oo(zm,_x,"esm2017"),Oo("fire-js","")}sL("");var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,QS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function R(){}R.prototype=C.prototype,I.D=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(S,k,D){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return C.prototype[k].apply(S,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,R){R||(R=0);var S=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)S[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;16>k;++k)S[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],k=I.g[2];var D=I.g[3],N=C+(D^R&(k^D))+S[0]+3614090360&4294967295;C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[1]+3905402710&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+S[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[5]+1200080426&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+S[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[9]+2336552879&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+S[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+S[13]+4254626195&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+S[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+S[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(k^D&(R^k))+S[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[6]+3225465664&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+S[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[10]+38016083&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+S[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[14]+3275163606&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+S[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+S[2]+4243563512&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+S[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+S[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(R^k^D)+S[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[8]+2272392833&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+S[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[4]+1272893353&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+S[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[0]+3936430074&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+S[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+S[12]+3873151461&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+S[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+S[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(k^(R|~D))+S[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[7]+1126891415&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+S[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[3]+2399980690&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+S[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[15]+4264355552&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+S[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+S[11]+3174756917&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+S[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var R=C-this.blockSize,S=this.B,k=this.h,D=0;D<C;){if(k==0)for(;D<=R;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<C;)if(S[k++]=I.charCodeAt(D++),k==this.blockSize){s(this,S),k=0;break}}else for(;D<C;)if(S[k++]=I[D++],k==this.blockSize){s(this,S),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var R=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.u(I),I=Array(16),C=R=0;4>C;++C)for(var S=0;32>S;S+=8)I[R++]=this.g[C]>>>S&255;return I};function i(I,C){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function o(I,C){this.h=C;for(var R=[],S=!0,k=I.length-1;0<=k;k--){var D=I[k]|0;S&&D==C||(R[k]=D,S=!1)}this.g=R}var a={};function u(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return E(c(-I));for(var C=[],R=1,S=0;I>=R;S++)C[S]=I/R|0,R*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return E(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(C,8)),S=p,k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k),N=parseInt(I.substring(k,k+D),C);8>D?(D=c(Math.pow(C,D)),S=S.j(D).add(c(N))):(S=S.j(R),S=S.add(c(N)))}return S}var p=u(0),f=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();for(var I=0,C=1,R=0;R<this.g.length;R++){var S=this.i(R);I+=(0<=S?S:4294967296+S)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(y(this))return"-"+E(this).toString(I);for(var C=c(Math.pow(I,6)),R=this,S="";;){var k=A(R,C).g;R=_(R,k.j(C));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,T(R))return D+S;for(;6>D.length;)D="0"+D;S=D+S}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=_(this,I),y(I)?-1:T(I)?0:1};function E(I){for(var C=I.g.length,R=[],S=0;S<C;S++)R[S]=~I.g[S];return new o(R,~I.h).add(f)}t.abs=function(){return y(this)?E(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0,k=0;k<=C;k++){var D=S+(this.i(k)&65535)+(I.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);S=N>>>16,D&=65535,N&=65535,R[k]=N<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(I,C){return I.add(E(C))}t.j=function(I){if(T(this)||T(I))return p;if(y(this))return y(I)?E(this).j(E(I)):E(E(this).j(I));if(y(I))return E(this.j(E(I)));if(0>this.l(w)&&0>I.l(w))return c(this.m()*I.m());for(var C=this.g.length+I.g.length,R=[],S=0;S<2*C;S++)R[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<I.g.length;k++){var D=this.i(S)>>>16,N=this.i(S)&65535,W=I.i(k)>>>16,ie=I.i(k)&65535;R[2*S+2*k]+=N*ie,g(R,2*S+2*k),R[2*S+2*k+1]+=D*ie,g(R,2*S+2*k+1),R[2*S+2*k+1]+=N*W,g(R,2*S+2*k+1),R[2*S+2*k+2]+=D*W,g(R,2*S+2*k+2)}for(S=0;S<C;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=C;S<2*C;S++)R[S]=0;return new o(R,0)};function g(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function b(I,C){this.g=I,this.h=C}function A(I,C){if(T(C))throw Error("division by zero");if(T(I))return new b(p,p);if(y(I))return C=A(E(I),C),new b(E(C.g),E(C.h));if(y(C))return C=A(I,E(C)),new b(E(C.g),C.h);if(30<I.g.length){if(y(I)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var R=f,S=C;0>=S.l(I);)R=O(R),S=O(S);var k=V(R,1),D=V(S,1);for(S=V(S,2),R=V(R,2);!T(S);){var N=D.add(S);0>=N.l(I)&&(k=k.add(R),D=N),S=V(S,1),R=V(R,1)}return C=_(I,k.j(C)),new b(k,C)}for(k=p;0<=I.l(C);){for(R=Math.max(1,Math.floor(I.m()/C.m())),S=Math.ceil(Math.log(R)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),D=c(R),N=D.j(C);y(N)||0<N.l(I);)R-=S,D=c(R),N=D.j(C);T(D)&&(D=f),k=k.add(D),I=_(I,N)}return new b(k,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0;S<C;S++)R[S]=this.i(S)&I.i(S);return new o(R,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0;S<C;S++)R[S]=this.i(S)|I.i(S);return new o(R,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],S=0;S<C;S++)R[S]=this.i(S)^I.i(S);return new o(R,this.h^I.h)};function O(I){for(var C=I.g.length+1,R=[],S=0;S<C;S++)R[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(R,I.h)}function V(I,C){var R=C>>5;C%=32;for(var S=I.g.length-R,k=[],D=0;D<S;D++)k[D]=0<C?I.i(D+R)>>>C|I.i(D+R+1)<<32-C:I.i(D+R);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ls=o}).apply(typeof Cx<"u"?Cx:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,ul,YS,Kc,qm,XS,JS,ZS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,x){return l==Array.prototype||l==Object.prototype||(l[m]=x.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<l.length;++m){var x=l[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(l,m){if(m)e:{var x=r;l=l.split(".");for(var P=0;P<l.length-1;P++){var L=l[P];if(!(L in x))break e;x=x[L]}l=l[l.length-1],P=x[l],m=m(P),m!=P&&m!=null&&e(x,l,{configurable:!0,writable:!0,value:m})}}function i(l,m){l instanceof String&&(l+="");var x=0,P=!1,L={next:function(){if(!P&&x<l.length){var $=x++;return{value:m($,l[$]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(l){return l||function(){return i(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function c(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function h(l,m,x){return l.call.apply(l.bind,arguments)}function p(l,m,x){if(!l)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),l.apply(m,L)}}return function(){return l.apply(m,arguments)}}function f(l,m,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function w(l,m){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),l.apply(this,P)}}function T(l,m){function x(){}x.prototype=m.prototype,l.aa=m.prototype,l.prototype=new x,l.prototype.constructor=l,l.Qb=function(P,L,$){for(var G=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)G[Me-2]=arguments[Me];return m.prototype[L].apply(P,G)}}function y(l){const m=l.length;if(0<m){const x=Array(m);for(let P=0;P<m;P++)x[P]=l[P];return x}return[]}function E(l,m){for(let x=1;x<arguments.length;x++){const P=arguments[x];if(u(P)){const L=l.length||0,$=P.length||0;l.length=L+$;for(let G=0;G<$;G++)l[L+G]=P[G]}else l.push(P)}}class _{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function g(l){return/^[\s\xa0]*$/.test(l)}function b(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function A(l){return A[" "](l),l}A[" "]=function(){};var O=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function V(l,m,x){for(const P in l)m.call(x,l[P],P,l)}function I(l,m){for(const x in l)m.call(void 0,l[x],x,l)}function C(l){const m={};for(const x in l)m[x]=l[x];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,m){let x,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(x in P)l[x]=P[x];for(let $=0;$<R.length;$++)x=R[$],Object.prototype.hasOwnProperty.call(P,x)&&(l[x]=P[x])}}function k(l){var m=1;l=l.split(":");const x=[];for(;0<m&&l.length;)x.push(l.shift()),m--;return l.length&&x.push(l.join(":")),x}function D(l){a.setTimeout(()=>{throw l},0)}function N(){var l=U;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,x){const P=ie.get();P.set(m,x),this.h?this.h.next=P:this.g=P,this.h=P}}var ie=new _(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let F,M=!1,U=new W,K=()=>{const l=a.Promise.resolve(void 0);F=()=>{l.then(H)}};var H=()=>{for(var l;l=N();){try{l.h.call(l.g)}catch(x){D(x)}var m=ie;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}M=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const x=()=>{};a.addEventListener("test",x,m),a.removeEventListener("test",x,m)}catch{}return l}();function be(l,m){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var x=this.type=l.type,P=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(O){e:{try{A(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else x=="mouseover"?m=l.fromElement:x=="mouseout"&&(m=l.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:le[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&be.aa.h.call(this)}}T(be,X);var le={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function qe(l,m,x,P,L){this.listener=l,this.proxy=null,this.src=m,this.type=x,this.capture=!!P,this.ha=L,this.key=++Pe,this.da=this.fa=!1}function ye(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ee(l){this.src=l,this.g={},this.h=0}Ee.prototype.add=function(l,m,x,P,L){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var G=vt(l,m,P,L);return-1<G?(m=l[G],x||(m.fa=!1)):(m=new qe(m,this.src,$,!!P,L),m.fa=x,l.push(m)),m};function xe(l,m){var x=m.type;if(x in l.g){var P=l.g[x],L=Array.prototype.indexOf.call(P,m,void 0),$;($=0<=L)&&Array.prototype.splice.call(P,L,1),$&&(ye(m),l.g[x].length==0&&(delete l.g[x],l.h--))}}function vt(l,m,x,P){for(var L=0;L<l.length;++L){var $=l[L];if(!$.da&&$.listener==m&&$.capture==!!x&&$.ha==P)return L}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),In={};function qt(l,m,x,P,L){if(Array.isArray(m)){for(var $=0;$<m.length;$++)qt(l,m[$],x,P,L);return null}return x=Oa(x),l&&l[se]?l.K(m,x,c(P)?!!P.capture:!!P,L):br(l,m,x,!1,P,L)}function br(l,m,x,P,L,$){if(!m)throw Error("Invalid event type");var G=c(L)?!!L.capture:!!L,Me=Yr(l);if(Me||(l[Ct]=Me=new Ee(l)),x=Me.add(m,x,P,G,$),x.proxy)return x;if(P=ka(),x.proxy=P,P.src=l,P.listener=x,l.addEventListener)fe||(L=G),L===void 0&&(L=!1),l.addEventListener(m.toString(),P,L);else if(l.attachEvent)l.attachEvent(Du(m.toString()),P);else if(l.addListener&&l.removeListener)l.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ka(){function l(x){return m.call(l.src,l.listener,x)}const m=sf;return l}function dt(l,m,x,P,L){if(Array.isArray(m))for(var $=0;$<m.length;$++)dt(l,m[$],x,P,L);else P=c(P)?!!P.capture:!!P,x=Oa(x),l&&l[se]?(l=l.i,m=String(m).toString(),m in l.g&&($=l.g[m],x=vt($,x,P,L),-1<x&&(ye($[x]),Array.prototype.splice.call($,x,1),$.length==0&&(delete l.g[m],l.h--)))):l&&(l=Yr(l))&&(m=l.g[m.toString()],l=-1,m&&(l=vt(m,x,P,L)),(x=-1<l?m[l]:null)&&nr(x))}function nr(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[se])xe(m.i,l);else{var x=l.type,P=l.proxy;m.removeEventListener?m.removeEventListener(x,P,l.capture):m.detachEvent?m.detachEvent(Du(x),P):m.addListener&&m.removeListener&&m.removeListener(P),(x=Yr(m))?(xe(x,l),x.h==0&&(x.src=null,m[Ct]=null)):ye(l)}}}function Du(l){return l in In?In[l]:In[l]="on"+l}function sf(l,m){if(l.da)l=!0;else{m=new be(m,this);var x=l.listener,P=l.ha||l.src;l.fa&&nr(l),l=x.call(P,m)}return l}function Yr(l){return l=l[Ct],l instanceof Ee?l:null}var Da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(l){return typeof l=="function"?l:(l[Da]||(l[Da]=function(m){return l.handleEvent(m)}),l[Da])}function ht(){Q.call(this),this.i=new Ee(this),this.M=this,this.F=null}T(ht,Q),ht.prototype[se]=!0,ht.prototype.removeEventListener=function(l,m,x,P){dt(this,l,m,x,P)};function tt(l,m){var x,P=l.F;if(P)for(x=[];P;P=P.F)x.push(P);if(l=l.M,P=m.type||m,typeof m=="string")m=new X(m,l);else if(m instanceof X)m.target=m.target||l;else{var L=m;m=new X(P,l),S(m,L)}if(L=!0,x)for(var $=x.length-1;0<=$;$--){var G=m.g=x[$];L=li(G,P,!0,m)&&L}if(G=m.g=l,L=li(G,P,!0,m)&&L,L=li(G,P,!1,m)&&L,x)for($=0;$<x.length;$++)G=m.g=x[$],L=li(G,P,!1,m)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var x=l.g[m],P=0;P<x.length;P++)ye(x[P]);delete l.g[m],l.h--}}this.F=null},ht.prototype.K=function(l,m,x,P){return this.i.add(String(l),m,!1,x,P)},ht.prototype.L=function(l,m,x,P){return this.i.add(String(l),m,!0,x,P)};function li(l,m,x,P){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,$=0;$<m.length;++$){var G=m[$];if(G&&!G.da&&G.capture==x){var Me=G.listener,It=G.ha||G.src;G.fa&&xe(l.i,G),L=Me.call(It,P)!==!1&&L}}return L&&!P.defaultPrevented}function Sr(l,m,x){if(typeof l=="function")x&&(l=f(l,x));else if(l&&typeof l.handleEvent=="function")l=f(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function ja(l){l.g=Sr(()=>{l.g=null,l.i&&(l.i=!1,ja(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class of extends Q{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(l){Q.call(this),this.h=l,this.g={}}T(Xr,Q);var Ma=[];function Ou(l){V(l.g,function(m,x){this.g.hasOwnProperty(x)&&nr(m)},l),l.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Ou(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=a.JSON.stringify,rr=a.JSON.parse,af=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ce(){}ce.prototype.h=null;function je(l){return l.h||(l.h=l.i())}function De(){}var Ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tn(){X.call(this,"d")}T(tn,X);function Jr(){X.call(this,"c")}T(Jr,X);var Cr={},Ty=null;function ju(){return Ty=Ty||new ht}Cr.La="serverreachability";function by(l){X.call(this,Cr.La,l)}T(by,X);function Va(l){const m=ju();tt(m,new by(m))}Cr.STAT_EVENT="statevent";function Sy(l,m){X.call(this,Cr.STAT_EVENT,l),this.stat=m}T(Sy,X);function Kt(l){const m=ju();tt(m,new Sy(m,l))}Cr.Ma="timingevent";function Cy(l,m){X.call(this,Cr.Ma,l),this.size=m}T(Cy,X);function La(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function Fa(){this.g=!0}Fa.prototype.xa=function(){this.g=!1};function dP(l,m,x,P,L,$){l.info(function(){if(l.g)if($)for(var G="",Me=$.split("&"),It=0;It<Me.length;It++){var Ae=Me[It].split("=");if(1<Ae.length){var jt=Ae[0];Ae=Ae[1];var Mt=jt.split("_");G=2<=Mt.length&&Mt[1]=="type"?G+(jt+"="+Ae+"&"):G+(jt+"=redacted&")}}else G=null;else G=$;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+m+`
`+x+`
`+G})}function hP(l,m,x,P,L,$,G){l.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+m+`
`+x+`
`+$+" "+G})}function eo(l,m,x,P){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+pP(l,x)+(P?" "+P:"")})}function fP(l,m){l.info(function(){return"TIMEOUT: "+m})}Fa.prototype.info=function(){};function pP(l,m){if(!l.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(l=0;l<x.length;l++)if(Array.isArray(x[l])){var P=x[l];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return ui(x)}catch{return m}}var Mu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lf;function Vu(){}T(Vu,ce),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},lf=new Vu;function Zr(l,m,x,P){this.j=l,this.i=m,this.l=x,this.R=P||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Py}function Py(){this.i=null,this.g="",this.h=!1}var Ry={},uf={};function cf(l,m,x){l.L=1,l.v=Uu(Ir(m)),l.m=x,l.P=!0,Ay(l,null)}function Ay(l,m){l.F=Date.now(),Lu(l),l.A=Ir(l.v);var x=l.A,P=l.R;Array.isArray(P)||(P=[String(P)]),Hy(x.i,"t",P),l.C=0,x=l.j.J,l.h=new Py,l.g=l0(l.j,x?m:null,!l.m),0<l.O&&(l.M=new of(f(l.Y,l,l.g),l.O)),m=l.U,x=l.g,P=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ma[0]=L.toString()),L=Ma);for(var $=0;$<L.length;$++){var G=qt(x,L[$],P||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),Va(),dP(l.i,l.u,l.A,l.l,l.R,l.m)}Zr.prototype.ca=function(l){l=l.target;const m=this.M;m&&Pr(l)==3?m.j():this.Y(l)},Zr.prototype.Y=function(l){try{if(l==this.g)e:{const Mt=Pr(this.g);var m=this.g.Ba();const ro=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Xy(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=ro?Va(3):Va(2)),df(this);var x=this.g.Z();this.X=x;t:if(Ny(this)){var P=Xy(this.g);l="";var L=P.length,$=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),$a(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,l+=this.h.i.decode(P[m],{stream:!($&&m==L-1)});P.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=x==200,hP(this.i,this.u,this.A,this.l,this.R,Mt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,It=this.g;if((Me=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Me)){var Ae=Me;break t}}Ae=null}if(x=Ae)eo(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hf(this,x);else{this.o=!1,this.s=3,Kt(12),ci(this),$a(this);break e}}if(this.P){x=!0;let Ln;for(;!this.J&&this.C<G.length;)if(Ln=mP(this,G),Ln==uf){Mt==4&&(this.s=4,Kt(14),x=!1),eo(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==Ry){this.s=4,Kt(15),eo(this.i,this.l,G,"[Invalid Chunk]"),x=!1;break}else eo(this.i,this.l,Ln,null),hf(this,Ln);if(Ny(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||G.length!=0||this.h.h||(this.s=1,Kt(16),x=!1),this.o=this.o&&x,!x)eo(this.i,this.l,G,"[Invalid Chunked Response]"),ci(this),$a(this);else if(0<G.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),yf(jt),jt.M=!0,Kt(11))}}else eo(this.i,this.l,G,null),hf(this,G);Mt==4&&ci(this),this.o&&!this.J&&(Mt==4?s0(this.j,this):(this.o=!1,Lu(this)))}else kP(this.g),x==400&&0<G.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),ci(this),$a(this)}}}catch{}finally{}};function Ny(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function mP(l,m){var x=l.C,P=m.indexOf(`
`,x);return P==-1?uf:(x=Number(m.substring(x,P)),isNaN(x)?Ry:(P+=1,P+x>m.length?uf:(m=m.slice(P,P+x),l.C=P+x,m)))}Zr.prototype.cancel=function(){this.J=!0,ci(this)};function Lu(l){l.S=Date.now()+l.I,ky(l,l.I)}function ky(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=La(f(l.ba,l),m)}function df(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Zr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(fP(this.i,this.A),this.L!=2&&(Va(),Kt(17)),ci(this),this.s=2,$a(this)):ky(this,this.S-l)};function $a(l){l.j.G==0||l.J||s0(l.j,l)}function ci(l){df(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Ou(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function hf(l,m){try{var x=l.j;if(x.G!=0&&(x.g==l||ff(x.h,l))){if(!l.K&&ff(x.h,l)&&x.G==3){try{var P=x.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<l.F)Ku(x),Wu(x);else break e;vf(x),Kt(18)}}else x.za=L[1],0<x.za-x.T&&37500>L[2]&&x.F&&x.v==0&&!x.C&&(x.C=La(f(x.Za,x),6e3));if(1>=jy(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else hi(x,11)}else if((l.K||x.g==l)&&Ku(x),!g(m))for(L=x.Da.g.parse(m),m=0;m<L.length;m++){let Ae=L[m];if(x.T=Ae[0],Ae=Ae[1],x.G==2)if(Ae[0]=="c"){x.K=Ae[1],x.ia=Ae[2];const jt=Ae[3];jt!=null&&(x.la=jt,x.j.info("VER="+x.la));const Mt=Ae[4];Mt!=null&&(x.Aa=Mt,x.j.info("SVER="+x.Aa));const ro=Ae[5];ro!=null&&typeof ro=="number"&&0<ro&&(P=1.5*ro,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const Ln=l.g;if(Ln){const Gu=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var $=P.h;$.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(pf($,$.h),$.h=null))}if(P.D){const wf=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;wf&&(P.ya=wf,Ue(P.I,P.D,wf))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-l.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var G=l;if(P.qa=a0(P,P.J?P.ia:null,P.W),G.K){My(P.h,G);var Me=G,It=P.L;It&&(Me.I=It),Me.B&&(df(Me),Lu(Me)),P.g=G}else n0(P);0<x.i.length&&qu(x)}else Ae[0]!="stop"&&Ae[0]!="close"||hi(x,7);else x.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?hi(x,7):gf(x):Ae[0]!="noop"&&x.l&&x.l.ta(Ae),x.v=0)}}Va(4)}catch{}}var gP=class{constructor(l,m){this.g=l,this.map=m}};function Dy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function jy(l){return l.h?1:l.g?l.g.size:0}function ff(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function pf(l,m){l.g?l.g.add(m):l.h=m}function My(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Dy.prototype.cancel=function(){if(this.i=Vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const x of l.g.values())m=m.concat(x.D);return m}return y(l.i)}function vP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var m=[],x=l.length,P=0;P<x;P++)m.push(l[P]);return m}m=[],x=0;for(P in l)m[x++]=l[P];return m}function yP(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var m=[];l=l.length;for(var x=0;x<l;x++)m.push(x);return m}m=[],x=0;for(const P in l)m[x++]=P;return m}}}function Ly(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var x=yP(l),P=vP(l),L=P.length,$=0;$<L;$++)m.call(void 0,P[$],x&&x[$],l)}var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wP(l,m){if(l){l=l.split("&");for(var x=0;x<l.length;x++){var P=l[x].indexOf("="),L=null;if(0<=P){var $=l[x].substring(0,P);L=l[x].substring(P+1)}else $=l[x];m($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function di(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof di){this.h=l.h,Fu(this,l.j),this.o=l.o,this.g=l.g,$u(this,l.s),this.l=l.l;var m=l.i,x=new za;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),$y(this,x),this.m=l.m}else l&&(m=String(l).match(Fy))?(this.h=!1,Fu(this,m[1]||"",!0),this.o=Ua(m[2]||""),this.g=Ua(m[3]||"",!0),$u(this,m[4]),this.l=Ua(m[5]||"",!0),$y(this,m[6]||"",!0),this.m=Ua(m[7]||"")):(this.h=!1,this.i=new za(null,this.h))}di.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Ba(m,Uy,!0),":");var x=this.g;return(x||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Ba(m,Uy,!0),"@"),l.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&l.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&l.push("/"),l.push(Ba(x,x.charAt(0)=="/"?EP:_P,!0))),(x=this.i.toString())&&l.push("?",x),(x=this.m)&&l.push("#",Ba(x,bP)),l.join("")};function Ir(l){return new di(l)}function Fu(l,m,x){l.j=x?Ua(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function $u(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function $y(l,m,x){m instanceof za?(l.i=m,SP(l.i,l.h)):(x||(m=Ba(m,TP)),l.i=new za(m,l.h))}function Ue(l,m,x){l.i.set(m,x)}function Uu(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ua(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ba(l,m,x){return typeof l=="string"?(l=encodeURI(l).replace(m,xP),x&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Uy=/[#\/\?@]/g,_P=/[#\?:]/g,EP=/[#\?]/g,TP=/[#\?@]/g,bP=/#/g;function za(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function es(l){l.g||(l.g=new Map,l.h=0,l.i&&wP(l.i,function(m,x){l.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=za.prototype,t.add=function(l,m){es(this),this.i=null,l=to(this,l);var x=this.g.get(l);return x||this.g.set(l,x=[]),x.push(m),this.h+=1,this};function By(l,m){es(l),m=to(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function zy(l,m){return es(l),m=to(l,m),l.g.has(m)}t.forEach=function(l,m){es(this),this.g.forEach(function(x,P){x.forEach(function(L){l.call(m,L,P,this)},this)},this)},t.na=function(){es(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let P=0;P<m.length;P++){const L=l[P];for(let $=0;$<L.length;$++)x.push(m[P])}return x},t.V=function(l){es(this);let m=[];if(typeof l=="string")zy(this,l)&&(m=m.concat(this.g.get(to(this,l))));else{l=Array.from(this.g.values());for(let x=0;x<l.length;x++)m=m.concat(l[x])}return m},t.set=function(l,m){return es(this),this.i=null,l=to(this,l),zy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function Hy(l,m,x){By(l,m),0<x.length&&(l.i=null,l.g.set(to(l,m),y(x)),l.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var P=m[x];const $=encodeURIComponent(String(P)),G=this.V(P);for(P=0;P<G.length;P++){var L=$;G[P]!==""&&(L+="="+encodeURIComponent(String(G[P]))),l.push(L)}}return this.i=l.join("&")};function to(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function SP(l,m){m&&!l.j&&(es(l),l.i=null,l.g.forEach(function(x,P){var L=P.toLowerCase();P!=L&&(By(this,P),Hy(this,L,x))},l)),l.j=m}function CP(l,m){const x=new Fa;if(a.Image){const P=new Image;P.onload=w(ts,x,"TestLoadImage: loaded",!0,m,P),P.onerror=w(ts,x,"TestLoadImage: error",!1,m,P),P.onabort=w(ts,x,"TestLoadImage: abort",!1,m,P),P.ontimeout=w(ts,x,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=l}else m(!1)}function IP(l,m){const x=new Fa,P=new AbortController,L=setTimeout(()=>{P.abort(),ts(x,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:P.signal}).then($=>{clearTimeout(L),$.ok?ts(x,"TestPingServer: ok",!0,m):ts(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ts(x,"TestPingServer: error",!1,m)})}function ts(l,m,x,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(x)}catch{}}function PP(){this.g=new af}function RP(l,m,x){const P=x||"";try{Ly(l,function(L,$){let G=L;c(L)&&(G=ui(L)),m.push(P+$+"="+encodeURIComponent(G))})}catch(L){throw m.push(P+"type="+encodeURIComponent("_badmap")),L}}function Bu(l){this.l=l.Ub||null,this.j=l.eb||!1}T(Bu,ce),Bu.prototype.g=function(){return new zu(this.l,this.j)},Bu.prototype.i=function(l){return function(){return l}}({});function zu(l,m){ht.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(zu,ht),t=zu.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,Wa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Ha(this):Wa(this),this.readyState==3&&Wy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ha(this))},t.Qa=function(l){this.g&&(this.response=l,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Wa(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,l.push(x[0]+": "+x[1]),x=m.next();return l.join(`\r
`)};function Wa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qy(l){let m="";return V(l,function(x,P){m+=P,m+=":",m+=x,m+=`\r
`}),m}function mf(l,m,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=qy(x),typeof l=="string"?x!=null&&encodeURIComponent(String(x)):Ue(l,m,x))}function nt(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(nt,ht);var AP=/^https?$/i,NP=["POST","PUT"];t=nt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lf.g(),this.v=this.o?je(this.o):je(lf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch($){Ky(this,$);return}if(l=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)x.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const $ of P.keys())x.set($,P.get($));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find($=>$.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NP,m,void 0))||P||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,G]of x)this.g.setRequestHeader($,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yy(this),this.u=!0,this.g.send(l),this.u=!1}catch($){Ky(this,$)}};function Ky(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Qy(l),Hu(l)}function Qy(l){l.A||(l.A=!0,tt(l,"complete"),tt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,tt(this,"complete"),tt(this,"abort"),Hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gy(this):this.bb())},t.bb=function(){Gy(this)};function Gy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Pr(l)!=4||l.Z()!=2)){if(l.u&&Pr(l)==4)Sr(l.Ea,0,l);else if(tt(l,"readystatechange"),Pr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var P;if(P=G===0){var L=String(l.D).match(Fy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),P=!AP.test(L?L.toLowerCase():"")}x=P}if(x)tt(l,"complete"),tt(l,"success");else{l.m=6;try{var $=2<Pr(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",Qy(l)}}finally{Hu(l)}}}}function Hu(l,m){if(l.g){Yy(l);const x=l.g,P=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||tt(l,"ready");try{x.onreadystatechange=P}catch{}}}function Yy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Pr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),rr(m)}};function Xy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function kP(l){const m={};l=(l.g&&2<=Pr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<l.length;P++){if(g(l[P]))continue;var x=k(l[P]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const $=m[L]||[];m[L]=$,$.push(x)}I(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(l,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[l]||m}function Jy(l){this.Aa=0,this.i=[],this.j=new Fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,l),this.cb=qa("retryDelaySeedMs",1e4,l),this.Wa=qa("forwardChannelMaxRetries",2,l),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Dy(l&&l.concurrentRequestLimit),this.Da=new PP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jy.prototype,t.la=8,t.G=1,t.connect=function(l,m,x,P){Kt(0),this.W=l,this.H=m||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=a0(this,null,this.W),qu(this)};function gf(l){if(Zy(l),l.G==3){var m=l.U++,x=Ir(l.I);if(Ue(x,"SID",l.K),Ue(x,"RID",m),Ue(x,"TYPE","terminate"),Ka(l,x),m=new Zr(l,l.j,m),m.L=2,m.v=Uu(Ir(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=m.v,x=!0),x||(m.g=l0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lu(m)}o0(l)}function Wu(l){l.g&&(yf(l),l.g.cancel(),l.g=null)}function Zy(l){Wu(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ku(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function qu(l){if(!Oy(l.h)&&!l.s){l.s=!0;var m=l.Ga;F||K(),M||(F(),M=!0),U.add(m,l),l.B=0}}function DP(l,m){return jy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=La(f(l.Ga,l,m),i0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Zr(this,this.j,l);let $=this.o;if(this.S&&($?($=C($),S($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=t0(this,L,m),x=Ir(this.I),Ue(x,"RID",l),Ue(x,"CVER",22),this.D&&Ue(x,"X-HTTP-Session-Id",this.D),Ka(this,x),$&&(this.O?m="headers="+encodeURIComponent(String(qy($)))+"&"+m:this.m&&mf(x,this.m,$)),pf(this.h,L),this.Ua&&Ue(x,"TYPE","init"),this.P?(Ue(x,"$req",m),Ue(x,"SID","null"),L.T=!0,cf(L,x,null)):cf(L,x,m),this.G=2}}else this.G==3&&(l?e0(this,l):this.i.length==0||Oy(this.h)||e0(this))};function e0(l,m){var x;m?x=m.l:x=l.U++;const P=Ir(l.I);Ue(P,"SID",l.K),Ue(P,"RID",x),Ue(P,"AID",l.T),Ka(l,P),l.m&&l.o&&mf(P,l.m,l.o),x=new Zr(l,l.j,x,l.B+1),l.m===null&&(x.H=l.o),m&&(l.i=m.D.concat(l.i)),m=t0(l,x,1e3),x.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),pf(l.h,x),cf(x,P,m)}function Ka(l,m){l.H&&V(l.H,function(x,P){Ue(m,P,x)}),l.l&&Ly({},function(x,P){Ue(m,P,x)})}function t0(l,m,x){x=Math.min(l.i.length,x);var P=l.l?f(l.l.Na,l.l,l):null;e:{var L=l.i;let $=-1;for(;;){const G=["count="+x];$==-1?0<x?($=L[0].g,G.push("ofs="+$)):$=0:G.push("ofs="+$);let Me=!0;for(let It=0;It<x;It++){let Ae=L[It].g;const jt=L[It].map;if(Ae-=$,0>Ae)$=Math.max(0,L[It].g-100),Me=!1;else try{RP(jt,G,"req"+Ae+"_")}catch{P&&P(jt)}}if(Me){P=G.join("&");break e}}}return l=l.i.splice(0,x),m.D=l,P}function n0(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;F||K(),M||(F(),M=!0),U.add(m,l),l.v=0}}function vf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=La(f(l.Fa,l),i0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,r0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=La(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Wu(this),r0(this))};function yf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function r0(l){l.g=new Zr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Ir(l.qa);Ue(m,"RID","rpc"),Ue(m,"SID",l.K),Ue(m,"AID",l.T),Ue(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(m,"TO",l.ja),Ue(m,"TYPE","xmlhttp"),Ka(l,m),l.m&&l.o&&mf(m,l.m,l.o),l.L&&(l.g.I=l.L);var x=l.g;l=l.ia,x.L=1,x.v=Uu(Ir(m)),x.m=null,x.P=!0,Ay(x,l)}t.Za=function(){this.C!=null&&(this.C=null,Wu(this),vf(this),Kt(19))};function Ku(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function s0(l,m){var x=null;if(l.g==m){Ku(l),yf(l),l.g=null;var P=2}else if(ff(l.h,m))x=m.D,My(l.h,m),P=1;else return;if(l.G!=0){if(m.o)if(P==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var L=l.B;P=ju(),tt(P,new Cy(P,x)),qu(l)}else n0(l);else if(L=m.s,L==3||L==0&&0<m.X||!(P==1&&DP(l,m)||P==2&&vf(l)))switch(x&&0<x.length&&(m=l.h,m.i=m.i.concat(x)),L){case 1:hi(l,5);break;case 4:hi(l,10);break;case 3:hi(l,6);break;default:hi(l,2)}}}function i0(l,m){let x=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(x*=2),x*m}function hi(l,m){if(l.j.info("Error code "+m),m==2){var x=f(l.fb,l),P=l.Xa;const L=!P;P=new di(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fu(P,"https"),Uu(P),L?CP(P.toString(),x):IP(P.toString(),x)}else Kt(2);l.G=0,l.l&&l.l.sa(m),o0(l),Zy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function o0(l){if(l.G=0,l.ka=[],l.l){const m=Vy(l.h);(m.length!=0||l.i.length!=0)&&(E(l.ka,m),E(l.ka,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.ra()}}function a0(l,m,x){var P=x instanceof di?Ir(x):new di(x);if(P.g!="")m&&(P.g=m+"."+P.g),$u(P,P.s);else{var L=a.location;P=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var $=new di(null);P&&Fu($,P),m&&($.g=m),L&&$u($,L),x&&($.l=x),P=$}return x=l.D,m=l.ya,x&&m&&Ue(P,x,m),Ue(P,"VER",l.la),Ka(l,P),P}function l0(l,m,x){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new nt(new Bu({eb:x})):new nt(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function u0(){}t=u0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(l,m){return new fn(l,m)};function fn(l,m){ht.call(this),this.g=new Jy(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!g(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!g(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new no(this)}T(fn,ht),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){gf(this.g)},fn.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var x={};x.__data__=l,l=x}else this.u&&(x={},x.__data__=ui(l),l=x);m.i.push(new gP(m.Ya++,l)),m.G==3&&qu(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,fn.aa.N.call(this)};function c0(l){tn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const x in m){l=x;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}T(c0,tn);function d0(){Jr.call(this),this.status=1}T(d0,Jr);function no(l){this.g=l}T(no,u0),no.prototype.ua=function(){tt(this.g,"a")},no.prototype.ta=function(l){tt(this.g,new c0(l))},no.prototype.sa=function(l){tt(this.g,new d0)},no.prototype.ra=function(){tt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,ZS=function(){return new Qu},JS=function(){return ju()},XS=Cr,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,Kc=Mu,Iy.COMPLETE="complete",YS=Iy,De.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ul=De,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,GS=nt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const Ix="@firebase/firestore",Px="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new BS("@firebase/firestore");function lo(){return Bi.logLevel}function ne(t,...e){if(Bi.logLevel<=Ce.DEBUG){const n=e.map($v);Bi.debug(`Firestore (${Ca}): ${t}`,...n)}}function Kr(t,...e){if(Bi.logLevel<=Ce.ERROR){const n=e.map($v);Bi.error(`Firestore (${Ca}): ${t}`,...n)}}function Ks(t,...e){if(Bi.logLevel<=Ce.WARN){const n=e.map($v);Bi.warn(`Firestore (${Ca}): ${t}`,...n)}}function $v(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eC(t,r,n)}function eC(t,e,n){let r=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kr(r),new Error(r)}function ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||eC(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Sa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class oL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aL{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new tC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class lL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Km(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ve(r,s);{const i=nC(),o=hL(i.encode(Ax(t,n)),i.encode(Ax(e,n)));return o!==0?o:ve(r,s)}}n+=r>65535?2:1}return ve(t.length,e.length)}function Ax(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function hL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ve(t[n],e[n]);return ve(t.length,e.length)}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=or.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),s=or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?or.extractNumericId(e).compare(or.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Fe extends or{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const fL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends or{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return fL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nx}static keyField(){return new At([Nx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Fe.fromString(e))}static fromName(e){return new oe(Fe.fromString(e).popFirst(5))}static empty(){return new oe(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pL(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kx(t){if(!oe.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dx(t){if(oe.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Su(t,e){if(!sC(t))throw new Z(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=-62135596800,jx=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jx);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ox)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jx}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ox;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:gt("string",Le._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Le(0,0))}static max(){return new de(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function mL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new Qs(s,oe.empty(),e)}function gL(t){return new Qs(t.readTime,t.key,eu)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(de.min(),oe.empty(),eu)}static max(){return new Qs(de.max(),oe.empty(),eu)}}function vL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==yL)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}$h.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-1;function Uh(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function _L(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="";function EL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mx(e)),e=TL(t.get(n),e);return Mx(e)}function TL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iC:n+="";break;default:n+=i}}return n}function Mx(t){return t+iC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lx(this.data.getIterator())}getIteratorFrom(e){return new Lx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Lx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Et(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aC("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const bL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=bL.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="server_timestamp",uC="__type__",cC="__previous_value__",dC="__local_write_time__";function zv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uC])===null||n===void 0?void 0:n.stringValue)===lC}function Bh(t){const e=t.mapValue.fields[cC];return zv(e)?Bh(e):e}function tu(t){const e=Gs(t.mapValue.fields[dC].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,r,s,i,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const zd="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||zd}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===zd}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="__type__",fC="__max__",Sc={mapValue:{fields:{__type__:{stringValue:fC}}}},pC="__vector__",Hd="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zv(t)?4:IL(t)?9007199254740991:CL(t)?10:11:ue(28295,{value:t})}function Er(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gs(s.timestampValue),a=Gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ys(s.bytesValue).isEqual(Ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?Bd(o)===Bd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Vx(o)!==Vx(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Er(o[u],a[u])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function ru(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),u=lt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Fx(t.timestampValue,e.timestampValue);case 4:return Fx(tu(t),tu(e));case 5:return Km(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ys(i),u=Ys(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ve(a[c],u[c]);if(h!==0)return h}return ve(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(lt(i.latitude),lt(o.latitude));return a!==0?a:ve(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $x(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const p=i.fields||{},f=o.fields||{},w=(a=p[Hd])===null||a===void 0?void 0:a.arrayValue,T=(u=f[Hd])===null||u===void 0?void 0:u.arrayValue,y=ve(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:$x(w,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Sc.mapValue&&o===Sc.mapValue)return 0;if(i===Sc.mapValue)return 1;if(o===Sc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const f=Km(u[p],h[p]);if(f!==0)return f;const w=aa(a[u[p]],c[h[p]]);if(w!==0)return w}return ve(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{le:n})}}function Fx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Gs(t),r=Gs(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function $x(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=aa(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function la(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qm(n.fields[o])}`;return s+"}"}(t.mapValue):ue(61005,{value:t})}function Qc(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(t);return e?16+Qc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Qc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return si(r.fields,(i,o)=>{s+=i.length+Qc(o)}),s}(t.mapValue);default:throw ue(13486,{value:t})}}function Ux(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gm(t){return!!t&&"integerValue"in t}function Hv(t){return!!t&&"arrayValue"in t}function Bx(t){return!!t&&"nullValue"in t}function zx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gc(t){return!!t&&"mapValue"in t}function CL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hC])===null||n===void 0?void 0:n.stringValue)===pC}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=At.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(bl(this.value))}}function mC(t){const e=[];return si(t.fields,(n,r)=>{const s=new At([n]);if(Gc(r)){const i=mC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,de.min(),de.min(),de.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new zt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new zt(e,2,n,de.min(),de.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,de.min(),de.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function Hx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function PL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class mt extends gC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AL(e,n,r):n==="array-contains"?new DL(e,r):n==="in"?new OL(e,r):n==="not-in"?new jL(e,r):n==="array-contains-any"?new ML(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NL(e,r):new kL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(aa(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends gC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new er(e,n)}matches(e){return vC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vC(t){return t.op==="and"}function yC(t){return RL(t)&&vC(t)}function RL(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function Ym(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(yC(t))return t.filters.map(e=>Ym(e)).join(",");{const e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function wC(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Er(r.value,s.value)}(t,e):t instanceof er?function(r,s){return s instanceof er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&wC(o,s.filters[a]),!0):!1}(t,e):void ue(19439)}function xC(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(xC).join(" ,")+"}"}(t):"Filter"}class AL extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class NL extends mt{constructor(e,n){super(e,"in",n),this.keys=_C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kL extends mt{constructor(e,n){super(e,"not-in",n),this.keys=_C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class DL extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hv(n)&&ru(n.arrayValue,this.value)}}class OL extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class jL extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class ML extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function qx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new VL(t,e,n,r,s,i,o)}function Wv(t){const e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.Pe=n}return e.Pe}function qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wx(t.startAt,e.startAt)&&Wx(t.endAt,e.endAt)}function Xm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function LL(t,e,n,r,s,i,o,a){return new Ra(t,e,n,r,s,i,o,a)}function EC(t){return new Ra(t)}function Kx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TC(t){return t.collectionGroup!==null}function Sl(t){const e=he(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new su(i,r))}),n.has(At.keyField().canonicalString())||e.Te.push(new su(At.keyField(),r))}return e.Te}function vr(t){const e=he(t);return e.Ie||(e.Ie=FL(e,Sl(t))),e.Ie}function FL(t,e){if(t.limitType==="F")return qx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new su(s.field,i)});const n=t.endAt?new Wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wd(t.startAt.position,t.startAt.inclusive):null;return qx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jm(t,e){const n=t.filters.concat([e]);return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return qv(vr(t),vr(e))&&t.limitType===e.limitType}function bC(t){return`${Wv(vr(t))}|lt:${t.limitType}`}function uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xC(s)).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function Hh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Sl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Hx(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Sl(r),s)||r.endAt&&!function(o,a,u){const c=Hx(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Sl(r),s))}(t,e)}function $L(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SC(t){return(e,n)=>{let r=!1;for(const s of Sl(t)){const i=UL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function UL(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?aa(u,c):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new et(oe.comparator);function Qr(){return BL}const CC=new et(oe.comparator);function cl(...t){let e=CC;for(const n of t)e=e.insert(n.key,n);return e}function IC(t){let e=CC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return Cl()}function PC(){return Cl()}function Cl(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const zL=new et(oe.comparator),HL=new Et(oe.comparator);function _e(...t){let e=HL;for(const n of t)e=e.add(n);return e}const WL=new Et(ve);function qL(){return WL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function RC(t){return{integerValue:""+t}}function KL(t,e){return _L(e)?RC(e):Kv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function QL(t,e,n){return t instanceof qd?function(s,i){const o={fields:{[uC]:{stringValue:lC},[dC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&zv(i)&&(i=Bh(i)),i&&(o.fields[cC]=i),{mapValue:o}}(n,e):t instanceof iu?NC(t,e):t instanceof ou?kC(t,e):function(s,i){const o=AC(s,i),a=Qx(o)+Qx(s.Ee);return Gm(o)&&Gm(s.Ee)?RC(a):Kv(s.serializer,a)}(t,e)}function GL(t,e,n){return t instanceof iu?NC(t,e):t instanceof ou?kC(t,e):n}function AC(t,e){return t instanceof Kd?function(r){return Gm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class qd extends Wh{}class iu extends Wh{constructor(e){super(),this.elements=e}}function NC(t,e){const n=DC(e);for(const r of t.elements)n.some(s=>Er(s,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends Wh{constructor(e){super(),this.elements=e}}function kC(t,e){let n=DC(e);for(const r of t.elements)n=n.filter(s=>!Er(s,r));return{arrayValue:{values:n}}}class Kd extends Wh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Qx(t){return lt(t.integerValue||t.doubleValue)}function DC(t){return Hv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof iu&&s instanceof iu||r instanceof ou&&s instanceof ou?oa(r.elements,s.elements,Er):r instanceof Kd&&s instanceof Kd?Er(r.Ee,s.Ee):r instanceof qd&&s instanceof qd}(t.transform,e.transform)}class XL{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qh{}function OC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qv(t.key,Yn.none()):new Cu(t.key,t.data,Yn.none());{const n=t.data,r=ln.empty();let s=new Et(At.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ii(t.key,r,new xn(s.toArray()),Yn.none())}}function JL(t,e,n){t instanceof Cu?function(s,i,o){const a=s.value.clone(),u=Yx(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(s,i,o){if(!Yc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Yx(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(jC(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,r){return t instanceof Cu?function(i,o,a,u){if(!Yc(i.precondition,o))return a;const c=i.value.clone(),h=Xx(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(i,o,a,u){if(!Yc(i.precondition,o))return a;const c=Xx(i.fieldTransforms,u,o),h=o.data;return h.setAll(jC(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Yc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ZL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AC(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function Gx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>YL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends qh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ii extends qh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yx(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,GL(o,a,n[s]))}return r}function Xx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,QL(i,o,e))}return r}class Qv extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eF extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&JL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=OC(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>Gx(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>Gx(n,r))}}class Gv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return zL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Gv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Se;function sF(t){switch(t){case B.OK:return ue(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function MC(t){if(t===void 0)return Kr("GRPC error has no .code"),B.UNKNOWN;switch(t){case ft.OK:return B.OK;case ft.CANCELLED:return B.CANCELLED;case ft.UNKNOWN:return B.UNKNOWN;case ft.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ft.INTERNAL:return B.INTERNAL;case ft.UNAVAILABLE:return B.UNAVAILABLE;case ft.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ft.NOT_FOUND:return B.NOT_FOUND;case ft.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ft.ABORTED:return B.ABORTED;case ft.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ft.DATA_LOSS:return B.DATA_LOSS;default:return ue(39323,{code:t})}}(Se=ft||(ft={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Ls([4294967295,4294967295],0);function Jx(t){const e=nC().encode(t),n=new QS;return n.update(e),new Uint8Array(n.digest())}function Zx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([s,i],0)]}class Yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ls.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Ls.fromNumber(r)));return s.compare(iF)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Jx(e),[r,s]=Zx(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=Jx(e),[r,s]=Zx(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(de.min(),s,new et(ve),Qr(),_e())}}class Iu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class VC{constructor(e,n){this.targetId=e,this.De=n}}class LC{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class e_{constructor(){this.ve=0,this.Ce=t_(),this.Fe=Dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_e(),n=_e(),r=_e();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue(38017,{changeType:i})}}),new Iu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=t_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class oF{constructor(e){this.We=e,this.Ge=new Map,this.ze=Qr(),this.je=Cc(),this.Je=Cc(),this.He=new et(ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Xm(i))if(r===0){const o=new oe(i.path);this.Xe(n,o,zt.newNoDocument(o,de.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),u=a?this.ut(a,e,o):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ys(r).toUint8Array()}catch(u){if(u instanceof aC)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Yv(o,s,i)}catch(u){return Ks(u instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Xm(a.target)){const u=new oe(a.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,zt.newNoDocument(u,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=_e();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new Kh(e,n,this.He,this.ze,r);return this.ze=Qr(),this.je=Cc(),this.Je=Cc(),this.He=new et(ve),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new e_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Et(ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Et(ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new e_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Cc(){return new et(oe.comparator)}function t_(){return new et(oe.comparator)}const aF={asc:"ASCENDING",desc:"DESCENDING"},lF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uF={and:"AND",or:"OR"};class cF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(t,e){return t.useProto3Json||Uh(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dF(t,e){return Qd(t,e.toTimestamp())}function yr(t){return ke(!!t,49232),de.fromTimestamp(function(n){const r=Gs(n);return new Le(r.seconds,r.nanos)}(t))}function Xv(t,e){return tg(t,e).canonicalString()}function tg(t,e){const n=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $C(t){const e=Fe.fromString(t);return ke(WC(e),10190,{key:e.toString()}),e}function ng(t,e){return Xv(t.databaseId,e.path)}function fp(t,e){const n=$C(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(BC(n))}function UC(t,e){return Xv(t.databaseId,e)}function hF(t){const e=$C(t);return e.length===4?Fe.emptyPath():BC(e)}function rg(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BC(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function n_(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function fF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ke(h===void 0||typeof h=="string",58123),Dt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:MC(c.code);return new Z(h,c.message||"")}(o);n=new LC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fp(t,r.document.name),i=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):de.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Xc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fp(t,r.document),i=r.readTime?yr(r.readTime):de.min(),o=zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fp(t,r.document),i=r.removedTargetIds||[];n=new Xc([],i,s,null)}else{if(!("filter"in e))return ue(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new rF(s,i),a=r.targetId;n=new VC(a,o)}}return n}function pF(t,e){let n;if(e instanceof Cu)n={update:n_(t,e.key,e.value)};else if(e instanceof Qv)n={delete:ng(t,e.key)};else if(e instanceof ii)n={update:n_(t,e.key,e.data),updateMask:TF(e.fieldMask)};else{if(!(e instanceof eF))return ue(16599,{Rt:e.type});n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof qd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ue(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:dF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue(27497)}(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?yr(s.updateTime):yr(i);return o.isEqual(de.min())&&(o=yr(i)),new XL(o,s.transformResults||[])}(n,e))):[]}function gF(t,e){return{documents:[UC(t,e.path)]}}function vF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UC(t,s);const i=function(c){if(c.length!==0)return HC(er.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:co(f.field),direction:xF(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=eg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function yF(t){let e=hF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=zC(p);return f instanceof er&&yC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(T){return new su(ho(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,Uh(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(p){const f=!!p.before,w=p.values||[];return new Wd(w,f)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const f=!p.before,w=p.values||[];return new Wd(w,f)}(n.endAt)),LL(e,s,o,i,a,"F",u,c)}function wF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>zC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function xF(t){return aF[t]}function _F(t){return lF[t]}function EF(t){return uF[t]}function co(t){return{fieldPath:t.canonicalString()}}function ho(t){return At.fromServerFormat(t.fieldPath)}function HC(t){return t instanceof mt?function(n){if(n.op==="=="){if(zx(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zx(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:_F(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(s=>HC(s));return r.length===1?r[0]:{compositeFilter:{op:EF(n.op),filters:r}}}(t):ue(54877,{filter:t})}function TF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,s,i=de.min(),o=de.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.gt=e}}function SF(t){const e=yF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.Dn=new IF}addToCollectionParentIndex(e,n){return this.Dn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Qs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class IF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et(Fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qC=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(qC,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ua(0)}static ur(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LruGarbageCollector",PF=1048576;function i_([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class RF{constructor(e){this.Tr=e,this.buffer=new Et(i_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ne(s_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pa(n)?ne(s_,"Ignoring IndexedDB error during garbage collection: ",n):await Ia(n)}await this.Rr(3e5)})}}class NF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve($h.ue);const r=new RF(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(r_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),lo()<=Ce.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function kF(t,e){return new NF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Il(r.mutation,s,xn.empty(),Le.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cl();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Qr();const o=Cl(),a=function(){return Cl()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ii)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Il(h.mutation,c,h.mutation.getFieldMask(),Le.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new OF(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cl();let s=new et((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||xn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const p=(s.get(a.batchId)||_e()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,p=PC();h.forEach(f=>{if(!i.has(f)){const w=OC(n.get(f),r.get(f));w!==null&&p.set(f,w),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(xi());let a=eu,u=i;return o.next(c=>z.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{u=u.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,_e())).next(h=>({batchId:a,changes:IC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cl();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,u=>{const c=function(p,f){return new Ra(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,zt.newInvalidDocument(h)))});let a=cl();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&Il(h.mutation,c,xn.empty(),Le.now()),Hh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:SF(s.bundledQuery),readTime:yr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.overlays=new et(oe.comparator),this.kr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=xi(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=xi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=xi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return z.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nF(n,r));let i=this.kr.get(n);i===void 0&&(i=_e(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.qr=new Et(Tt.Qr),this.$r=new Et(Tt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Tt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new oe(new Fe([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new oe(new Fe([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=_e();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return oe.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Et(Tt.Qr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Bv:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(ve);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new oe(i),0);let a=new Et(ve);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Hr)),!0)},o),z.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return z.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.ni=e,this.docs=function(){return new et(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Qr();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vL(gL(h),r)<=0||(s.has(h.key)||Hh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue(9500)}ri(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UF(this)}getSize(e){return z.resolve(this.size)}}class UF extends DF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.persistence=e,this.ii=new Xi(n=>Wv(n),qv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.si=0,this.oi=new Jv,this.targetCount=0,this._i=ua.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.hr(n),z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.ai={},this.overlays={},this.ui=new $h(0),this.ci=!1,this.ci=!0,this.li=new LF,this.referenceDelegate=e(this),this.hi=new BF(this),this.indexManager=new CF,this.remoteDocumentCache=function(s){return new $F(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new bF(n),this.Ti=new MF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new FF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new zF(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class zF extends wL{constructor(e){super(),this.currentSequenceNumber=e}}class Zv{constructor(e){this.persistence=e,this.Ai=new Jv,this.Ri=null}static Vi(e){return new Zv(e)}get mi(){if(this.Ri)return this.Ri;throw ue(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,r=>{const s=oe.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return z.or([()=>z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gd{constructor(e,n){this.persistence=e,this.gi=new Xi(r=>EL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kF(this,n)}static Vi(e,n){return new Gd(e,n)}Ii(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return z.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}Sr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ey(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return UM()?8:xL(FM())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new HF;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(lo()<=Ce.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(lo()<=Ce.DEBUG&&ne("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(lo()<=Ce.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):z.resolve())}ps(e,n){if(Kx(n))return z.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zm(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ds(n,c,o,u.readTime)?this.ps(e,Zm(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,r,s){return Kx(n)||s.isEqual(de.min())?z.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?z.resolve(null):(lo()<=Ce.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),uo(n)),this.vs(e,o,n,mL(s,eu)).next(a=>a))})}bs(e,n){let r=new Et(SC(e));return n.forEach((s,i)=>{Hh(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return lo()<=Ce.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",uo(n)),this.gs.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",qF=3e8;class KF{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new et(ve),this.Ms=new Xi(i=>Wv(i),qv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function QF(t,e,n,r){return new KF(t,e,n,r)}async function QC(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=_e();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function GF(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const p=c.batch,f=p.keys();let w=z.resolve();return f.forEach(T=>{w=w.next(()=>h.getEntry(u,T)).next(y=>{const E=c.docVersions.get(T);ke(E!==null,48541),y.version.compareTo(E)<0&&(p.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GC(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function YF(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,p)));let w=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Dt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(p,w),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=qF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,w,h)&&a.push(n.hi.updateTargetData(i,w))});let u=Qr(),c=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(XF(i,o,e.documentUpdates).next(h=>{u=h.Ls,c=h.ks})),!r.isEqual(de.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Fs=s,i))}function XF(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Qr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne(ty,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ls:o,ks:s}})}function JF(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZF(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function sg(t,e,n){const r=he(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pa(o))throw o;ne(ty,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function o_(t,e,n){const r=he(t);let s=de.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=he(u),f=p.Ms.get(h);return f!==void 0?z.resolve(p.Fs.get(f)):p.hi.getTargetData(c,h)}(r,o,vr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:_e())).next(a=>(e3(r,$L(e),a),{documents:a,qs:i})))}function e3(t,e,n){let r=t.xs.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class a_{constructor(){this.activeTargetIds=qL()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t3{constructor(){this.Fo=new a_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new a_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class u_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ne(l_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ne(l_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function ig(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="RestConnection",r3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===zd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=ig(),a=this.Go(e,n.toUriEncodedString());ne(pp,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,s,i);const{host:c}=new URL(a),h=Lv(c);return this.jo(e,a,u,r,h).then(p=>(ne(pp,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ks(pp,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=r3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class o3 extends s3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=ig();return new Promise((a,u)=>{const c=new GS;c.setWithCredentials(!0),c.listenOnce(YS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Kc.NO_ERROR:const p=c.getResponseJson();ne(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Kc.TIMEOUT:ne(Ft,`RPC '${e}' ${o} timed out`),u(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const f=c.getStatus();if(ne(Ft,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const y=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(g)>=0?g:B.UNKNOWN}(T.status);u(new Z(y,T.message))}else u(new Z(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ne(Ft,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ne(Ft,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}P_(e,n,r){const s=ig(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZS(),a=JS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");ne(Ft,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);this.T_(p);let f=!1,w=!1;const T=new i3({Ho:E=>{w?ne(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(ne(Ft,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),ne(Ft,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Yo:()=>p.close()}),y=(E,_,g)=>{E.listen(_,b=>{try{g(b)}catch(A){setTimeout(()=>{throw A},0)}})};return y(p,ul.EventType.OPEN,()=>{w||(ne(Ft,`RPC '${e}' stream ${s} transport opened.`),T.s_())}),y(p,ul.EventType.CLOSE,()=>{w||(w=!0,ne(Ft,`RPC '${e}' stream ${s} transport closed`),T.__(),this.I_(p))}),y(p,ul.EventType.ERROR,E=>{w||(w=!0,Ks(Ft,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.__(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),y(p,ul.EventType.MESSAGE,E=>{var _;if(!w){const g=E.data[0];ke(!!g,16349);const b=g,A=(b==null?void 0:b.error)||((_=b[0])===null||_===void 0?void 0:_.error);if(A){ne(Ft,`RPC '${e}' stream ${s} received error:`,A);const O=A.status;let V=function(R){const S=ft[R];if(S!==void 0)return MC(S)}(O),I=A.message;V===void 0&&(V=B.INTERNAL,I="Unknown error status: "+O+" with message "+A.message),w=!0,T.__(new Z(V,I)),p.close()}else ne(Ft,`RPC '${e}' stream ${s} received:`,g),T.a_(g)}}),y(a,XS.STAT_EVENT,E=>{E.stat===qm.PROXY?ne(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===qm.NOPROXY&&ne(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return new cF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class XC{constructor(e,n,r,s,i,o,a,u){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new YC(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ne(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ne(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a3 extends XC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=fF(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?yr(o.readTime):de.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=rg(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Xm(u)?{documents:gF(i,u)}:{query:vF(i,u).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FC(i,o.resumeToken);const c=eg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=Qd(i,o.snapshotVersion.toTimestamp());const c=eg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wF(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.k_(n)}}class l3 extends XC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=mF(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=rg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pF(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{}class c3 extends u3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,tg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,tg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class d3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Kr(n),this._a=!1):ne("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="RemoteStore";class h3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Ji(this)&&(ne(Hi,"Restarting streams for network reachability change."),await async function(u){const c=he(u);c.Ia.add(4),await Pu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Gh(c)}(this))})}),this.Aa=new d3(r,s)}}async function Gh(t){if(Ji(t))for(const e of t.da)await e(!0)}async function Pu(t){for(const e of t.da)await e(!1)}function JC(t,e){const n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),iy(n)?sy(n):Aa(n).x_()&&ry(n,e))}function ny(t,e){const n=he(t),r=Aa(n);n.Ta.delete(e),r.x_()&&ZC(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ji(n)&&n.Aa.set("Unknown"))}function ry(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).H_(e)}function ZC(t,e){t.Ra.$e(e),Aa(t).Y_(e)}function sy(t){t.Ra=new oF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.Aa.aa()}function iy(t){return Ji(t)&&!Aa(t).M_()&&t.Ta.size>0}function Ji(t){return he(t).Ia.size===0}function eI(t){t.Ra=void 0}async function f3(t){t.Aa.set("Online")}async function p3(t){t.Ta.forEach((e,n)=>{ry(t,e)})}async function m3(t,e){eI(t),iy(t)?(t.Aa.la(e),sy(t)):t.Aa.set("Unknown")}async function g3(t,e,n){if(t.Aa.set("Online"),e instanceof LC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){ne(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yd(t,r)}else if(e instanceof Xc?t.Ra.Ye(e):e instanceof VC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(de.min()))try{const r=await GC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ta.get(c);h&&i.Ta.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.Ta.get(u);if(!h)return;i.Ta.set(u,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),ZC(i,u);const p=new Ss(h.target,u,c,h.sequenceNumber);ry(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne(Hi,"Failed to raise snapshot:",r),await Yd(t,r)}}async function Yd(t,e,n){if(!Pa(e))throw e;t.Ia.add(1),await Pu(t),t.Aa.set("Offline"),n||(n=()=>GC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Hi,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Gh(t)})}function tI(t,e){return e().catch(n=>Yd(t,n,e))}async function Yh(t){const e=he(t),n=Js(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bv;for(;v3(e);)try{const s=await JF(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,y3(e,s)}catch(s){await Yd(e,s)}nI(e)&&rI(e)}function v3(t){return Ji(t)&&t.Pa.length<10}function y3(t,e){t.Pa.push(e);const n=Js(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function nI(t){return Ji(t)&&!Js(t).M_()&&t.Pa.length>0}function rI(t){Js(t).start()}async function w3(t){Js(t).na()}async function x3(t){const e=Js(t);for(const n of t.Pa)e.X_(n.mutations)}async function _3(t,e,n){const r=t.Pa.shift(),s=Gv.from(r,e,n);await tI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yh(t)}async function E3(t,e){e&&Js(t).Z_&&await async function(r,s){if(function(o){return sF(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();Js(r).N_(),await tI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yh(r)}}(t,e),nI(t)&&rI(t)}async function d_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ne(Hi,"RemoteStore received new credentials");const r=Ji(n);n.Ia.add(3),await Pu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Gh(n)}async function T3(t,e){const n=he(t);e?(n.Ia.delete(2),await Gh(n)):e||(n.Ia.add(2),await Pu(n),n.Aa.set("Unknown"))}function Aa(t){return t.Va||(t.Va=function(n,r,s){const i=he(n);return i.ia(),new a3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:f3.bind(null,t),e_:p3.bind(null,t),n_:m3.bind(null,t),J_:g3.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),iy(t)?sy(t):t.Aa.set("Unknown")):(await t.Va.stop(),eI(t))})),t.Va}function Js(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.ia(),new l3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:w3.bind(null,t),n_:E3.bind(null,t),ea:x3.bind(null,t),ta:_3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Yh(t)):(await t.ma.stop(),t.Pa.length>0&&(ne(Hi,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new oy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Pa(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.fa=new et(oe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ca{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,jo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class S3{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=f_(),i.forEach((o,a)=>{for(const u of a.wa)u.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function f_(){return new Xi(t=>bC(t),zh)}async function C3(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new b3,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ay(o,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&ly(n)}async function I3(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P3(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&ly(n)}function R3(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function ly(t){t.Da.forEach(e=>{e.next()})}var og,p_;(p_=og||(og={})).Fa="default",p_.Cache="cache";class A3{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.key=e}}class iI{constructor(e){this.key=e}}class N3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_e(),this.mutatedKeys=_e(),this.Xa=SC(e),this.eu=new jo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new h_,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),w=Hh(this.query,p)?p:null,T=!!f&&this.mutatedKeys.has(f.key),y=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;f&&w?f.data.isEqual(w.data)?T!==y&&(r.track({type:3,doc:w}),E=!0):this.iu(f,w)||(r.track({type:2,doc:w}),E=!0,(u&&this.Xa(w,u)>0||c&&this.Xa(w,c)<0)&&(a=!0)):!f&&w?(r.track({type:0,doc:w}),E=!0):f&&!w&&(r.track({type:1,doc:f}),E=!0,(u||c)&&(a=!0)),E&&(w?(o=o.add(w),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,p)=>function(w,T){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{At:E})}};return y(w)-y(T)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],u=this.Za.size===0&&this.current&&!s?1:0,c=u!==this.Ya;return this.Ya=u,o.length!==0||c?{snapshot:new ca(this.query,e.eu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new h_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=_e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new iI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new sI(r))}),n}uu(e){this.Ha=e.qs,this.Za=_e();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ca.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const uy="SyncEngine";class k3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D3{constructor(e){this.key=e,this.lu=!1}}class O3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Xi(a=>bC(a),zh),this.Tu=new Map,this.Iu=new Set,this.du=new et(oe.comparator),this.Eu=new Map,this.Au=new Jv,this.Ru={},this.Vu=new Map,this.mu=ua.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function j3(t,e,n=!0){const r=dI(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await oI(r,e,n,!0),s}async function M3(t,e){const n=dI(t);await oI(n,e,!0,!1)}async function oI(t,e,n,r){const s=await ZF(t.localStore,vr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await V3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&JC(t.remoteStore,s),a}async function V3(t,e,n,r,s){t.gu=(p,f,w)=>async function(y,E,_,g){let b=E.view.nu(_);b.Ds&&(b=await o_(y.localStore,E.query,!1).then(({documents:I})=>E.view.nu(I,b)));const A=g&&g.targetChanges.get(E.targetId),O=g&&g.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(b,y.isPrimaryClient,A,O);return g_(y,E.targetId,V._u),V.snapshot}(t,p,f,w);const i=await o_(t.localStore,e,!0),o=new N3(e,i.qs),a=o.nu(i.documents),u=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);g_(t,n,c._u);const h=new k3(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function L3(t,e,n){const r=he(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!zh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ny(r.remoteStore,s.targetId),ag(r,s.targetId)}).catch(Ia)):(ag(r,s.targetId),await sg(r.localStore,s.targetId,!0))}async function F3(t,e){const n=he(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ny(n.remoteStore,r.targetId))}async function $3(t,e,n){const r=K3(t);try{const s=await function(o,a){const u=he(o),c=Le.now(),h=a.reduce((w,T)=>w.add(T.key),_e());let p,f;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Qr(),y=_e();return u.Os.getEntries(w,h).next(E=>{T=E,T.forEach((_,g)=>{g.isValidDocument()||(y=y.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,T)).next(E=>{p=E;const _=[];for(const g of a){const b=ZL(g,p.get(g.key).overlayedDocument);b!=null&&_.push(new ii(g.key,b,mC(b.value.mapValue),Yn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(p,y);return u.documentOverlayCache.saveOverlays(w,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:IC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ru[o.currentUser.toKey()];c||(c=new et(ve)),c=c.insert(a,u),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ru(r,s.changes),await Yh(r.remoteStore)}catch(s){const i=ay(s,"Failed to persist write");n.reject(i)}}async function aI(t,e){const n=he(t);try{const r=await YF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ke(o.lu,14607):s.removedDocuments.size>0&&(ke(o.lu,42227),o.lu=!1))}),await Ru(n,r,e)}catch(r){await Ia(r)}}function m_(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((h,p)=>{for(const f of p.wa)f.va(a)&&(c=!0)}),c&&ly(u)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U3(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new et(oe.comparator);o=o.insert(i,zt.newNoDocument(i,de.min()));const a=_e().add(i),u=new Kh(de.min(),new Map,new et(ve),o,a);await aI(r,u),r.du=r.du.remove(i),r.Eu.delete(e),cy(r)}else await sg(r.localStore,e,!1).then(()=>ag(r,e,n)).catch(Ia)}async function B3(t,e){const n=he(t),r=e.batch.batchId;try{const s=await GF(n.localStore,e);uI(n,r,null),lI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,s)}catch(s){await Ia(s)}}async function z3(t,e,n){const r=he(t);try{const s=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(ke(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);uI(r,e,n),lI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ru(r,s)}catch(s){await Ia(s)}}function lI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function uI(t,e,n){const r=he(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||cI(t,r)})}function cI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ny(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),cy(t))}function g_(t,e,n){for(const r of n)r instanceof sI?(t.Au.addReference(r.key,e),H3(t,r)):r instanceof iI?(ne(uy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||cI(t,r.key)):ue(19791,{yu:r})}function H3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ne(uy,"New document in limbo: "+n),t.Iu.add(r),cy(t))}function cy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new oe(Fe.fromString(e)),r=t.mu.next();t.Eu.set(r,new D3(n)),t.du=t.du.insert(n,r),JC(t.remoteStore,new Ss(vr(EC(n.path)),r,"TargetPurposeLimboResolution",$h.ue))}}async function Ru(t,e,n){const r=he(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{o.push(r.gu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=ey.Es(u.targetId,c);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(u,c){const h=he(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(c,f=>z.forEach(f.Is,w=>h.persistence.referenceDelegate.addReference(p,f.targetId,w)).next(()=>z.forEach(f.ds,w=>h.persistence.referenceDelegate.removeReference(p,f.targetId,w)))))}catch(p){if(!Pa(p))throw p;ne(ty,"Failed to update sequence numbers: "+p)}for(const p of c){const f=p.targetId;if(!p.fromCache){const w=h.Fs.get(f),T=w.snapshotVersion,y=w.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(f,y)}}}(r.localStore,i))}async function W3(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ne(uy,"User change. New user:",e.toKey());const r=await QC(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(u=>{u.reject(new Z(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(n,r.Bs)}}function q3(t,e){const n=he(t),r=n.Eu.get(e);if(r&&r.lu)return _e().add(r.key);{let s=_e();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function dI(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U3.bind(null,e),e.hu.J_=P3.bind(null,e.eventManager),e.hu.pu=R3.bind(null,e.eventManager),e}function K3(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z3.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return QF(this.persistence,new WF,e.initialUser,this.serializer)}Du(e){return new KC(Zv.Vi,this.serializer)}bu(e){return new t3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class Q3 extends Xd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ke(this.persistence.referenceDelegate instanceof Gd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new KC(r=>Gd.Vi(r,n),this.serializer)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W3.bind(null,this.syncEngine),await T3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S3}()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=function(i){return new o3(i)}(e.databaseInfo);return function(i,o,a,u){return new c3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new h3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m_(this.syncEngine,n,0),function(){return u_.C()?new u_:new n3}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const p=new O3(s,i,o,a,u,c);return h&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);ne(Hi,"RemoteStore shutting down."),i.Ia.add(5),await Pu(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class Y3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne(Zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(Zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ay(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gp(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await QC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ks("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ne("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ks("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function v_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X3(t);ne(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d_(e.remoteStore,s)),t._onlineComponents=e}async function X3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Zs,"Using user provided OfflineComponentProvider");try{await gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await gp(t,new Xd)}}else ne(Zs,"Using default OfflineComponentProvider"),await gp(t,new Q3(void 0));return t._offlineComponents}async function hI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Zs,"Using user provided OnlineComponentProvider"),await v_(t,t._uninitializedComponentsProvider._online)):(ne(Zs,"Using default OnlineComponentProvider"),await v_(t,new lg))),t._onlineComponents}function J3(t){return hI(t).then(e=>e.syncEngine)}async function Z3(t){const e=await hI(t),n=e.eventManager;return n.onListen=j3.bind(null,e.syncEngine),n.onUnlisten=L3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F3.bind(null,e.syncEngine),n}function e5(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new G3({next:f=>{h.Ou(),o.enqueueAndForget(()=>I3(i,p)),f.fromCache&&u.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new A3(a,h,{includeMetadataChanges:!0,ka:!0});return C3(i,p)}(await Z3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firestore.googleapis.com",w_=!0;class x_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pI,this.ssl=w_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PF)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iL;switch(r.type){case"firstParty":return new uL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y_.get(n);r&&(ne("ComponentProvider","Removing Datastore"),y_.delete(n),r.terminate())}(this),Promise.resolve()}}function t5(t,e,n,r={}){var s;t=zi(t,Xh);const i=Lv(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(OM(`https://${u}`),LM("Firestore",!0)),o.host!==pI&&o.host!==u&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!Fd(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ut.MOCK_USER;else{h=jM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ut(f)}t._authCredentials=new oL(new tC(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Su(n,_t._jsonSchema))return new _t(e,r||null,new oe(Fe.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:gt("string",_t._jsonSchemaVersion),referencePath:gt("string")};class $s extends Zi{constructor(e,n,r){super(e,n,EC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new oe(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function an(t,e,...n){if(t=Wr(t),rC("collection","path",e),t instanceof Xh){const r=Fe.fromString(e,...n);return Dx(r),new $s(t,null,r)}{if(!(t instanceof _t||t instanceof $s))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Dx(r),new $s(t.firestore,null,r)}}function Kn(t,e,...n){if(t=Wr(t),arguments.length===1&&(e=Uv.newId()),rC("doc","path",e),t instanceof Xh){const r=Fe.fromString(e,...n);return kx(r),new _t(t,null,new oe(r))}{if(!(t instanceof _t||t instanceof $s))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return kx(r),new _t(t.firestore,t instanceof $s?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new YC(this,"async_queue_retry"),this.oc=()=>{const r=mp();r&&ne(__,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Fs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pa(e))throw e;ne(__,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Kr("INTERNAL UNHANDLED ERROR: ",T_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=oy.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ue(47125,{hc:T_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function T_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Au extends Xh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function n5(t,e){const n=typeof t=="object"?t:QV(),r=typeof t=="string"?t:zd,s=zV(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kM("firestore");i&&t5(s,...i)}return s}function mI(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r5(t),t._firestoreClient}function r5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new SL(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Y3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Dt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:gt("string",kn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Su(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:gt("string",wr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xr(e.vectorValues);throw new Z(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:gt("string",xr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=/^__.*__$/;class i5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class gI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ec:t})}}class hy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vI(this.Ec)&&s5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class o5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}Dc(e,n,r,s=!1){return new hy({Ec:e,methodName:n,bc:r,path:At.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fy(t){const e=t._freezeSettings(),n=Qh(t._databaseId);return new o5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a5(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);py("Data must be an object, but it was:",o,r);const a=yI(r,o);let u,c;if(i.merge)u=new xn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=ug(e,p,n);if(!o.contains(f))throw new Z(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xI(h,f)||h.push(f)}u=new xn(h),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new i5(new ln(a),u,c)}class Zh extends dy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function l5(t,e,n,r){const s=t.Dc(1,e,n);py("Data must be an object, but it was:",s,r);const i=[],o=ln.empty();si(r,(u,c)=>{const h=my(e,u,n);c=Wr(c);const p=s.gc(h);if(c instanceof Zh)i.push(h);else{const f=Nu(c,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new xn(i);return new gI(o,a,s.fieldTransforms)}function u5(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[ug(e,r,n)],u=[s];if(i.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(ug(e,i[f])),u.push(i[f+1]);const c=[],h=ln.empty();for(let f=a.length-1;f>=0;--f)if(!xI(c,a[f])){const w=a[f];let T=u[f];T=Wr(T);const y=o.gc(w);if(T instanceof Zh)c.push(w);else{const E=Nu(T,y);E!=null&&(c.push(w),h.set(w,E))}}const p=new xn(c);return new gI(h,p,o.fieldTransforms)}function c5(t,e,n,r=!1){return Nu(n,t.Dc(r?4:3,e))}function Nu(t,e){if(wI(t=Wr(t)))return py("Unsupported field value:",e,t),yI(t,e);if(t instanceof dy)return function(r,s){if(!vI(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Nu(a,s.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Wr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:Qd(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(s.serializer,i)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:FC(s.serializer,r._byteString)};if(r instanceof _t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return function(o,a){return{mapValue:{fields:{[hC]:{stringValue:pC},[Hd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Kv(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Fh(r)}`)}(t,e)}function yI(t,e){const n={};return oC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,s)=>{const i=Nu(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof wr||t instanceof kn||t instanceof _t||t instanceof dy||t instanceof xr)}function py(t,e,n){if(!wI(n)||!sC(n)){const r=Fh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function ug(t,e,n){if((e=Wr(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return my(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const d5=new RegExp("[~\\*/\\[\\]]");function my(t,e,n){if(e.search(d5)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Z(B.INVALID_ARGUMENT,a+t+u)}function xI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h5 extends _I{data(){return super.data()}}function gy(t,e){return typeof e=="string"?my(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class EI extends vy{}function p5(t,e,...n){let r=[];e instanceof vy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof wy).length,a=i.filter(u=>u instanceof yy).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class yy extends EI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yy(e,n,r)}_apply(e){const n=this._parse(e);return TI(e._query,n),new Zi(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=fy(e.firestore);return function(i,o,a,u,c,h,p){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){S_(p,h);const T=[];for(const y of p)T.push(b_(u,i,y));f={arrayValue:{values:T}}}else f=b_(u,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||S_(p,h),f=c5(a,o,p,h==="in"||h==="not-in");return mt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wy extends vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)TI(o,u),o=Jm(o,u)}(e._query,n),new Zi(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xy extends EI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(i,o)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ra(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function m5(t,e="asc"){const n=e,r=gy("orderBy",t);return xy._create(r,n)}function b_(t,e,n){if(typeof(n=Wr(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TC(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!oe.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ux(t,new oe(r))}if(n instanceof _t)return Ux(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g5{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Hd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>lt(o.doubleValue));return new xr(i)}convertGeoPoint(e){return new wr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);ke(WC(r),9688,{name:e});const s=new nu(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Kr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mo extends _I{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:gt("string",Mo._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Jc extends Mo{data(e={}){return super.data(e)}}class Vo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Jc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Jc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:y5(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:gt("string",Vo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class w5 extends g5{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function hr(t){t=zi(t,Zi);const e=zi(t.firestore,Au),n=mI(e),r=new w5(e);return f5(t._query),e5(n,t._query).then(s=>new Vo(e,r,t,s))}function da(t,e,n,...r){t=zi(t,_t);const s=zi(t.firestore,Au),i=fy(s);let o;return o=typeof(e=Wr(e))=="string"||e instanceof Jh?u5(i,"updateDoc",t._key,e,n,r):l5(i,"updateDoc",t._key,e),_y(s,[o.toMutation(t._key,Yn.exists(!0))])}function Zd(t){return _y(zi(t.firestore,Au),[new Qv(t._key,Yn.none())])}function eh(t,e){const n=zi(t.firestore,Au),r=Kn(t),s=v5(t.converter,e);return _y(n,[a5(fy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function _y(t,e){return function(r,s){const i=new Fs;return r.asyncQueue.enqueueAndForget(async()=>$3(await J3(r),s,i)),i.promise}(mI(t),e)}(function(e,n=!0){(function(s){Ca=s})(KV),Ud(new Jl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Au(new aL(r.getProvider("auth-internal")),new cL(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Oo(Ix,Px,e),Oo(Ix,Px,"esm2017")})();var x5="firebase",_5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo(x5,_5,"app");const E5={apiKey:"AIzaSyA-T5ol6OAsE86Un76Hd57RW7yxH-2kcNs",authDomain:"mundimaxai.firebaseapp.com",projectId:"mundimaxai",storageBucket:"mundimaxai.firebasestorage.app",messagingSenderId:"107105351606",appId:"1:107105351606:web:ad77bcf9dac7d860803317"},T5=WS(E5),Qe=n5(T5);var b5="Label",bI=v.forwardRef((t,e)=>d.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bI.displayName=b5;var SI=bI;const S5=wa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),it=v.forwardRef(({className:t,...e},n)=>d.jsx(SI,{ref:n,className:te(S5(),t),...e}));it.displayName=SI.displayName;const au=ES,ef=B4,C5=TS,CI=v.forwardRef(({className:t,...e},n)=>d.jsx(jh,{ref:n,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));CI.displayName=jh.displayName;const ha=v.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(C5,{children:[d.jsx(CI,{}),d.jsxs(Mh,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(bS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(mv,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ha.displayName=Mh.displayName;const fa=({className:t,...e})=>d.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});fa.displayName="DialogHeader";const th=({className:t,...e})=>d.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});th.displayName="DialogFooter";const pa=v.forwardRef(({className:t,...e},n)=>d.jsx(Vh,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",t),...e}));pa.displayName=Vh.displayName;const I5=v.forwardRef(({className:t,...e},n)=>d.jsx(Lh,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));I5.displayName=Lh.displayName;const lu=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:te("w-full caption-bottom text-sm",t),...e})}));lu.displayName="Table";const uu=v.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:te("[&_tr]:border-b",t),...e}));uu.displayName="TableHeader";const cu=v.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:te("[&_tr:last-child]:border-0",t),...e}));cu.displayName="TableBody";const P5=v.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));P5.displayName="TableFooter";const fr=v.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));fr.displayName="TableRow";const at=v.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));at.displayName="TableHead";const Ke=v.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ke.displayName="TableCell";const R5=v.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:te("mt-4 text-sm text-muted-foreground",t),...e}));R5.displayName="TableCaption";function A5(){const t=Av(),[e,n]=v.useState(""),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,u]=v.useState({nome:"",telefone:"",cnpj:"",endereco:"",bairro:"",cidade:"",estado:"",cep:""});async function c(g){const b=g.replace(/\D/g,"");if(b.length!==8)return null;try{const O=await(await fetch(`https://viacep.com.br/ws/${b}/json/`)).json();return O.erro?null:O}catch{return null}}const{data:h=[],isLoading:p}=DO({queryKey:["clientes"],queryFn:async()=>(await hr(an(Qe,"clientes"))).docs.map(b=>({id:b.id,...b.data()}))}),f=Yw({mutationFn:async()=>{if(!a.nome.trim()||!a.telefone.trim()||!a.cnpj.trim())throw new Error("Nome, telefone e CNPJ so obrigatrios.");i?await da(Kn(Qe,"clientes",i.id),a):await eh(an(Qe,"clientes"),{...a,dataCadastro:new Date().toISOString()})},onSuccess:()=>{t.invalidateQueries({queryKey:["clientes"]}),s(!1),T()},onError:g=>{alert(g.message||"Erro ao salvar cliente.")}}),w=Yw({mutationFn:async g=>{await Zd(Kn(Qe,"clientes",g))},onSuccess:()=>{t.invalidateQueries({queryKey:["clientes"]})}}),T=()=>{u({nome:"",telefone:"",cnpj:"",endereco:"",bairro:"",cidade:"",estado:"",cep:""}),o(null)},y=g=>{o(g),u({nome:g.nome,telefone:g.telefone,cnpj:g.cnpj,endereco:g.endereco,bairro:g.bairro,cidade:g.cidade,estado:g.estado,cep:g.cep}),s(!0)},E=h.filter(g=>g.nome.toLowerCase().includes(e.toLowerCase())||g.telefone.includes(e)||g.cnpj.includes(e)),{isPending:_}=f;return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clientes"}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie seus clientes"})]}),d.jsxs(au,{open:r,onOpenChange:s,children:[d.jsx(ef,{asChild:!0,children:d.jsxs(Ve,{onClick:T,children:[d.jsx(NT,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),d.jsxs(ha,{className:"max-w-2xl",children:[d.jsx(fa,{children:d.jsx(pa,{children:i?"Editar Cliente":"Novo Cliente"})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"nome",children:"Nome *"}),d.jsx(Ye,{id:"nome",value:a.nome,onChange:g=>u({...a,nome:g.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"telefone",children:"Telefone *"}),d.jsx(Ye,{id:"telefone",value:a.telefone,onChange:g=>u({...a,telefone:g.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"cnpj",children:"CNPJ *"}),d.jsx(Ye,{id:"cnpj",value:a.cnpj,onChange:g=>u({...a,cnpj:g.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"cep",children:"CEP"}),d.jsx(Ye,{id:"cep",value:a.cep,onChange:g=>u({...a,cep:g.target.value}),onBlur:async()=>{const g=await c(a.cep);g?u(b=>({...b,endereco:g.logradouro||"",bairro:g.bairro||"",cidade:g.localidade||"",estado:g.uf||""})):a.cep.trim().length>0&&alert("CEP invlido ou no encontrado")}})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"bairro",children:"Bairro"}),d.jsx(Ye,{id:"bairro",value:a.bairro,onChange:g=>u({...a,bairro:g.target.value})})]}),d.jsxs("div",{className:"space-y-2 col-span-2",children:[d.jsx(it,{htmlFor:"endereco",children:"Endereo"}),d.jsx(Ye,{id:"endereco",value:a.endereco,onChange:g=>u({...a,endereco:g.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"cidade",children:"Cidade"}),d.jsx(Ye,{id:"cidade",value:a.cidade,onChange:g=>u({...a,cidade:g.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"estado",children:"Estado"}),d.jsx(Ye,{id:"estado",value:a.estado,onChange:g=>u({...a,estado:g.target.value})})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[d.jsx(Ve,{variant:"outline",onClick:()=>s(!1),disabled:_,children:"Cancelar"}),d.jsx(Ve,{onClick:()=>f.mutate(),disabled:_,children:i?"Atualizar":"Salvar"})]})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:d.jsxs(vn,{children:[d.jsxs(Nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(pr,{className:"text-sm font-medium",children:"Total de Clientes"}),d.jsx(fN,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(yn,{children:d.jsx("div",{className:"text-2xl font-bold",children:h.length})})]})}),d.jsxs(vn,{children:[d.jsx(Nn,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fv,{className:"w-4 h-4"}),d.jsx(Ye,{placeholder:"Buscar por nome, telefone ou CNPJ...",value:e,onChange:g=>n(g.target.value),className:"max-w-sm"})]})}),d.jsx(yn,{children:d.jsxs(lu,{children:[d.jsx(uu,{children:d.jsxs(fr,{children:[d.jsx(at,{children:"Nome"}),d.jsx(at,{children:"Telefone"}),d.jsx(at,{children:"Cidade"}),d.jsx(at,{className:"text-right",children:"Aes"})]})}),d.jsx(cu,{children:E.map(g=>d.jsxs(fr,{children:[d.jsx(Ke,{className:"font-medium",children:g.nome}),d.jsx(Ke,{children:g.telefone}),d.jsxs(Ke,{children:[g.cidade,", ",g.estado]}),d.jsx(Ke,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>y(g),children:d.jsx(pv,{className:"w-4 h-4"})}),d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>w.mutate(g.id),children:d.jsx(ql,{className:"w-4 h-4"})})]})})]},g.id))})]})})]})]})}function N5(){const{toast:t}=eT(),[e,n]=v.useState([]),[r,s]=v.useState(""),[i,o]=v.useState(!1),[a,u]=v.useState({nomeProd:"",tipo:"modo",precoPorKg:0,descricao:""}),[c,h]=v.useState(null),[p,f]=v.useState([]),[w,T]=v.useState(!1),y=async()=>{const S=await hr(an(Qe,"produtos")),k=[];for(const D of S.docs){const N=D.data(),ie=(await hr(an(Qe,`produtos/${D.id}/bags`))).docs.map(J=>{var F,M;return{...J.data(),id:J.id,criadoEm:((M=(F=J.data().criadoEm)==null?void 0:F.toDate)==null?void 0:M.call(F))||new Date,produtoId:J.data().produtoId}});k.push({...N,id:D.id,bags:ie})}n(k)};v.useEffect(()=>{y()},[]);const E=async S=>{await Zd(Kn(Qe,"produtos",S)),t({title:"Produto excludo",description:"Produto removido com sucesso.",variant:"destructive"}),y()},_=async()=>{if(!(!a.nomeProd||a.precoPorKg<=0))try{const S=await eh(an(Qe,"produtos"),a);t({title:"Produto criado com sucesso"}),o(!1),u({nomeProd:"",tipo:"modo",precoPorKg:0,descricao:""}),y()}catch{t({title:"Erro ao criar produto",variant:"destructive"})}},g=S=>{h(S),f(S.bags),T(!0)},b=async()=>{if(c)try{await da(Kn(Qe,"produtos",c.id),{nomeProd:c.nomeProd,tipo:c.tipo,precoPorKg:c.precoPorKg,descricao:c.descricao}),await Promise.all(p.map(async S=>{const k=Kn(Qe,"produtos",c.id,"bags",S.id);S.id.startsWith("temp-")||S.id.length<10?await eh(an(Qe,"produtos",c.id,"bags"),{pesoKg:S.pesoKg,status:S.status,criadoEm:S.criadoEm instanceof Date?Le.fromDate(S.criadoEm):S.criadoEm,produtoId:c.id}):await da(k,{pesoKg:S.pesoKg,status:S.status,criadoEm:S.criadoEm instanceof Date?Le.fromDate(S.criadoEm):S.criadoEm,produtoId:c.id})})),t({title:"Produto atualizado com sucesso"}),T(!1),h(null),y()}catch{t({title:"Erro ao atualizar produto",variant:"destructive"})}},A=(S,k,D)=>{f(N=>N.map(W=>W.id===S?{...W,[k]:D,produtoId:W.produtoId}:W))},O=()=>{if(!c)return;const S={id:`temp-${Math.random().toString(36).substring(2,9)}`,pesoKg:0,status:"disponivel",criadoEm:new Date,produtoId:c.id};f(k=>[...k,S])},V=async S=>{if(!c)return;!S.startsWith("temp-")&&!S.includes(".")&&await Zd(Kn(Qe,"produtos",c.id,"bags",S)),f(D=>D.filter(N=>N.id!==S))},I=e.filter(S=>{var k;return S.nomeProd.toLowerCase().includes(r.toLowerCase())||((k=S.descricao)==null?void 0:k.toLowerCase().includes(r.toLowerCase()))}),C=S=>S.reduce((k,D)=>D.status==="disponivel"?k+D.pesoKg:k,0),R={disponivel:"bg-green-200 text-green-800",reservado:"bg-gray-200 text-gray-800",vendido:"bg-yellow-300 text-yellow-900"};return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Produtos"}),d.jsxs(au,{open:i,onOpenChange:o,children:[d.jsx(ef,{asChild:!0,children:d.jsx(Ve,{children:"Novo Produto"})}),d.jsxs(ha,{children:[d.jsx(fa,{children:d.jsx(pa,{children:"Novo Produto"})}),d.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"nome",children:"Nome"}),d.jsx(Ye,{id:"nome",value:a.nomeProd,onChange:S=>u(k=>({...k,nomeProd:S.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"descricao",children:"Descrio"}),d.jsx(Ye,{id:"descricao",value:a.descricao,onChange:S=>u(k=>({...k,descricao:S.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"tipo",children:"Tipo"}),d.jsxs("select",{id:"tipo",className:"w-full border rounded px-3 py-2",value:a.tipo,onChange:S=>u(k=>({...k,tipo:S.target.value})),children:[d.jsx("option",{value:"modo",children:"Modo"}),d.jsx("option",{value:"borra",children:"Borra"}),d.jsx("option",{value:"outro",children:"Outro"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"preco",children:"Preo por KG"}),d.jsx(Ye,{id:"preco",type:"number",step:"0.01",value:a.precoPorKg,onChange:S=>u(k=>({...k,precoPorKg:parseFloat(S.target.value)}))})]})]}),d.jsxs(th,{children:[d.jsx(Ve,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),d.jsx(Ve,{onClick:_,children:"Salvar"})]})]})]})]}),d.jsxs("div",{className:"relative max-w-md",children:[d.jsx(fv,{className:"absolute left-2 top-2.5 w-4 h-4 text-muted-foreground"}),d.jsx(Ye,{placeholder:"Buscar produtos...",value:r,onChange:S=>s(S.target.value),className:"pl-8"})]}),d.jsx("div",{className:"grid gap-4",children:I.map(S=>{const k=C(S.bags);return d.jsx(vn,{className:k<=0?"border-red-300 bg-red-50":"",children:d.jsxs(yn,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold",children:S.nomeProd}),d.jsx("p",{className:"text-sm text-muted-foreground",children:S.descricao}),d.jsxs("p",{className:"text-sm mt-2",children:["Tipo: ",d.jsx("strong",{children:S.tipo}),d.jsx("br",{}),"Preo por KG:"," ",d.jsxs("strong",{children:["R$ ",S.precoPorKg.toFixed(2).replace(".",",")]}),d.jsx("br",{}),"Estoque disponvel: ",d.jsxs("strong",{children:[k.toFixed(2)," KG"]})]})]}),d.jsxs("div",{className:"flex gap-2 items-start",children:[d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>g(S),children:d.jsx(pv,{className:"w-4 h-4"})}),d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>E(S.id),children:d.jsx(ql,{className:"w-4 h-4"})})]})]}),S.bags.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Bags disponveis:"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:S.bags.map((D,N)=>d.jsxs("div",{className:`flex justify-between items-center border rounded px-2 py-1 shadow-sm ${R[D.status]}`,children:[d.jsx("span",{className:"font-semibold",children:`Bag ${String(N+1).padStart(2,"0")}`}),d.jsxs("span",{children:[D.pesoKg.toFixed(2)," KG -"," ",d.jsx("span",{className:"capitalize",children:D.status})]})]},D.id))})]})]})},S.id)})}),d.jsx(au,{open:w,onOpenChange:T,children:d.jsxs(ha,{children:[d.jsx(fa,{children:d.jsx(pa,{children:"Editar Produto"})}),c&&d.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{children:"Nome"}),d.jsx(Ye,{value:c.nomeProd,onChange:S=>h({...c,nomeProd:S.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{children:"Descrio"}),d.jsx(Ye,{value:c.descricao,onChange:S=>h({...c,descricao:S.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{children:"Tipo"}),d.jsxs("select",{className:"w-full border rounded px-3 py-2",value:c.tipo,onChange:S=>h({...c,tipo:S.target.value}),children:[d.jsx("option",{value:"modo",children:"Modo"}),d.jsx("option",{value:"borra",children:"Borra"}),d.jsx("option",{value:"outro",children:"Outro"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{children:"Preo por KG"}),d.jsx(Ye,{type:"number",step:"0.01",value:c.precoPorKg,onChange:S=>h({...c,precoPorKg:parseFloat(S.target.value)})})]}),d.jsxs("div",{className:"space-y-2 mt-4",children:[d.jsx(it,{children:"Bags"}),p.map((S,k)=>d.jsxs("div",{className:`flex gap-2 items-center ${R[S.status]} rounded p-2`,children:[d.jsx("span",{className:"font-semibold min-w-[70px]",children:`Bag ${String(k+1).padStart(2,"0")}`}),d.jsx(Ye,{type:"number",step:"0.01",min:0,value:S.pesoKg,onChange:D=>A(S.id,"pesoKg",parseFloat(D.target.value)),className:"flex-1"}),d.jsxs("select",{value:S.status,onChange:D=>A(S.id,"status",D.target.value),className:"border rounded px-2 py-1",children:[d.jsx("option",{value:"disponivel",children:"Disponvel"}),d.jsx("option",{value:"reservado",children:"Reservado"}),d.jsx("option",{value:"vendido",children:"Vendido"})]}),d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>V(S.id),children:d.jsx(ql,{className:"w-4 h-4"})})]},S.id)),d.jsx(Ve,{variant:"outline",size:"sm",onClick:O,children:"Adicionar Bag"})]}),d.jsxs(th,{children:[d.jsx(Ve,{variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),d.jsx(Ve,{onClick:b,children:"Salvar"})]})]})]})})]})}const II=v.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));II.displayName="Textarea";function C_(t,[e,n]){return Math.min(n,Math.max(e,t))}var k5=v.createContext(void 0);function D5(t){const e=v.useContext(k5);return t||e||"ltr"}function O5(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var j5=[" ","Enter","ArrowUp","ArrowDown"],M5=[" ","Enter"],ku="Select",[tf,nf,V5]=rT(ku),[Na,I6]=wh(ku,[V5,Ch]),rf=Ch(),[L5,oi]=Na(ku),[F5,$5]=Na(ku),PI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:u,dir:c,name:h,autoComplete:p,disabled:f,required:w,form:T}=t,y=rf(e),[E,_]=v.useState(null),[g,b]=v.useState(null),[A,O]=v.useState(!1),V=D5(c),[I=!1,C]=Wl({prop:r,defaultProp:s,onChange:i}),[R,S]=Wl({prop:o,defaultProp:a,onChange:u}),k=v.useRef(null),D=E?T||!!E.closest("form"):!0,[N,W]=v.useState(new Set),ie=Array.from(N).map(J=>J.props.value).join(";");return d.jsx(ab,{...y,children:d.jsxs(L5,{required:w,scope:e,trigger:E,onTriggerChange:_,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:ki(),value:R,onValueChange:S,open:I,onOpenChange:C,dir:V,triggerPointerDownPosRef:k,disabled:f,children:[d.jsx(tf.Provider,{scope:e,children:d.jsx(F5,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{W(F=>new Set(F).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{W(F=>{const M=new Set(F);return M.delete(J),M})},[]),children:n})}),D?d.jsxs(ZI,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:p,value:R,onChange:J=>S(J.target.value),disabled:f,form:T,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},ie):null]})})};PI.displayName=ku;var RI="SelectTrigger",AI=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=rf(n),o=oi(RI,n),a=o.disabled||r,u=We(e,o.onTriggerChange),c=nf(n),h=v.useRef("touch"),[p,f,w]=eP(y=>{const E=c().filter(b=>!b.disabled),_=E.find(b=>b.value===o.value),g=tP(E,y,_);g!==void 0&&o.onValueChange(g.value)}),T=y=>{a||(o.onOpenChange(!0),w()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(lb,{asChild:!0,...i,children:d.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":JI(o.value)?"":void 0,...s,ref:u,onClick:me(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&T(y)}),onPointerDown:me(s.onPointerDown,y=>{h.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(T(y),y.preventDefault())}),onKeyDown:me(s.onKeyDown,y=>{const E=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(E&&y.key===" ")&&j5.includes(y.key)&&(T(),y.preventDefault())})})})});AI.displayName=RI;var NI="SelectValue",kI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,u=oi(NI,n),{onValueNodeHasChildrenChange:c}=u,h=i!==void 0,p=We(e,u.onValueNodeChange);return Wt(()=>{c(h)},[c,h]),d.jsx(Ie.span,{...a,ref:p,style:{pointerEvents:"none"},children:JI(u.value)?d.jsx(d.Fragment,{children:o}):i})});kI.displayName=NI;var U5="SelectIcon",DI=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Ie.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});DI.displayName=U5;var B5="SelectPortal",OI=t=>d.jsx(xh,{asChild:!0,...t});OI.displayName=B5;var Wi="SelectContent",jI=v.forwardRef((t,e)=>{const n=oi(Wi,t.__scopeSelect),[r,s]=v.useState();if(Wt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Qi.createPortal(d.jsx(MI,{scope:t.__scopeSelect,children:d.jsx(tf.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(VI,{...t,ref:e})});jI.displayName=Wi;var $n=10,[MI,ai]=Na(Wi),z5="SelectContentImpl",VI=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:u,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:w,sticky:T,hideWhenDetached:y,avoidCollisions:E,..._}=t,g=oi(Wi,n),[b,A]=v.useState(null),[O,V]=v.useState(null),I=We(e,se=>A(se)),[C,R]=v.useState(null),[S,k]=v.useState(null),D=nf(n),[N,W]=v.useState(!1),ie=v.useRef(!1);v.useEffect(()=>{if(b)return iS(b)},[b]),Yb();const J=v.useCallback(se=>{const[Pe,...qe]=D().map(xe=>xe.ref.current),[ye]=qe.slice(-1),Ee=document.activeElement;for(const xe of se)if(xe===Ee||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===Pe&&O&&(O.scrollTop=0),xe===ye&&O&&(O.scrollTop=O.scrollHeight),xe==null||xe.focus(),document.activeElement!==Ee))return},[D,O]),F=v.useCallback(()=>J([C,b]),[J,C,b]);v.useEffect(()=>{N&&F()},[N,F]);const{onOpenChange:M,triggerPointerDownPosRef:U}=g;v.useEffect(()=>{if(b){let se={x:0,y:0};const Pe=ye=>{var Ee,xe;se={x:Math.abs(Math.round(ye.pageX)-(((Ee=U.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((xe=U.current)==null?void 0:xe.y)??0))}},qe=ye=>{se.x<=10&&se.y<=10?ye.preventDefault():b.contains(ye.target)||M(!1),document.removeEventListener("pointermove",Pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",qe,{capture:!0})}}},[b,M,U]),v.useEffect(()=>{const se=()=>M(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[M]);const[K,H]=eP(se=>{const Pe=D().filter(Ee=>!Ee.disabled),qe=Pe.find(Ee=>Ee.ref.current===document.activeElement),ye=tP(Pe,se,qe);ye&&setTimeout(()=>ye.ref.current.focus())}),Q=v.useCallback((se,Pe,qe)=>{const ye=!ie.current&&!qe;(g.value!==void 0&&g.value===Pe||ye)&&(R(se),ye&&(ie.current=!0))},[g.value]),X=v.useCallback(()=>b==null?void 0:b.focus(),[b]),fe=v.useCallback((se,Pe,qe)=>{const ye=!ie.current&&!qe;(g.value!==void 0&&g.value===Pe||ye)&&k(se)},[g.value]),be=r==="popper"?cg:LI,le=be===cg?{side:a,sideOffset:u,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:w,sticky:T,hideWhenDetached:y,avoidCollisions:E}:{};return d.jsx(MI,{scope:n,content:b,viewport:O,onViewportChange:V,itemRefCallback:Q,selectedItem:C,onItemLeave:X,itemTextRefCallback:fe,focusSelectedItem:F,selectedItemText:S,position:r,isPositioned:N,searchRef:K,children:d.jsx(kv,{as:Vn,allowPinchZoom:!0,children:d.jsx(Nv,{asChild:!0,trapped:g.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:me(s,se=>{var Pe;(Pe=g.trigger)==null||Pe.focus({preventScroll:!0}),se.preventDefault()}),children:d.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:d.jsx(be,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:se=>se.preventDefault(),..._,...le,onPlaced:()=>W(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:me(_.onKeyDown,se=>{const Pe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Pe&&se.key.length===1&&H(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ye=D().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,xe=ye.indexOf(Ee);ye=ye.slice(xe+1)}setTimeout(()=>J(ye)),se.preventDefault()}})})})})})})});VI.displayName=z5;var H5="SelectItemAlignedPosition",LI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=oi(Wi,n),o=ai(Wi,n),[a,u]=v.useState(null),[c,h]=v.useState(null),p=We(e,I=>h(I)),f=nf(n),w=v.useRef(!1),T=v.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:_,focusSelectedItem:g}=o,b=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&E&&_){const I=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),S=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=S.left-C.left,xe=R.left-Ee,vt=I.left-xe,Ct=I.width+vt,In=Math.max(Ct,C.width),qt=window.innerWidth-$n,br=C_(xe,[$n,Math.max($n,qt-In)]);a.style.minWidth=Ct+"px",a.style.left=br+"px"}else{const Ee=C.right-S.right,xe=window.innerWidth-R.right-Ee,vt=window.innerWidth-I.right-xe,Ct=I.width+vt,In=Math.max(Ct,C.width),qt=window.innerWidth-$n,br=C_(xe,[$n,Math.max($n,qt-In)]);a.style.minWidth=Ct+"px",a.style.right=br+"px"}const k=f(),D=window.innerHeight-$n*2,N=y.scrollHeight,W=window.getComputedStyle(c),ie=parseInt(W.borderTopWidth,10),J=parseInt(W.paddingTop,10),F=parseInt(W.borderBottomWidth,10),M=parseInt(W.paddingBottom,10),U=ie+J+N+M+F,K=Math.min(E.offsetHeight*5,U),H=window.getComputedStyle(y),Q=parseInt(H.paddingTop,10),X=parseInt(H.paddingBottom,10),fe=I.top+I.height/2-$n,be=D-fe,le=E.offsetHeight/2,se=E.offsetTop+le,Pe=ie+J+se,qe=U-Pe;if(Pe<=fe){const Ee=k.length>0&&E===k[k.length-1].ref.current;a.style.bottom="0px";const xe=c.clientHeight-y.offsetTop-y.offsetHeight,vt=Math.max(be,le+(Ee?X:0)+xe+F),Ct=Pe+vt;a.style.height=Ct+"px"}else{const Ee=k.length>0&&E===k[0].ref.current;a.style.top="0px";const vt=Math.max(fe,ie+y.offsetTop+(Ee?Q:0)+le)+qe;a.style.height=vt+"px",y.scrollTop=Pe-fe+y.offsetTop}a.style.margin=`${$n}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[f,i.trigger,i.valueNode,a,c,y,E,_,i.dir,r]);Wt(()=>b(),[b]);const[A,O]=v.useState();Wt(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=v.useCallback(I=>{I&&T.current===!0&&(b(),g==null||g(),T.current=!1)},[b,g]);return d.jsx(q5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:V,children:d.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(Ie.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});LI.displayName=H5;var W5="SelectPopperPosition",cg=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=$n,...i}=t,o=rf(n);return d.jsx(ub,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cg.displayName=W5;var[q5,Ey]=Na(Wi,{}),dg="SelectViewport",FI=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ai(dg,n),o=Ey(dg,n),a=We(e,i.onViewportChange),u=v.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(tf.Slot,{scope:n,children:d.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const w=Math.abs(u.current-h.scrollTop);if(w>0){const T=window.innerHeight-$n*2,y=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),_=Math.max(y,E);if(_<T){const g=_+w,b=Math.min(T,g),A=g-b;p.style.height=b+"px",p.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});FI.displayName=dg;var $I="SelectGroup",[K5,Q5]=Na($I),G5=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ki();return d.jsx(K5,{scope:n,id:s,children:d.jsx(Ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});G5.displayName=$I;var UI="SelectLabel",BI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Q5(UI,n);return d.jsx(Ie.div,{id:s.id,...r,ref:e})});BI.displayName=UI;var nh="SelectItem",[Y5,zI]=Na(nh),HI=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=oi(nh,n),u=ai(nh,n),c=a.value===r,[h,p]=v.useState(i??""),[f,w]=v.useState(!1),T=We(e,g=>{var b;return(b=u.itemRefCallback)==null?void 0:b.call(u,g,r,s)}),y=ki(),E=v.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Y5,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:v.useCallback(g=>{p(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:d.jsx(tf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Ie.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:me(o.onFocus,()=>w(!0)),onBlur:me(o.onBlur,()=>w(!1)),onClick:me(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:me(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:me(o.onPointerDown,g=>{E.current=g.pointerType}),onPointerMove:me(o.onPointerMove,g=>{var b;E.current=g.pointerType,s?(b=u.onItemLeave)==null||b.call(u):E.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=u.onItemLeave)==null||b.call(u))}),onKeyDown:me(o.onKeyDown,g=>{var A;((A=u.searchRef)==null?void 0:A.current)!==""&&g.key===" "||(M5.includes(g.key)&&_(),g.key===" "&&g.preventDefault())})})})})});HI.displayName=nh;var hl="SelectItemText",WI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=oi(hl,n),a=ai(hl,n),u=zI(hl,n),c=$5(hl,n),[h,p]=v.useState(null),f=We(e,_=>p(_),u.onItemTextChange,_=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,_,u.value,u.disabled)}),w=h==null?void 0:h.textContent,T=v.useMemo(()=>d.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=c;return Wt(()=>(y(T),()=>E(T)),[y,E,T]),d.jsxs(d.Fragment,{children:[d.jsx(Ie.span,{id:u.textId,...i,ref:f}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qi.createPortal(i.children,o.valueNode):null]})});WI.displayName=hl;var qI="SelectItemIndicator",KI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zI(qI,n).isSelected?d.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});KI.displayName=qI;var hg="SelectScrollUpButton",QI=v.forwardRef((t,e)=>{const n=ai(hg,t.__scopeSelect),r=Ey(hg,t.__scopeSelect),[s,i]=v.useState(!1),o=We(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;i(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(YI,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});QI.displayName=hg;var fg="SelectScrollDownButton",GI=v.forwardRef((t,e)=>{const n=ai(fg,t.__scopeSelect),r=Ey(fg,t.__scopeSelect),[s,i]=v.useState(!1),o=We(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<c;i(h)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(YI,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});GI.displayName=fg;var YI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ai("SelectScrollButton",n),o=v.useRef(null),a=nf(n),u=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),Wt(()=>{var h;const c=a().find(p=>p.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{u()})})}),X5="SelectSeparator",XI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});XI.displayName=X5;var pg="SelectArrow",J5=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=rf(n),i=oi(pg,n),o=ai(pg,n);return i.open&&o.position==="popper"?d.jsx(cb,{...s,...r,ref:e}):null});J5.displayName=pg;function JI(t){return t===""||t===void 0}var ZI=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=We(e,s),o=O5(n);return v.useEffect(()=>{const a=s.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),d.jsx(_u,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});ZI.displayName="BubbleSelect";function eP(t){const e=bn(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tP(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Z5(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function Z5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var e6=PI,nP=AI,t6=kI,n6=DI,r6=OI,rP=jI,s6=FI,sP=BI,iP=HI,i6=WI,o6=KI,oP=QI,aP=GI,lP=XI;const vp=e6,yp=t6,Zc=v.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(nP,{ref:r,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(n6,{asChild:!0,children:d.jsx(AT,{className:"h-4 w-4 opacity-50"})})]}));Zc.displayName=nP.displayName;const uP=v.forwardRef(({className:t,...e},n)=>d.jsx(oP,{ref:n,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(oN,{className:"h-4 w-4"})}));uP.displayName=oP.displayName;const cP=v.forwardRef(({className:t,...e},n)=>d.jsx(aP,{ref:n,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(AT,{className:"h-4 w-4"})}));cP.displayName=aP.displayName;const ed=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(r6,{children:d.jsxs(rP,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(uP,{}),d.jsx(s6,{className:te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(cP,{})]})}));ed.displayName=rP.displayName;const a6=v.forwardRef(({className:t,...e},n)=>d.jsx(sP,{ref:n,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));a6.displayName=sP.displayName;const gi=v.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(iP,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(o6,{children:d.jsx(iN,{className:"h-4 w-4"})})}),d.jsx(i6,{children:e})]}));gi.displayName=iP.displayName;const l6=v.forwardRef(({className:t,...e},n)=>d.jsx(lP,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));l6.displayName=lP.displayName;const u6=wa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function td({className:t,variant:e,children:n,...r}){return d.jsx("div",{className:te(u6({variant:e}),t),...r,children:n})}const c6=t=>{const e=window.open("","_blank");if(!e){alert("Por favor, permita pop-ups para gerar o PDF");return}const n=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Pedido #${t.id} - MONDINI</title>
      <style>
        body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 20px;
          color: #333;
        }
        .header {
          text-align: center;
          margin-bottom: 30px;
          border-bottom: 2px solid #333;
          padding-bottom: 20px;
        }
        .company-name {
          font-size: 28px;
          font-weight: bold;
          color: #2563eb;
          margin-bottom: 5px;
        }
        .company-subtitle {
          font-size: 14px;
          color: #666;
        }
        .pedido-info {
          display: flex;
          justify-content: space-between;
          margin-bottom: 30px;
          background-color: #f8f9fa;
          padding: 15px;
          border-radius: 5px;
        }
        .info-section {
          flex: 1;
        }
        .info-title {
          font-weight: bold;
          color: #2563eb;
          margin-bottom: 5px;
        }
        .status {
          display: inline-block;
          padding: 4px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-transform: uppercase;
        }
        .status-pendente { background-color: #fef3c7; color: #92400e; }
        .status-processando { background-color: #dbeafe; color: #1e40af; }
        .status-concluido { background-color: #d1fae5; color: #065f46; }
        .status-cancelado { background-color: #fee2e2; color: #991b1b; }
        .itens-table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 20px;
          border: 1px solid #e5e7eb;
        }
        .itens-table th,
        .itens-table td {
          border: 1px solid #e5e7eb;
          padding: 12px;
          text-align: left;
        }
        .itens-table th {
          background-color: #f9fafb;
          font-weight: bold;
          color: #374151;
        }
        .text-right {
          text-align: right;
        }
        .total-row {
          background-color: #f3f4f6;
          font-weight: bold;
        }
        .observacoes {
          margin-top: 20px;
          padding: 15px;
          background-color: #f8f9fa;
          border-left: 4px solid #2563eb;
        }
        .footer {
          margin-top: 40px;
          text-align: center;
          font-size: 12px;
          color: #666;
          border-top: 1px solid #e5e7eb;
          padding-top: 20px;
        }
        @media print {
          body { margin: 0; }
          .no-print { display: none; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="company-name">MONDINI</div>
        <div class="company-subtitle">Sistema de Controle de Estoque</div>
      </div>

      <div class="pedido-info">
        <div class="info-section">
          <div class="info-title">Pedido</div>
          <div>#${t.id}</div>
        </div>
        <div class="info-section">
          <div class="info-title">Cliente</div>
          <div>${t.clienteNome}</div>
        </div>
        <div class="info-section">
          <div class="info-title">Data do Pedido</div>
          <div>${new Date(t.dataPedido).toLocaleDateString("pt-BR")}</div>
        </div>
        ${t.dataEntrega?`
        <div class="info-section">
          <div class="info-title">Data de Entrega</div>
          <div>${new Date(t.dataEntrega).toLocaleDateString("pt-BR")}</div>
        </div>
        `:""}
        <div class="info-section">
          <div class="info-title">Status</div>
          <div class="status status-${t.status}">
            ${d6(t.status)}
          </div>
        </div>
      </div>

      <table class="itens-table">
        <thead>
          <tr>
            <th>Produto</th>
            <th>Quantidade</th>
            <th>Preo Unitrio</th>
            <th>Subtotal</th>
          </tr>
        </thead>
        <tbody>
          ${t.itens.map(r=>`
            <tr>
              <td>${r.produtoNome}</td>
              <td class="text-right">${r.quantidade}</td>
              <td class="text-right">R$ ${r.precoUnitario.toFixed(2)}</td>
              <td class="text-right">R$ ${r.subtotal.toFixed(2)}</td>
            </tr>
          `).join("")}
          <tr class="total-row">
            <td colspan="3">TOTAL GERAL</td>
            <td class="text-right">R$ ${t.total.toFixed(2)}</td>
          </tr>
        </tbody>
      </table>

      ${t.observacoes?`
      <div class="observacoes">
        <div class="info-title">Observaes</div>
        <div>${t.observacoes}</div>
      </div>
      `:""}

      <div class="footer">
        <p>Documento gerado em ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}</p>
        <p>MONDINI PLASTICOS ESPECIAIS</p>
        <p>Avenida Coronel Antonio Estanislau do Amaral, 544 - B. Itaici			
  CNPJ: 39.694.722/0001-29 - IE: 353.439.082.115 - TELEFONE (19) 97403-9792			
        </p>
      </div>
    </body>
    </html>
  `;e.document.write(n),e.document.close(),e.onload=()=>{setTimeout(()=>{e.print(),e.close()},100)}},d6=t=>{switch(t){case"pendente":return"Pendente";case"processando":return"Processando";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return t}};function I_(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(""),[u,c]=v.useState(!1),[h,p]=v.useState(null),[f,w]=v.useState({clienteId:"",dataEntrega:"",status:"pendente",observacoes:""}),[T,y]=v.useState([]),[E,_]=v.useState({produtoId:"",quantidade:1}),g=async()=>{const F=an(Qe,"clientes"),U=(await hr(F)).docs.map(K=>({id:K.id,...K.data()}));e(U)},b=async()=>{const F=an(Qe,"produtos"),M=await hr(F),U=[];for(const K of M.docs){const H=K.data(),Q=an(Qe,`produtos/${K.id}/bags`),fe=(await hr(Q)).docs.map(be=>{var le;return{id:be.id,pesoKg:be.data().pesoKg,status:be.data().status,criadoEm:((le=be.data().criadoEm)==null?void 0:le.toDate())??new Date,produtoId:K.id}});U.push({id:K.id,nomeProd:H.nomeProd,precoPorKg:H.precoPorKg,bags:fe})}r(U)},A=async()=>{const F=an(Qe,"pedidos"),U=(await hr(p5(F,m5("dataPedido","desc")))).docs.map(K=>{const H=K.data();return{id:K.id,clienteId:H.clienteId,clienteNome:H.clienteNome,dataPedido:H.dataPedido,dataEntrega:H.dataEntrega||void 0,status:H.status,itens:H.itens,total:H.total,observacoes:H.observacoes||""}});i(U)};v.useEffect(()=>{g(),b(),A()},[]);const O=()=>{w({clienteId:"",dataEntrega:"",status:"pendente",observacoes:""}),y([]),_({produtoId:"",quantidade:1}),p(null)},V=(F,M)=>{const U=n.find(X=>X.id===F);if(!U)return{podeVender:!1,bagsUsadas:[]};const K=U.bags.filter(X=>X.status==="disponivel"&&X.pesoKg>0).sort((X,fe)=>X.criadoEm.getTime()-fe.criadoEm.getTime());let H=M;const Q=[];for(const X of K){if(H<=0)break;if(X.pesoKg>=H){Q.push({bagId:X.id,pesoUsado:H}),H=0;break}else Q.push({bagId:X.id,pesoUsado:X.pesoKg}),H-=X.pesoKg}return{podeVender:H===0,bagsUsadas:Q}},I=()=>{if(!E.produtoId)return;const F=n.find(Q=>Q.id===E.produtoId);if(!F)return;const M=E.quantidade;if(M<=0)return;const{podeVender:U,bagsUsadas:K}=V(F.id,M);if(!U){alert("Peso solicitado excede estoque disponvel nas bags do produto.");return}const H=T.find(Q=>Q.produtoId===F.id);if(H){const Q=H.quantidade+M,{podeVender:X,bagsUsadas:fe}=V(F.id,Q);if(!X){alert("Peso solicitado excede estoque disponvel considerando o item j adicionado.");return}y(be=>be.map(le=>le.produtoId===F.id?{...le,quantidade:Q,subtotal:Q*le.precoUnitario,bagsUsadas:fe}:le))}else{const Q={id:Date.now().toString(),produtoId:F.id,produtoNome:F.nomeProd,quantidade:M,precoUnitario:F.precoPorKg,subtotal:M*F.precoPorKg,bagsUsadas:K};y(X=>[...X,Q])}_({produtoId:"",quantidade:1})},C=F=>{y(M=>M.filter(U=>U.id!==F))},R=()=>T.reduce((F,M)=>F+M.subtotal,0),S=async()=>{var M;if(!f.clienteId||T.length===0){alert("Selecione um cliente e adicione pelo menos um item.");return}const F=t.find(U=>U.id===f.clienteId);if(!F){alert("Cliente invlido.");return}try{for(const K of T)for(const H of K.bagsUsadas){const Q=Kn(Qe,"produtos",K.produtoId,"bags",H.bagId),X=await hr(an(Qe,`produtos/${K.produtoId}/bags`)),fe=(M=n.find(se=>se.id===K.produtoId))==null?void 0:M.bags,be=fe==null?void 0:fe.find(se=>se.id===H.bagId);if(!be)continue;const le=be.pesoKg-H.pesoUsado;await da(Q,{pesoKg:le>0?le:0,status:le<=0?"vendido":"disponivel"})}const U={clienteId:F.id,clienteNome:F.nome,dataPedido:new Date().toISOString().split("T")[0],dataEntrega:f.dataEntrega||void 0,status:f.status,itens:T,total:R(),observacoes:f.observacoes};if(h){const K=Kn(Qe,"pedidos",h.id);await da(K,U)}else{const K=an(Qe,"pedidos");await eh(K,U)}alert("Pedido salvo com sucesso!"),c(!1),O(),b(),A()}catch(U){console.error(U),alert("Erro ao salvar pedido.")}},k=F=>{p(F),w({clienteId:F.clienteId,dataEntrega:F.dataEntrega||"",status:F.status,observacoes:F.observacoes||""}),y(F.itens),c(!0)},D=async F=>{if(confirm("Tem certeza que quer excluir esse pedido permanentemente?"))try{await Zd(Kn(Qe,"pedidos",F)),A()}catch(M){alert("Erro ao excluir pedido."),console.error(M)}},N=F=>{c6(F)},W=s.filter(F=>F.clienteNome.toLowerCase().includes(o.toLowerCase())||F.id.toLowerCase().includes(o.toLowerCase())),ie=F=>{switch(F){case"pendente":return"bg-yellow-100 text-yellow-800";case"processando":return"bg-blue-100 text-blue-800";case"concluido":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800"}},J=F=>{switch(F){case"pendente":return"Pendente";case"processando":return"Processando";case"concluido":return"Concludo";case"cancelado":return"Cancelado"}};return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pedidos"}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie os pedidos dos clientes"})]}),d.jsxs(au,{open:u,onOpenChange:c,children:[d.jsx(ef,{asChild:!0,children:d.jsxs(Ve,{onClick:()=>{O()},children:[d.jsx(NT,{className:"w-4 h-4 mr-2"}),"Novo Pedido"]})}),d.jsxs(ha,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsx(fa,{children:d.jsx(pa,{children:h?"Editar Pedido":"Novo Pedido"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"cliente",children:"Cliente *"}),d.jsxs(vp,{value:f.clienteId,onValueChange:F=>w({...f,clienteId:F}),children:[d.jsx(Zc,{children:d.jsx(yp,{placeholder:"Selecione um cliente"})}),d.jsx(ed,{children:t.map(F=>d.jsx(gi,{value:F.id,children:F.nome},F.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"dataEntrega",children:"Data de Entrega"}),d.jsx(Ye,{type:"date",value:f.dataEntrega,onChange:F=>w({...f,dataEntrega:F.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(it,{htmlFor:"status",children:"Status"}),d.jsxs(vp,{value:f.status,onValueChange:F=>w({...f,status:F}),children:[d.jsx(Zc,{children:d.jsx(yp,{})}),d.jsxs(ed,{children:[d.jsx(gi,{value:"pendente",children:"Pendente"}),d.jsx(gi,{value:"processando",children:"Processando"}),d.jsx(gi,{value:"concluido",children:"Concludo"}),d.jsx(gi,{value:"cancelado",children:"Cancelado"})]})]})]}),d.jsxs("div",{className:"space-y-2 col-span-2",children:[d.jsx(it,{htmlFor:"observacoes",children:"Observaes"}),d.jsx(II,{value:f.observacoes,onChange:F=>w({...f,observacoes:F.target.value}),placeholder:"Observaes sobre o pedido"})]})]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Itens do Pedido"}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsxs(vp,{value:E.produtoId,onValueChange:F=>_({...E,produtoId:F}),children:[d.jsx(Zc,{className:"flex-1",children:d.jsx(yp,{placeholder:"Selecione um produto"})}),d.jsx(ed,{children:n.map(F=>{const M=F.bags.filter(U=>U.status==="disponivel").reduce((U,K)=>U+K.pesoKg,0);return d.jsxs(gi,{value:F.id,children:[F.nomeProd," - R$ ",F.precoPorKg.toFixed(2)," /kg -"," ",d.jsxs("span",{className:"font-bold text-green-600",children:["Disponvel: ",M.toFixed(2)," kg"]})]},F.id)})})]}),d.jsx(Ye,{type:"number",min:.01,step:.01,value:E.quantidade===0?"":E.quantidade,onChange:F=>{const M=F.target.value;_({...E,quantidade:M===""?0:parseFloat(M)})},placeholder:"Peso (kg)",className:"w-32"}),d.jsx(Ve,{onClick:I,disabled:!E.produtoId||E.quantidade<=0,children:"Adicionar"})]}),T.length>0&&d.jsxs(lu,{children:[d.jsx(uu,{children:d.jsxs(fr,{children:[d.jsx(at,{children:"Produto"}),d.jsx(at,{children:"Quantidade (kg)"}),d.jsx(at,{children:"Preo Unitrio"}),d.jsx(at,{children:"Subtotal"}),d.jsx(at,{className:"text-right",children:"Aes"})]})}),d.jsxs(cu,{children:[T.map(F=>d.jsxs(fr,{children:[d.jsx(Ke,{children:F.produtoNome}),d.jsx(Ke,{children:F.quantidade.toFixed(2)}),d.jsxs(Ke,{children:["R$ ",F.precoUnitario.toFixed(2)]}),d.jsxs(Ke,{children:["R$ ",F.subtotal.toFixed(2)]}),d.jsx(Ke,{className:"text-right",children:d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>C(F.id),children:d.jsx(ql,{className:"w-4 h-4"})})})]},F.id)),d.jsxs(fr,{children:[d.jsx(Ke,{colSpan:3,className:"font-medium",children:"Total"}),d.jsxs(Ke,{className:"font-bold",children:["R$ ",R().toFixed(2)]}),d.jsx(Ke,{})]})]})]})]})]}),d.jsxs(th,{className:"flex justify-end gap-2 mt-4",children:[d.jsx(Ve,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),d.jsx(Ve,{onClick:S,disabled:!f.clienteId||T.length===0,children:h?"Atualizar":"Salvar"})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs(vn,{children:[d.jsxs(Nn,{className:"flex justify-between pb-2",children:[d.jsx(pr,{className:"text-sm font-medium",children:"Total de Pedidos"}),d.jsx(Cd,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(yn,{children:d.jsx("div",{className:"text-2xl font-bold",children:s.length})})]}),d.jsxs(vn,{children:[d.jsxs(Nn,{className:"flex justify-between pb-2",children:[d.jsx(pr,{className:"text-sm font-medium",children:"Pendentes"}),d.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(yn,{children:d.jsx("div",{className:"text-2xl font-bold",children:s.filter(F=>F.status==="pendente").length})})]}),d.jsxs(vn,{children:[d.jsxs(Nn,{className:"flex justify-between pb-2",children:[d.jsx(pr,{className:"text-sm font-medium",children:"Em Processamento"}),d.jsx(hv,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(yn,{children:d.jsx("div",{className:"text-2xl font-bold",children:s.filter(F=>F.status==="processando").length})})]}),d.jsxs(vn,{children:[d.jsxs(Nn,{className:"flex justify-between pb-2",children:[d.jsx(pr,{className:"text-sm font-medium",children:"Valor Total"}),d.jsx(Cd,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(yn,{children:d.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",s.reduce((F,M)=>F+M.total,0).toFixed(2)]})})]})]}),d.jsxs(vn,{children:[d.jsx(Nn,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fv,{className:"w-4 h-4"}),d.jsx(Ye,{placeholder:"Buscar por cliente ou nmero do pedido...",value:o,onChange:F=>a(F.target.value),className:"max-w-sm"})]})}),d.jsx(yn,{children:d.jsxs(lu,{children:[d.jsx(uu,{children:d.jsxs(fr,{children:[d.jsx(at,{children:"Pedido"}),d.jsx(at,{children:"Cliente"}),d.jsx(at,{children:"Data"}),d.jsx(at,{children:"Status"}),d.jsx(at,{children:"Total"}),d.jsx(at,{className:"text-right",children:"Aes"})]})}),d.jsx(cu,{children:W.map(F=>d.jsxs(fr,{children:[d.jsxs(Ke,{className:"font-medium",children:["#",F.id]}),d.jsx(Ke,{children:F.clienteNome}),d.jsx(Ke,{children:new Date(F.dataPedido).toLocaleDateString()}),d.jsx(Ke,{children:d.jsx(td,{className:ie(F.status),children:J(F.status)})}),d.jsxs(Ke,{children:["R$ ",F.total.toFixed(2)]}),d.jsx(Ke,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>N(F),title:"Gerar PDF",children:d.jsx(lN,{className:"w-4 h-4"})}),d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>k(F),title:"Editar",children:d.jsx(pv,{className:"w-4 h-4"})}),d.jsx(Ve,{variant:"destructive",size:"sm",onClick:()=>D(F.id),title:"Excluir permanentemente",children:d.jsx(ql,{className:"w-4 h-4"})})]})})]},F.id))})]})})]})]})}const h6=()=>{const t=Yi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Eita, parece que deu algo errado! :("}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Retornar ao incio"})]})})};function f6(){const[t,e]=v.useState([]),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,a]=v.useState(""),[u,c]=v.useState("disponivel"),h=async()=>{const T=an(Qe,"produtos"),y=await hr(T),E=[];for(const _ of y.docs){const g=_.data(),b=an(Qe,`produtos/${_.id}/bags`),O=(await hr(b)).docs.map(V=>{var I;return{id:V.id,produtoId:_.id,pesoKg:V.data().pesoKg,status:V.data().status,criadoEm:((I=V.data().criadoEm)==null?void 0:I.toDate())??new Date}});E.push({id:_.id,nomeProd:g.nomeProd,precoPorKg:g.precoPorKg,bags:O})}e(E)};v.useEffect(()=>{h()},[]);const p=T=>{switch(T){case"disponivel":return d.jsx(td,{className:"bg-green-100 text-green-800",children:"Disponvel"});case"reservado":return d.jsx(td,{className:"bg-yellow-100 text-yellow-800",children:"Reservado"});case"vendido":return d.jsx(td,{className:"bg-red-100 text-red-800",children:"Vendido"})}},f=T=>{i(T),a(T.pesoKg.toString()),c(T.status)},w=async()=>{if(!s||!n)return;const T=Kn(Qe,"produtos",s.produtoId,"bags",s.id);await da(T,{pesoKg:parseFloat(o),status:u}),await h(),i(null)};return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Estoque"}),d.jsx("p",{className:"text-gray-500",children:"Visualize os produtos e suas bags em estoque"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(T=>{const y=T.bags.filter(_=>_.status==="disponivel").reduce((_,g)=>_+g.pesoKg,0),E=y<10;return d.jsxs(au,{children:[d.jsx(ef,{asChild:!0,children:d.jsxs(vn,{onClick:()=>r(T),className:`cursor-pointer transition hover:shadow-md ${E?"border-red-500 border-2":""}`,children:[d.jsx(Nn,{children:d.jsx(pr,{children:T.nomeProd})}),d.jsxs(yn,{children:[d.jsxs("p",{className:"text-sm text-gray-600",children:["Preo: ",d.jsxs("strong",{children:["R$ ",T.precoPorKg.toFixed(2),"/kg"]})]}),d.jsxs("p",{className:`text-sm ${E?"text-red-600":"text-gray-600"}`,children:["Estoque disponvel:"," ",d.jsxs("strong",{children:[y.toFixed(2)," kg"]})]}),d.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Total de bags: ",T.bags.length]})]})]})}),d.jsxs(ha,{className:"max-w-3xl",children:[d.jsx(fa,{children:d.jsxs(pa,{children:[T.nomeProd," - Detalhes das Bags"]})}),d.jsxs(lu,{children:[d.jsx(uu,{children:d.jsxs(fr,{children:[d.jsx(at,{children:"ID"}),d.jsx(at,{children:"Peso (kg)"}),d.jsx(at,{children:"Status"}),d.jsx(at,{children:"Criada em"}),d.jsx(at,{children:"Aes"})]})}),d.jsx(cu,{children:n==null?void 0:n.bags.map(_=>d.jsxs(fr,{children:[d.jsx(Ke,{children:_.id}),d.jsx(Ke,{children:_.pesoKg.toFixed(2)}),d.jsx(Ke,{children:p(_.status)}),d.jsx(Ke,{children:new Date(_.criadoEm).toLocaleDateString()}),d.jsx(Ke,{children:d.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>f(_),children:"Editar"})})]},_.id))})]}),s&&d.jsxs("div",{className:"mt-6 space-y-4 border-t pt-4",children:[d.jsxs("h3",{className:"font-semibold text-gray-700",children:["Editando Bag: ",s.id]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Peso (kg)"}),d.jsx(Ye,{type:"number",value:o,onChange:_=>a(_.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),d.jsxs("select",{value:u,onChange:_=>c(_.target.value),className:"w-full border rounded px-3 py-2 text-sm",children:[d.jsx("option",{value:"disponivel",children:"Disponvel"}),d.jsx("option",{value:"reservado",children:"Reservado"}),d.jsx("option",{value:"vendido",children:"Vendido"})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ve,{variant:"ghost",onClick:()=>i(null),children:"Cancelar"}),d.jsx(Ve,{onClick:w,children:"Salvar"})]})]})]})]},T.id)})})]})}const p6=new gO,m6=()=>d.jsx(_O,{client:p6,children:d.jsxs(wb,{children:[d.jsx(GN,{}),d.jsx(bk,{}),d.jsx(Rj,{children:d.jsx(vM,{children:d.jsxs(_j,{children:[d.jsx(os,{path:"/",element:d.jsx(I_,{})}),d.jsx(os,{path:"/clientes",element:d.jsx(A5,{})}),d.jsx(os,{path:"/produtos",element:d.jsx(N5,{})}),d.jsx(os,{path:"/estoque",element:d.jsx(f6,{})}),d.jsx(os,{path:"/pedidos",element:d.jsx(I_,{})}),d.jsx(os,{path:"/relatorios",element:d.jsx(_M,{})}),d.jsx(os,{path:"*",element:d.jsx(h6,{})})]})})})]})});ZE(document.getElementById("root")).render(d.jsx(m6,{}));
